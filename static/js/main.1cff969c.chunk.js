(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{217:function(e,n,t){e.exports=t(453)},222:function(e,n,t){},226:function(e,n,t){},229:function(e,n,t){},268:function(e,n,t){},316:function(e,n,t){},329:function(e,n,t){},330:function(e,n,t){},331:function(e,n,t){},334:function(e,n,t){},353:function(e,n,t){},354:function(e,n,t){},355:function(e,n,t){},453:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(10),i=t.n(o),s=(t(222),t(223),t(118)),l=t(11),u=t(13),c=t(25),d=t(23),p=t(24),h=t(37),w=(t(226),t(227),t(215)),m=(t(229),function(e){function n(){var e,t;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(c.a)(this,(e=Object(d.a)(n)).call.apply(e,[this].concat(a)))).state={hasError:!1},t}return Object(p.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){return this.state.hasError?a.a.createElement("div",{className:"ErrorBoundary-error"},a.a.createElement("div",null,a.a.createElement(w.a,{type:"error",message:"Something went wrong."}))):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(a.a.Component));function v(e){return function(){return a.a.createElement(m,null,a.a.createElement(e,null))}}t(266);var f=t(148),b=(t(268),t(162),t(117)),k=(t(194),t(81)),y=(t(103),t(38)),g=t(43),R=t(27),S=t(20),D=t.n(S),_=t(30),I=t(18),L=t(15),C=(t(61),t(200)),B=t.n(C),O=t(9),j=t(91),E=function(){function e(n,t,r,a,o,i,s){if(Object(l.a)(this,e),this.id=void 0,this.code=void 0,this.name=void 0,this.simpleName=void 0,this.ultimateName=void 0,this.episode=void 0,this.enemy=void 0,this.rareType=void 0,!Number.isInteger(n)||n<1)throw new Error("Expected id to be an integer greater than or equal to 1, got ".concat(n,"."));if(!t)throw new Error("code is required.");if(!r)throw new Error("name is required.");if(!a)throw new Error("simpleName is required.");if(!o)throw new Error("ultimateName is required.");if(null!=i&&1!==i&&2!==i&&4!==i)throw new Error("episode should be undefined, 1, 2 or 4, got ".concat(i,"."));if("boolean"!==typeof s)throw new Error("enemy is required.");if(this.id=n,this.code=t,this.simpleName=a,this.ultimateName=o,this.name=r,this.episode=i,this.enemy=s,i){var u=e.byEpAndName[i];u&&(u.set(a,this),u.set(o,this))}}return Object(u.a)(e,null,[{key:"byNameAndEpisode",value:function(e,n){return he(n),this.byEpAndName[n].get(e)}}]),e}();E.byEpAndName=[void 0,new Map,new Map,void 0,new Map],E.Unknown=void 0,E.FemaleFat=void 0,E.FemaleMacho=void 0,E.FemaleTall=void 0,E.MaleDwarf=void 0,E.MaleFat=void 0,E.MaleMacho=void 0,E.MaleOld=void 0,E.BlueSoldier=void 0,E.RedSoldier=void 0,E.Principal=void 0,E.Tekker=void 0,E.GuildLady=void 0,E.Scientist=void 0,E.Nurse=void 0,E.Irene=void 0,E.ItemShop=void 0,E.Nurse2=void 0,E.Hildebear=void 0,E.Hildeblue=void 0,E.RagRappy=void 0,E.AlRappy=void 0,E.Monest=void 0,E.Mothmant=void 0,E.SavageWolf=void 0,E.BarbarousWolf=void 0,E.Booma=void 0,E.Gobooma=void 0,E.Gigobooma=void 0,E.Dragon=void 0,E.GrassAssassin=void 0,E.PoisonLily=void 0,E.NarLily=void 0,E.NanoDragon=void 0,E.EvilShark=void 0,E.PalShark=void 0,E.GuilShark=void 0,E.PofuillySlime=void 0,E.PouillySlime=void 0,E.PanArms=void 0,E.Migium=void 0,E.Hidoom=void 0,E.DeRolLe=void 0,E.Dubchic=void 0,E.Gilchic=void 0,E.Garanz=void 0,E.SinowBeat=void 0,E.SinowGold=void 0,E.Canadine=void 0,E.Canane=void 0,E.Dubswitch=void 0,E.VolOpt=void 0,E.Delsaber=void 0,E.ChaosSorcerer=void 0,E.DarkGunner=void 0,E.DeathGunner=void 0,E.ChaosBringer=void 0,E.DarkBelra=void 0,E.Dimenian=void 0,E.LaDimenian=void 0,E.SoDimenian=void 0,E.Bulclaw=void 0,E.Bulk=void 0,E.Claw=void 0,E.DarkFalz=void 0,E.Hildebear2=void 0,E.Hildeblue2=void 0,E.RagRappy2=void 0,E.LoveRappy=void 0,E.StRappy=void 0,E.HalloRappy=void 0,E.EggRappy=void 0,E.Monest2=void 0,E.Mothmant2=void 0,E.PoisonLily2=void 0,E.NarLily2=void 0,E.GrassAssassin2=void 0,E.Dimenian2=void 0,E.LaDimenian2=void 0,E.SoDimenian2=void 0,E.DarkBelra2=void 0,E.BarbaRay=void 0,E.SavageWolf2=void 0,E.BarbarousWolf2=void 0,E.PanArms2=void 0,E.Migium2=void 0,E.Hidoom2=void 0,E.Dubchic2=void 0,E.Gilchic2=void 0,E.Garanz2=void 0,E.Dubswitch2=void 0,E.Delsaber2=void 0,E.ChaosSorcerer2=void 0,E.GolDragon=void 0,E.SinowBerill=void 0,E.SinowSpigell=void 0,E.Merillia=void 0,E.Meriltas=void 0,E.Mericarol=void 0,E.Mericus=void 0,E.Merikle=void 0,E.UlGibbon=void 0,E.ZolGibbon=void 0,E.Gibbles=void 0,E.Gee=void 0,E.GiGue=void 0,E.GalGryphon=void 0,E.Deldepth=void 0,E.Delbiter=void 0,E.Dolmolm=void 0,E.Dolmdarl=void 0,E.Morfos=void 0,E.Recobox=void 0,E.Recon=void 0,E.Epsilon=void 0,E.SinowZoa=void 0,E.SinowZele=void 0,E.IllGill=void 0,E.DelLily=void 0,E.OlgaFlow=void 0,E.SandRappy=void 0,E.DelRappy=void 0,E.Astark=void 0,E.SatelliteLizard=void 0,E.Yowie=void 0,E.MerissaA=void 0,E.MerissaAA=void 0,E.Girtablulu=void 0,E.Zu=void 0,E.Pazuzu=void 0,E.Boota=void 0,E.ZeBoota=void 0,E.BaBoota=void 0,E.Dorphon=void 0,E.DorphonEclair=void 0,E.Goran=void 0,E.PyroGoran=void 0,E.GoranDetonator=void 0,E.SaintMilion=void 0,E.Shambertin=void 0,E.Kondrieu=void 0,function(){var e=1;E.Unknown=new E(e++,"Unknown","Unknown","Unknown","Unknown",void 0,!1),E.FemaleFat=new E(e++,"FemaleFat","Female Fat","Female Fat","Female Fat",void 0,!1),E.FemaleMacho=new E(e++,"FemaleMacho","Female Macho","Female Macho","Female Macho",void 0,!1),E.FemaleTall=new E(e++,"FemaleTall","Female Tall","Female Tall","Female Tall",void 0,!1),E.MaleDwarf=new E(e++,"MaleDwarf","Male Dwarf","Male Dwarf","Male Dwarf",void 0,!1),E.MaleFat=new E(e++,"MaleFat","Male Fat","Male Fat","Male Fat",void 0,!1),E.MaleMacho=new E(e++,"MaleMacho","Male Macho","Male Macho","Male Macho",void 0,!1),E.MaleOld=new E(e++,"MaleOld","Male Old","Male Old","Male Old",void 0,!1),E.BlueSoldier=new E(e++,"BlueSoldier","Blue Soldier","Blue Soldier","Blue Soldier",void 0,!1),E.RedSoldier=new E(e++,"RedSoldier","Red Soldier","Red Soldier","Red Soldier",void 0,!1),E.Principal=new E(e++,"Principal","Principal","Principal","Principal",void 0,!1),E.Tekker=new E(e++,"Tekker","Tekker","Tekker","Tekker",void 0,!1),E.GuildLady=new E(e++,"GuildLady","Guild Lady","Guild Lady","Guild Lady",void 0,!1),E.Scientist=new E(e++,"Scientist","Scientist","Scientist","Scientist",void 0,!1),E.Nurse=new E(e++,"Nurse","Nurse","Nurse","Nurse",void 0,!1),E.Irene=new E(e++,"Irene","Irene","Irene","Irene",void 0,!1),E.ItemShop=new E(e++,"ItemShop","Item Shop","Item Shop","Item Shop",void 0,!1),E.Nurse2=new E(e++,"Nurse2","Nurse (Ep. II)","Nurse","Nurse",2,!1),E.Hildebear=new E(e++,"Hildebear","Hildebear","Hildebear","Hildelt",1,!0),E.Hildeblue=new E(e++,"Hildeblue","Hildeblue","Hildeblue","Hildetorr",1,!0),E.Hildebear.rareType=E.Hildeblue,E.RagRappy=new E(e++,"RagRappy","Rag Rappy","Rag Rappy","El Rappy",1,!0),E.AlRappy=new E(e++,"AlRappy","Al Rappy","Al Rappy","Pal Rappy",1,!0),E.RagRappy.rareType=E.AlRappy,E.Monest=new E(e++,"Monest","Monest","Monest","Mothvist",1,!0),E.Mothmant=new E(e++,"Mothmant","Mothmant","Mothmant","Mothvert",1,!0),E.SavageWolf=new E(e++,"SavageWolf","Savage Wolf","Savage Wolf","Gulgus",1,!0),E.BarbarousWolf=new E(e++,"BarbarousWolf","Barbarous Wolf","Barbarous Wolf","Gulgus-Gue",1,!0),E.Booma=new E(e++,"Booma","Booma","Booma","Bartle",1,!0),E.Gobooma=new E(e++,"Gobooma","Gobooma","Gobooma","Barble",1,!0),E.Gigobooma=new E(e++,"Gigobooma","Gigobooma","Gigobooma","Tollaw",1,!0),E.Dragon=new E(e++,"Dragon","Dragon","Dragon","Sil Dragon",1,!0),E.GrassAssassin=new E(e++,"GrassAssassin","Grass Assassin","Grass Assassin","Crimson Assassin",1,!0),E.PoisonLily=new E(e++,"PoisonLily","Poison Lily","Poison Lily","Ob Lily",1,!0),E.NarLily=new E(e++,"NarLily","Nar Lily","Nar Lily","Mil Lily",1,!0),E.PoisonLily.rareType=E.NarLily,E.NanoDragon=new E(e++,"NanoDragon","Nano Dragon","Nano Dragon","Nano Dragon",1,!0),E.EvilShark=new E(e++,"EvilShark","Evil Shark","Evil Shark","Vulmer",1,!0),E.PalShark=new E(e++,"PalShark","Pal Shark","Pal Shark","Govulmer",1,!0),E.GuilShark=new E(e++,"GuilShark","Guil Shark","Guil Shark","Melqueek",1,!0),E.PofuillySlime=new E(e++,"PofuillySlime","Pofuilly Slime","Pofuilly Slime","Pofuilly Slime",1,!0),E.PouillySlime=new E(e++,"PouillySlime","Pouilly Slime","Pouilly Slime","Pouilly Slime",1,!0),E.PofuillySlime.rareType=E.PouillySlime,E.PanArms=new E(e++,"PanArms","Pan Arms","Pan Arms","Pan Arms",1,!0),E.Migium=new E(e++,"Migium","Migium","Migium","Migium",1,!0),E.Hidoom=new E(e++,"Hidoom","Hidoom","Hidoom","Hidoom",1,!0),E.DeRolLe=new E(e++,"DeRolLe","De Rol Le","De Rol Le","Dal Ra Lie",1,!0),E.Dubchic=new E(e++,"Dubchic","Dubchic","Dubchic","Dubchich",1,!0),E.Gilchic=new E(e++,"Gilchic","Gilchic","Gilchic","Gilchich",1,!0),E.Garanz=new E(e++,"Garanz","Garanz","Garanz","Baranz",1,!0),E.SinowBeat=new E(e++,"SinowBeat","Sinow Beat","Sinow Beat","Sinow Blue",1,!0),E.SinowGold=new E(e++,"SinowGold","Sinow Gold","Sinow Gold","Sinow Red",1,!0),E.Canadine=new E(e++,"Canadine","Canadine","Canadine","Canabin",1,!0),E.Canane=new E(e++,"Canane","Canane","Canane","Canune",1,!0),E.Dubswitch=new E(e++,"Dubswitch","Dubswitch","Dubswitch","Dubswitch",1,!0),E.VolOpt=new E(e++,"VolOpt","Vol Opt","Vol Opt","Vol Opt ver.2",1,!0),E.Delsaber=new E(e++,"Delsaber","Delsaber","Delsaber","Delsaber",1,!0),E.ChaosSorcerer=new E(e++,"ChaosSorcerer","Chaos Sorcerer","Chaos Sorcerer","Gran Sorcerer",1,!0),E.DarkGunner=new E(e++,"DarkGunner","Dark Gunner","Dark Gunner","Dark Gunner",1,!0),E.DeathGunner=new E(e++,"DeathGunner","Death Gunner","Death Gunner","Death Gunner",1,!0),E.ChaosBringer=new E(e++,"ChaosBringer","Chaos Bringer","Chaos Bringer","Dark Bringer",1,!0),E.DarkBelra=new E(e++,"DarkBelra","Dark Belra","Dark Belra","Indi Belra",1,!0),E.Dimenian=new E(e++,"Dimenian","Dimenian","Dimenian","Arlan",1,!0),E.LaDimenian=new E(e++,"LaDimenian","La Dimenian","La Dimenian","Merlan",1,!0),E.SoDimenian=new E(e++,"SoDimenian","So Dimenian","So Dimenian","Del-D",1,!0),E.Bulclaw=new E(e++,"Bulclaw","Bulclaw","Bulclaw","Bulclaw",1,!0),E.Bulk=new E(e++,"Bulk","Bulk","Bulk","Bulk",1,!0),E.Claw=new E(e++,"Claw","Claw","Claw","Claw",1,!0),E.DarkFalz=new E(e++,"DarkFalz","Dark Falz","Dark Falz","Dark Falz",1,!0),E.Hildebear2=new E(e++,"Hildebear2","Hildebear (Ep. II)","Hildebear","Hildelt",2,!0),E.Hildeblue2=new E(e++,"Hildeblue2","Hildeblue (Ep. II)","Hildeblue","Hildetorr",2,!0),E.Hildebear2.rareType=E.Hildeblue2,E.RagRappy2=new E(e++,"RagRappy2","Rag Rappy (Ep. II)","Rag Rappy","El Rappy",2,!0),E.LoveRappy=new E(e++,"LoveRappy","Love Rappy","Love Rappy","Love Rappy",2,!0),E.RagRappy2.rareType=E.LoveRappy,E.StRappy=new E(e++,"StRappy","St. Rappy","St. Rappy","St. Rappy",2,!0),E.HalloRappy=new E(e++,"HalloRappy","Hallo Rappy","Hallo Rappy","Hallo Rappy",2,!0),E.EggRappy=new E(e++,"EggRappy","Egg Rappy","Egg Rappy","Egg Rappy",2,!0),E.Monest2=new E(e++,"Monest2","Monest (Ep. II)","Monest","Mothvist",2,!0),E.Mothmant2=new E(e++,"Mothmant2","Mothmant","Mothmant","Mothvert",2,!0),E.PoisonLily2=new E(e++,"PoisonLily2","Poison Lily (Ep. II)","Poison Lily","Ob Lily",2,!0),E.NarLily2=new E(e++,"NarLily2","Nar Lily (Ep. II)","Nar Lily","Mil Lily",2,!0),E.PoisonLily2.rareType=E.NarLily2,E.GrassAssassin2=new E(e++,"GrassAssassin2","Grass Assassin (Ep. II)","Grass Assassin","Crimson Assassin",2,!0),E.Dimenian2=new E(e++,"Dimenian2","Dimenian (Ep. II)","Dimenian","Arlan",2,!0),E.LaDimenian2=new E(e++,"LaDimenian2","La Dimenian (Ep. II)","La Dimenian","Merlan",2,!0),E.SoDimenian2=new E(e++,"SoDimenian2","So Dimenian (Ep. II)","So Dimenian","Del-D",2,!0),E.DarkBelra2=new E(e++,"DarkBelra2","Dark Belra (Ep. II)","Dark Belra","Indi Belra",2,!0),E.BarbaRay=new E(e++,"BarbaRay","Barba Ray","Barba Ray","Barba Ray",2,!0),E.SavageWolf2=new E(e++,"SavageWolf2","Savage Wolf (Ep. II)","Savage Wolf","Gulgus",2,!0),E.BarbarousWolf2=new E(e++,"BarbarousWolf2","Barbarous Wolf (Ep. II)","Barbarous Wolf","Gulgus-Gue",2,!0),E.PanArms2=new E(e++,"PanArms2","Pan Arms (Ep. II)","Pan Arms","Pan Arms",2,!0),E.Migium2=new E(e++,"Migium2","Migium (Ep. II)","Migium","Migium",2,!0),E.Hidoom2=new E(e++,"Hidoom2","Hidoom (Ep. II)","Hidoom","Hidoom",2,!0),E.Dubchic2=new E(e++,"Dubchic2","Dubchic (Ep. II)","Dubchic","Dubchich",2,!0),E.Gilchic2=new E(e++,"Gilchic2","Gilchic (Ep. II)","Gilchic","Gilchich",2,!0),E.Garanz2=new E(e++,"Garanz2","Garanz (Ep. II)","Garanz","Baranz",2,!0),E.Dubswitch2=new E(e++,"Dubswitch2","Dubswitch (Ep. II)","Dubswitch","Dubswitch",2,!0),E.Delsaber2=new E(e++,"Delsaber2","Delsaber (Ep. II)","Delsaber","Delsaber",2,!0),E.ChaosSorcerer2=new E(e++,"ChaosSorcerer2","Chaos Sorcerer (Ep. II)","Chaos Sorcerer","Gran Sorcerer",2,!0),E.GolDragon=new E(e++,"GolDragon","Gol Dragon","Gol Dragon","Gol Dragon",2,!0),E.SinowBerill=new E(e++,"SinowBerill","Sinow Berill","Sinow Berill","Sinow Berill",2,!0),E.SinowSpigell=new E(e++,"SinowSpigell","Sinow Spigell","Sinow Spigell","Sinow Spigell",2,!0),E.Merillia=new E(e++,"Merillia","Merillia","Merillia","Merillia",2,!0),E.Meriltas=new E(e++,"Meriltas","Meriltas","Meriltas","Meriltas",2,!0),E.Mericarol=new E(e++,"Mericarol","Mericarol","Mericarol","Mericarol",2,!0),E.Mericus=new E(e++,"Mericus","Mericus","Mericus","Mericus",2,!0),E.Merikle=new E(e++,"Merikle","Merikle","Merikle","Merikle",2,!0),E.UlGibbon=new E(e++,"UlGibbon","Ul Gibbon","Ul Gibbon","Ul Gibbon",2,!0),E.ZolGibbon=new E(e++,"ZolGibbon","Zol Gibbon","Zol Gibbon","Zol Gibbon",2,!0),E.Gibbles=new E(e++,"Gibbles","Gibbles","Gibbles","Gibbles",2,!0),E.Gee=new E(e++,"Gee","Gee","Gee","Gee",2,!0),E.GiGue=new E(e++,"GiGue","Gi Gue","Gi Gue","Gi Gue",2,!0),E.GalGryphon=new E(e++,"GalGryphon","Gal Gryphon","Gal Gryphon","Gal Gryphon",2,!0),E.Deldepth=new E(e++,"Deldepth","Deldepth","Deldepth","Deldepth",2,!0),E.Delbiter=new E(e++,"Delbiter","Delbiter","Delbiter","Delbiter",2,!0),E.Dolmolm=new E(e++,"Dolmolm","Dolmolm","Dolmolm","Dolmolm",2,!0),E.Dolmdarl=new E(e++,"Dolmdarl","Dolmdarl","Dolmdarl","Dolmdarl",2,!0),E.Morfos=new E(e++,"Morfos","Morfos","Morfos","Morfos",2,!0),E.Recobox=new E(e++,"Recobox","Recobox","Recobox","Recobox",2,!0),E.Recon=new E(e++,"Recon","Recon","Recon","Recon",2,!0),E.Epsilon=new E(e++,"Epsilon","Epsilon","Epsilon","Epsilon",2,!0),E.SinowZoa=new E(e++,"SinowZoa","Sinow Zoa","Sinow Zoa","Sinow Zoa",2,!0),E.SinowZele=new E(e++,"SinowZele","Sinow Zele","Sinow Zele","Sinow Zele",2,!0),E.IllGill=new E(e++,"IllGill","Ill Gill","Ill Gill","Ill Gill",2,!0),E.DelLily=new E(e++,"DelLily","Del Lily","Del Lily","Del Lily",2,!0),E.OlgaFlow=new E(e++,"OlgaFlow","Olga Flow","Olga Flow","Olga Flow",2,!0),E.SandRappy=new E(e++,"SandRappy","Sand Rappy","Sand Rappy","Sand Rappy",4,!0),E.DelRappy=new E(e++,"DelRappy","Del Rappy","Del Rappy","Del Rappy",4,!0),E.SandRappy.rareType=E.DelRappy,E.Astark=new E(e++,"Astark","Astark","Astark","Astark",4,!0),E.SatelliteLizard=new E(e++,"SatelliteLizard","Satellite Lizard","Satellite Lizard","Satellite Lizard",4,!0),E.Yowie=new E(e++,"Yowie","Yowie","Yowie","Yowie",4,!0),E.MerissaA=new E(e++,"MerissaA","Merissa A","Merissa A","Merissa A",4,!0),E.MerissaAA=new E(e++,"MerissaAA","Merissa AA","Merissa AA","Merissa AA",4,!0),E.MerissaA.rareType=E.MerissaAA,E.Girtablulu=new E(e++,"Girtablulu","Girtablulu","Girtablulu","Girtablulu",4,!0),E.Zu=new E(e++,"Zu","Zu","Zu","Zu",4,!0),E.Pazuzu=new E(e++,"Pazuzu","Pazuzu","Pazuzu","Pazuzu",4,!0),E.Zu.rareType=E.Pazuzu,E.Boota=new E(e++,"Boota","Boota","Boota","Boota",4,!0),E.ZeBoota=new E(e++,"ZeBoota","Ze Boota","Ze Boota","Ze Boota",4,!0),E.BaBoota=new E(e++,"BaBoota","Ba Boota","Ba Boota","Ba Boota",4,!0),E.Dorphon=new E(e++,"Dorphon","Dorphon","Dorphon","Dorphon",4,!0),E.DorphonEclair=new E(e++,"DorphonEclair","Dorphon Eclair","Dorphon Eclair","Dorphon Eclair",4,!0),E.Dorphon.rareType=E.DorphonEclair,E.Goran=new E(e++,"Goran","Goran","Goran","Goran",4,!0),E.PyroGoran=new E(e++,"PyroGoran","Pyro Goran","Pyro Goran","Pyro Goran",4,!0),E.GoranDetonator=new E(e++,"GoranDetonator","Goran Detonator","Goran Detonator","Goran Detonator",4,!0),E.SaintMilion=new E(e++,"SaintMilion","Saint-Milion","Saint-Milion","Saint-Milion",4,!0),E.Shambertin=new E(e++,"Shambertin","Shambertin","Shambertin","Shambertin",4,!0),E.Kondrieu=new E(e++,"Kondrieu","Kondrieu","Kondrieu","Kondrieu",4,!0),E.SaintMilion.rareType=E.Kondrieu,E.Shambertin.rareType=E.Kondrieu}();var M=[E.Unknown,E.FemaleFat,E.FemaleMacho,E.FemaleTall,E.MaleDwarf,E.MaleFat,E.MaleMacho,E.MaleOld,E.BlueSoldier,E.RedSoldier,E.Principal,E.Tekker,E.GuildLady,E.Scientist,E.Nurse,E.Irene,E.ItemShop,E.Nurse2,E.Hildebear,E.Hildeblue,E.RagRappy,E.AlRappy,E.Monest,E.Mothmant,E.SavageWolf,E.BarbarousWolf,E.Booma,E.Gobooma,E.Gigobooma,E.Dragon,E.GrassAssassin,E.PoisonLily,E.NarLily,E.NanoDragon,E.EvilShark,E.PalShark,E.GuilShark,E.PofuillySlime,E.PouillySlime,E.PanArms,E.Migium,E.Hidoom,E.DeRolLe,E.Dubchic,E.Gilchic,E.Garanz,E.SinowBeat,E.SinowGold,E.Canadine,E.Canane,E.Dubswitch,E.VolOpt,E.Delsaber,E.ChaosSorcerer,E.DarkGunner,E.DeathGunner,E.ChaosBringer,E.DarkBelra,E.Dimenian,E.LaDimenian,E.SoDimenian,E.Bulclaw,E.Bulk,E.Claw,E.DarkFalz,E.Hildebear2,E.Hildeblue2,E.RagRappy2,E.LoveRappy,E.StRappy,E.HalloRappy,E.EggRappy,E.Monest2,E.Mothmant2,E.PoisonLily2,E.NarLily2,E.GrassAssassin2,E.Dimenian2,E.LaDimenian2,E.SoDimenian2,E.DarkBelra2,E.BarbaRay,E.SavageWolf2,E.BarbarousWolf2,E.PanArms2,E.Migium2,E.Hidoom2,E.Dubchic2,E.Gilchic2,E.Garanz2,E.Dubswitch2,E.Delsaber2,E.ChaosSorcerer2,E.GolDragon,E.SinowBerill,E.SinowSpigell,E.Merillia,E.Meriltas,E.Mericarol,E.Mericus,E.Merikle,E.UlGibbon,E.ZolGibbon,E.Gibbles,E.Gee,E.GiGue,E.GalGryphon,E.Deldepth,E.Delbiter,E.Dolmolm,E.Dolmdarl,E.Morfos,E.Recobox,E.Recon,E.Epsilon,E.SinowZoa,E.SinowZele,E.IllGill,E.DelLily,E.OlgaFlow,E.SandRappy,E.DelRappy,E.Astark,E.SatelliteLizard,E.Yowie,E.MerissaA,E.MerissaAA,E.Girtablulu,E.Zu,E.Pazuzu,E.Boota,E.ZeBoota,E.BaBoota,E.Dorphon,E.DorphonEclair,E.Goran,E.PyroGoran,E.GoranDetonator,E.SaintMilion,E.Shambertin,E.Kondrieu].filter(function(e){return e.enemy}),x=function(){function e(n,t,r){if(Object(l.a)(this,e),this.id=void 0,this.psoId=void 0,this.name=void 0,!Number.isInteger(n)||n<1)throw new Error("Expected id to be an integer greater than or equal to 1, got ".concat(n,"."));if(null!=t&&(!Number.isInteger(t)||t<0))throw new Error("Expected psoId to be null or an integer greater than or equal to 0, got ".concat(t,"."));if(!r)throw new Error("name is required.");this.id=n,this.psoId=t,this.name=r}return Object(u.a)(e,null,[{key:"fromPsoId",value:function(n){switch(n){default:return e.Unknown;case 0:return e.PlayerSet;case 1:return e.Particle;case 2:return e.Teleporter;case 3:return e.Warp;case 4:return e.LightCollision;case 5:return e.Item;case 6:return e.EnvSound;case 7:return e.FogCollision;case 8:return e.EventCollision;case 9:return e.CharaCollision;case 10:return e.ElementalTrap;case 11:return e.StatusTrap;case 12:return e.HealTrap;case 13:return e.LargeElementalTrap;case 14:return e.ObjRoomID;case 15:return e.Sensor;case 16:return e.UnknownItem16;case 17:return e.Lensflare;case 18:return e.ScriptCollision;case 19:return e.HealRing;case 20:return e.MapCollision;case 21:return e.ScriptCollisionA;case 22:return e.ItemLight;case 23:return e.RadarCollision;case 24:return e.FogCollisionSW;case 25:return e.BossTeleporter;case 26:return e.ImageBoard;case 27:return e.QuestWarp;case 28:return e.Epilogue;case 29:return e.UnknownItem29;case 30:return e.UnknownItem30;case 31:return e.UnknownItem31;case 32:return e.BoxDetectObject;case 33:return e.SymbolChatObject;case 34:return e.TouchPlateObject;case 35:return e.TargetableObject;case 36:return e.EffectObject;case 37:return e.CountDownObject;case 38:return e.UnknownItem38;case 39:return e.UnknownItem39;case 40:return e.UnknownItem40;case 41:return e.UnknownItem41;case 64:return e.MenuActivation;case 65:return e.TelepipeLocation;case 66:return e.BGMCollision;case 67:return e.MainRagolTeleporter;case 68:return e.LobbyTeleporter;case 69:return e.PrincipalWarp;case 70:return e.ShopDoor;case 71:return e.HuntersGuildDoor;case 72:return e.TeleporterDoor;case 73:return e.MedicalCenterDoor;case 74:return e.Elevator;case 75:return e.EasterEgg;case 76:return e.ValentinesHeart;case 77:return e.ChristmasTree;case 78:return e.ChristmasWreath;case 79:return e.HalloweenPumpkin;case 80:return e.TwentyFirstCentury;case 81:return e.Sonic;case 82:return e.WelcomeBoard;case 83:return e.Firework;case 84:return e.LobbyScreenDoor;case 85:return e.MainRagolTeleporterBattleInNextArea;case 86:return e.LabTeleporterDoor;case 87:return e.Pioneer2InvisibleTouchplate;case 128:return e.ForestDoor;case 129:return e.ForestSwitch;case 130:return e.LaserFence;case 131:return e.LaserSquareFence;case 132:return e.ForestLaserFenceSwitch;case 133:return e.LightRays;case 134:return e.BlueButterfly;case 135:return e.Probe;case 136:return e.RandomTypeBox1;case 137:return e.ForestWeatherStation;case 138:return e.Battery;case 139:return e.ForestConsole;case 140:return e.BlackSlidingDoor;case 141:return e.RicoMessagePod;case 142:return e.EnergyBarrier;case 143:return e.ForestRisingBridge;case 144:return e.SwitchNoneDoor;case 145:return e.EnemyBoxGrey;case 146:return e.FixedTypeBox;case 147:return e.EnemyBoxBrown;case 149:return e.EmptyTypeBox;case 150:return e.LaserFenseEx;case 151:return e.LaserSquareFenceEx;case 192:return e.FloorPanel1;case 193:return e.Caves4ButtonDoor;case 194:return e.CavesNormalDoor;case 195:return e.CavesSmashingPillar;case 196:return e.CavesSign1;case 197:return e.CavesSign2;case 198:return e.CavesSign3;case 199:return e.HexagalTank;case 200:return e.BrownPlatform;case 201:return e.WarningLightObject;case 203:return e.Rainbow;case 204:return e.FloatingJelifish;case 205:return e.FloatingDragonfly;case 206:return e.CavesSwitchDoor;case 207:return e.RobotRechargeStation;case 208:return e.CavesCakeShop;case 209:return e.Caves1SmallRedRock;case 210:return e.Caves1MediumRedRock;case 211:return e.Caves1LargeRedRock;case 212:return e.Caves2SmallRock1;case 213:return e.Caves2MediumRock1;case 214:return e.Caves2LargeRock1;case 215:return e.Caves2SmallRock2;case 216:return e.Caves2MediumRock2;case 217:return e.Caves2LargeRock2;case 218:return e.Caves3SmallRock;case 219:return e.Caves3MediumRock;case 220:return e.Caves3LargeRock;case 222:return e.FloorPanel2;case 223:return e.DestructableRockCaves1;case 224:return e.DestructableRockCaves2;case 225:return e.DestructableRockCaves3;case 256:return e.MinesDoor;case 257:return e.FloorPanel3;case 258:return e.MinesSwitchDoor;case 259:return e.LargeCryoTube;case 260:return e.ComputerLikeCalus;case 261:return e.GreenScreenOpeningAndClosing;case 262:return e.FloatingRobot;case 263:return e.FloatingBlueLight;case 264:return e.SelfDestructingObject1;case 265:return e.SelfDestructingObject2;case 266:return e.SelfDestructingObject3;case 267:return e.SparkMachine;case 268:return e.MinesLargeFlashingCrate;case 304:return e.RuinsSeal;case 320:return e.RuinsTeleporter;case 321:return e.RuinsWarpSiteToSite;case 322:return e.RuinsSwitch;case 323:return e.FloorPanel4;case 324:return e.Ruins1Door;case 325:return e.Ruins3Door;case 326:return e.Ruins2Door;case 327:return e.Ruins11ButtonDoor;case 328:return e.Ruins21ButtonDoor;case 329:return e.Ruins31ButtonDoor;case 330:return e.Ruins4ButtonDoor;case 331:return e.Ruins2ButtonDoor;case 332:return e.RuinsSensor;case 333:return e.RuinsFenceSwitch;case 334:return e.RuinsLaserFence4x2;case 335:return e.RuinsLaserFence6x2;case 336:return e.RuinsLaserFence4x4;case 337:return e.RuinsLaserFence6x4;case 338:return e.RuinsPoisonBlob;case 339:return e.RuinsPilarTrap;case 340:return e.PopupTrapNoTech;case 341:return e.RuinsCrystal;case 342:return e.Monument;case 345:return e.RuinsRock1;case 346:return e.RuinsRock2;case 347:return e.RuinsRock3;case 348:return e.RuinsRock4;case 349:return e.RuinsRock5;case 350:return e.RuinsRock6;case 351:return e.RuinsRock7;case 352:return e.Poison;case 353:return e.FixedBoxTypeRuins;case 354:return e.RandomBoxTypeRuins;case 355:return e.EnemyTypeBoxYellow;case 356:return e.EnemyTypeBoxBlue;case 357:return e.EmptyTypeBoxBlue;case 358:return e.DestructableRock;case 359:return e.PopupTrapsTechs;case 368:return e.FlyingWhiteBird;case 369:return e.Tower;case 370:return e.FloatingRocks;case 371:return e.FloatingSoul;case 372:return e.Butterfly;case 384:return e.LobbyGameMenu;case 385:return e.LobbyWarpObject;case 386:return e.Lobby1EventObjectDefaultTree;case 387:return e.UnknownItem387;case 388:return e.UnknownItem388;case 389:return e.UnknownItem389;case 390:return e.LobbyEventObjectStaticPumpkin;case 391:return e.LobbyEventObject3ChristmasWindows;case 392:return e.LobbyEventObjectRedAndWhiteCurtain;case 393:return e.UnknownItem393;case 394:return e.UnknownItem394;case 395:return e.LobbyFishTank;case 396:return e.LobbyEventObjectButterflies;case 400:return e.UnknownItem400;case 401:return e.GreyWallLow;case 402:return e.SpaceshipDoor;case 403:return e.GreyWallHigh;case 416:return e.TempleNormalDoor;case 417:return e.BreakableWallWallButUnbreakable;case 418:return e.BrokenCilinderAndRubble;case 419:return e.ThreeBrokenWallPiecesOnFloor;case 420:return e.HighBrickCilinder;case 421:return e.LyingCilinder;case 422:return e.BrickConeWithFlatTop;case 423:return e.BreakableTempleWall;case 424:return e.TempleMapDetect;case 425:return e.SmallBrownBrickRisingBridge;case 426:return e.LongRisingBridgeWithPinkHighEdges;case 427:return e.FourSwitchTempleDoor;case 448:return e.FourButtonSpaceshipDoor;case 512:return e.ItemBoxCca;case 513:return e.TeleporterEp2;case 514:return e.CCADoor;case 515:return e.SpecialBoxCCA;case 516:return e.BigCCADoor;case 517:return e.BigCCADoorSwitch;case 518:return e.LittleRock;case 519:return e.Little3StoneWall;case 520:return e.Medium3StoneWall;case 521:return e.SpiderPlant;case 522:return e.CCAAreaTeleporter;case 523:return e.UnknownItem523;case 524:return e.WhiteBird;case 525:return e.OrangeBird;case 527:return e.Saw;case 528:return e.LaserDetect;case 529:return e.UnknownItem529;case 530:return e.UnknownItem530;case 531:return e.Seagull;case 544:return e.Fish;case 545:return e.SeabedDoorWithBlueEdges;case 546:return e.SeabedDoorAlwaysOpenNonTriggerable;case 547:return e.LittleCryotube;case 548:return e.WideGlassWallBreakable;case 549:return e.BlueFloatingRobot;case 550:return e.RedFloatingRobot;case 551:return e.Dolphin;case 552:return e.CaptureTrap;case 553:return e.VRLink;case 576:return e.UnknownItem576;case 640:return e.WarpInBarbaRayRoom;case 672:return e.UnknownItem672;case 688:return e.GeeNest;case 689:return e.LabComputerConsole;case 690:return e.LabComputerConsoleGreenScreen;case 691:return e.ChairYelllowPillow;case 692:return e.OrangeWallWithHoleInMiddle;case 693:return e.GreyWallWithHoleInMiddle;case 694:return e.LongTable;case 695:return e.GBAStation;case 696:return e.TalkLinkToSupport;case 697:return e.InstaWarp;case 698:return e.LabInvisibleObject;case 699:return e.LabGlassWindowDoor;case 700:return e.UnknownItem700;case 701:return e.LabCelingWarp;case 768:return e.Ep4LightSource;case 769:return e.Cacti;case 770:return e.BigBrownRock;case 771:return e.BreakableBrownRock;case 832:return e.UnknownItem832;case 833:return e.UnknownItem833;case 896:return e.PoisonPlant;case 897:return e.UnknownItem897;case 898:return e.UnknownItem898;case 899:return e.OozingDesertPlant;case 901:return e.UnknownItem901;case 902:return e.BigBlackRocks;case 903:return e.UnknownItem903;case 904:return e.UnknownItem904;case 905:return e.UnknownItem905;case 906:return e.UnknownItem906;case 907:return e.FallingRock;case 908:return e.DesertPlantHasCollision;case 909:return e.DesertFixedTypeBoxBreakableCrystals;case 910:return e.UnknownItem910;case 911:return e.BeeHive;case 912:return e.UnknownItem912;case 913:return e.Heat;case 960:return e.TopOfSaintMillionEgg;case 961:return e.UnknownItem961}}}]),e}();function F(e){var n=Object.values(e),t=n.filter(function(e){return"number"===typeof e});return t.length?t:n}x.Unknown=void 0,x.PlayerSet=void 0,x.Particle=void 0,x.Teleporter=void 0,x.Warp=void 0,x.LightCollision=void 0,x.Item=void 0,x.EnvSound=void 0,x.FogCollision=void 0,x.EventCollision=void 0,x.CharaCollision=void 0,x.ElementalTrap=void 0,x.StatusTrap=void 0,x.HealTrap=void 0,x.LargeElementalTrap=void 0,x.ObjRoomID=void 0,x.Sensor=void 0,x.UnknownItem16=void 0,x.Lensflare=void 0,x.ScriptCollision=void 0,x.HealRing=void 0,x.MapCollision=void 0,x.ScriptCollisionA=void 0,x.ItemLight=void 0,x.RadarCollision=void 0,x.FogCollisionSW=void 0,x.BossTeleporter=void 0,x.ImageBoard=void 0,x.QuestWarp=void 0,x.Epilogue=void 0,x.UnknownItem29=void 0,x.UnknownItem30=void 0,x.UnknownItem31=void 0,x.BoxDetectObject=void 0,x.SymbolChatObject=void 0,x.TouchPlateObject=void 0,x.TargetableObject=void 0,x.EffectObject=void 0,x.CountDownObject=void 0,x.UnknownItem38=void 0,x.UnknownItem39=void 0,x.UnknownItem40=void 0,x.UnknownItem41=void 0,x.MenuActivation=void 0,x.TelepipeLocation=void 0,x.BGMCollision=void 0,x.MainRagolTeleporter=void 0,x.LobbyTeleporter=void 0,x.PrincipalWarp=void 0,x.ShopDoor=void 0,x.HuntersGuildDoor=void 0,x.TeleporterDoor=void 0,x.MedicalCenterDoor=void 0,x.Elevator=void 0,x.EasterEgg=void 0,x.ValentinesHeart=void 0,x.ChristmasTree=void 0,x.ChristmasWreath=void 0,x.HalloweenPumpkin=void 0,x.TwentyFirstCentury=void 0,x.Sonic=void 0,x.WelcomeBoard=void 0,x.Firework=void 0,x.LobbyScreenDoor=void 0,x.MainRagolTeleporterBattleInNextArea=void 0,x.LabTeleporterDoor=void 0,x.Pioneer2InvisibleTouchplate=void 0,x.ForestDoor=void 0,x.ForestSwitch=void 0,x.LaserFence=void 0,x.LaserSquareFence=void 0,x.ForestLaserFenceSwitch=void 0,x.LightRays=void 0,x.BlueButterfly=void 0,x.Probe=void 0,x.RandomTypeBox1=void 0,x.ForestWeatherStation=void 0,x.Battery=void 0,x.ForestConsole=void 0,x.BlackSlidingDoor=void 0,x.RicoMessagePod=void 0,x.EnergyBarrier=void 0,x.ForestRisingBridge=void 0,x.SwitchNoneDoor=void 0,x.EnemyBoxGrey=void 0,x.FixedTypeBox=void 0,x.EnemyBoxBrown=void 0,x.EmptyTypeBox=void 0,x.LaserFenseEx=void 0,x.LaserSquareFenceEx=void 0,x.FloorPanel1=void 0,x.Caves4ButtonDoor=void 0,x.CavesNormalDoor=void 0,x.CavesSmashingPillar=void 0,x.CavesSign1=void 0,x.CavesSign2=void 0,x.CavesSign3=void 0,x.HexagalTank=void 0,x.BrownPlatform=void 0,x.WarningLightObject=void 0,x.Rainbow=void 0,x.FloatingJelifish=void 0,x.FloatingDragonfly=void 0,x.CavesSwitchDoor=void 0,x.RobotRechargeStation=void 0,x.CavesCakeShop=void 0,x.Caves1SmallRedRock=void 0,x.Caves1MediumRedRock=void 0,x.Caves1LargeRedRock=void 0,x.Caves2SmallRock1=void 0,x.Caves2MediumRock1=void 0,x.Caves2LargeRock1=void 0,x.Caves2SmallRock2=void 0,x.Caves2MediumRock2=void 0,x.Caves2LargeRock2=void 0,x.Caves3SmallRock=void 0,x.Caves3MediumRock=void 0,x.Caves3LargeRock=void 0,x.FloorPanel2=void 0,x.DestructableRockCaves1=void 0,x.DestructableRockCaves2=void 0,x.DestructableRockCaves3=void 0,x.MinesDoor=void 0,x.FloorPanel3=void 0,x.MinesSwitchDoor=void 0,x.LargeCryoTube=void 0,x.ComputerLikeCalus=void 0,x.GreenScreenOpeningAndClosing=void 0,x.FloatingRobot=void 0,x.FloatingBlueLight=void 0,x.SelfDestructingObject1=void 0,x.SelfDestructingObject2=void 0,x.SelfDestructingObject3=void 0,x.SparkMachine=void 0,x.MinesLargeFlashingCrate=void 0,x.RuinsSeal=void 0,x.RuinsTeleporter=void 0,x.RuinsWarpSiteToSite=void 0,x.RuinsSwitch=void 0,x.FloorPanel4=void 0,x.Ruins1Door=void 0,x.Ruins3Door=void 0,x.Ruins2Door=void 0,x.Ruins11ButtonDoor=void 0,x.Ruins21ButtonDoor=void 0,x.Ruins31ButtonDoor=void 0,x.Ruins4ButtonDoor=void 0,x.Ruins2ButtonDoor=void 0,x.RuinsSensor=void 0,x.RuinsFenceSwitch=void 0,x.RuinsLaserFence4x2=void 0,x.RuinsLaserFence6x2=void 0,x.RuinsLaserFence4x4=void 0,x.RuinsLaserFence6x4=void 0,x.RuinsPoisonBlob=void 0,x.RuinsPilarTrap=void 0,x.PopupTrapNoTech=void 0,x.RuinsCrystal=void 0,x.Monument=void 0,x.RuinsRock1=void 0,x.RuinsRock2=void 0,x.RuinsRock3=void 0,x.RuinsRock4=void 0,x.RuinsRock5=void 0,x.RuinsRock6=void 0,x.RuinsRock7=void 0,x.Poison=void 0,x.FixedBoxTypeRuins=void 0,x.RandomBoxTypeRuins=void 0,x.EnemyTypeBoxYellow=void 0,x.EnemyTypeBoxBlue=void 0,x.EmptyTypeBoxBlue=void 0,x.DestructableRock=void 0,x.PopupTrapsTechs=void 0,x.FlyingWhiteBird=void 0,x.Tower=void 0,x.FloatingRocks=void 0,x.FloatingSoul=void 0,x.Butterfly=void 0,x.LobbyGameMenu=void 0,x.LobbyWarpObject=void 0,x.Lobby1EventObjectDefaultTree=void 0,x.UnknownItem387=void 0,x.UnknownItem388=void 0,x.UnknownItem389=void 0,x.LobbyEventObjectStaticPumpkin=void 0,x.LobbyEventObject3ChristmasWindows=void 0,x.LobbyEventObjectRedAndWhiteCurtain=void 0,x.UnknownItem393=void 0,x.UnknownItem394=void 0,x.LobbyFishTank=void 0,x.LobbyEventObjectButterflies=void 0,x.UnknownItem400=void 0,x.GreyWallLow=void 0,x.SpaceshipDoor=void 0,x.GreyWallHigh=void 0,x.TempleNormalDoor=void 0,x.BreakableWallWallButUnbreakable=void 0,x.BrokenCilinderAndRubble=void 0,x.ThreeBrokenWallPiecesOnFloor=void 0,x.HighBrickCilinder=void 0,x.LyingCilinder=void 0,x.BrickConeWithFlatTop=void 0,x.BreakableTempleWall=void 0,x.TempleMapDetect=void 0,x.SmallBrownBrickRisingBridge=void 0,x.LongRisingBridgeWithPinkHighEdges=void 0,x.FourSwitchTempleDoor=void 0,x.FourButtonSpaceshipDoor=void 0,x.ItemBoxCca=void 0,x.TeleporterEp2=void 0,x.CCADoor=void 0,x.SpecialBoxCCA=void 0,x.BigCCADoor=void 0,x.BigCCADoorSwitch=void 0,x.LittleRock=void 0,x.Little3StoneWall=void 0,x.Medium3StoneWall=void 0,x.SpiderPlant=void 0,x.CCAAreaTeleporter=void 0,x.UnknownItem523=void 0,x.WhiteBird=void 0,x.OrangeBird=void 0,x.Saw=void 0,x.LaserDetect=void 0,x.UnknownItem529=void 0,x.UnknownItem530=void 0,x.Seagull=void 0,x.Fish=void 0,x.SeabedDoorWithBlueEdges=void 0,x.SeabedDoorAlwaysOpenNonTriggerable=void 0,x.LittleCryotube=void 0,x.WideGlassWallBreakable=void 0,x.BlueFloatingRobot=void 0,x.RedFloatingRobot=void 0,x.Dolphin=void 0,x.CaptureTrap=void 0,x.VRLink=void 0,x.UnknownItem576=void 0,x.WarpInBarbaRayRoom=void 0,x.UnknownItem672=void 0,x.GeeNest=void 0,x.LabComputerConsole=void 0,x.LabComputerConsoleGreenScreen=void 0,x.ChairYelllowPillow=void 0,x.OrangeWallWithHoleInMiddle=void 0,x.GreyWallWithHoleInMiddle=void 0,x.LongTable=void 0,x.GBAStation=void 0,x.TalkLinkToSupport=void 0,x.InstaWarp=void 0,x.LabInvisibleObject=void 0,x.LabGlassWindowDoor=void 0,x.UnknownItem700=void 0,x.LabCelingWarp=void 0,x.Ep4LightSource=void 0,x.Cacti=void 0,x.BigBrownRock=void 0,x.BreakableBrownRock=void 0,x.UnknownItem832=void 0,x.UnknownItem833=void 0,x.PoisonPlant=void 0,x.UnknownItem897=void 0,x.UnknownItem898=void 0,x.OozingDesertPlant=void 0,x.UnknownItem901=void 0,x.BigBlackRocks=void 0,x.UnknownItem903=void 0,x.UnknownItem904=void 0,x.UnknownItem905=void 0,x.UnknownItem906=void 0,x.FallingRock=void 0,x.DesertPlantHasCollision=void 0,x.DesertFixedTypeBoxBreakableCrystals=void 0,x.UnknownItem910=void 0,x.BeeHive=void 0,x.UnknownItem912=void 0,x.Heat=void 0,x.TopOfSaintMillionEgg=void 0,x.UnknownItem961=void 0,function(){var e=1;x.Unknown=new x(e++,void 0,"Unknown"),x.PlayerSet=new x(e++,0,"Player Set"),x.Particle=new x(e++,1,"Particle"),x.Teleporter=new x(e++,2,"Teleporter"),x.Warp=new x(e++,3,"Warp"),x.LightCollision=new x(e++,4,"Light Collision"),x.Item=new x(e++,5,"Item"),x.EnvSound=new x(e++,6,"Env Sound"),x.FogCollision=new x(e++,7,"Fog Collision"),x.EventCollision=new x(e++,8,"Event Collision"),x.CharaCollision=new x(e++,9,"Chara Collision"),x.ElementalTrap=new x(e++,10,"Elemental Trap"),x.StatusTrap=new x(e++,11,"Status Trap"),x.HealTrap=new x(e++,12,"Heal Trap"),x.LargeElementalTrap=new x(e++,13,"Large Elemental Trap"),x.ObjRoomID=new x(e++,14,"Obj Room ID"),x.Sensor=new x(e++,15,"Sensor"),x.UnknownItem16=new x(e++,16,"Unknown Item (16)"),x.Lensflare=new x(e++,17,"Lensflare"),x.ScriptCollision=new x(e++,18,"Script Collision"),x.HealRing=new x(e++,19,"Heal Ring"),x.MapCollision=new x(e++,20,"Map Collision"),x.ScriptCollisionA=new x(e++,21,"Script Collision A"),x.ItemLight=new x(e++,22,"Item Light"),x.RadarCollision=new x(e++,23,"Radar Collision"),x.FogCollisionSW=new x(e++,24,"Fog Collision SW"),x.BossTeleporter=new x(e++,25,"Boss Teleporter"),x.ImageBoard=new x(e++,26,"Image Board"),x.QuestWarp=new x(e++,27,"Quest Warp"),x.Epilogue=new x(e++,28,"Epilogue"),x.UnknownItem29=new x(e++,29,"Unknown Item (29)"),x.UnknownItem30=new x(e++,30,"Unknown Item (30)"),x.UnknownItem31=new x(e++,31,"Unknown Item (31)"),x.BoxDetectObject=new x(e++,32,"Box Detect Object"),x.SymbolChatObject=new x(e++,33,"Symbol Chat Object"),x.TouchPlateObject=new x(e++,34,"Touch plate Object"),x.TargetableObject=new x(e++,35,"Targetable Object"),x.EffectObject=new x(e++,36,"Effect object"),x.CountDownObject=new x(e++,37,"Count Down Object"),x.UnknownItem38=new x(e++,38,"Unknown Item (38)"),x.UnknownItem39=new x(e++,39,"Unknown Item (39)"),x.UnknownItem40=new x(e++,40,"Unknown Item (40)"),x.UnknownItem41=new x(e++,41,"Unknown Item (41)"),x.MenuActivation=new x(e++,64,"Menu activation"),x.TelepipeLocation=new x(e++,65,"Telepipe Location"),x.BGMCollision=new x(e++,66,"BGM Collision"),x.MainRagolTeleporter=new x(e++,67,"Main Ragol Teleporter"),x.LobbyTeleporter=new x(e++,68,"Lobby Teleporter"),x.PrincipalWarp=new x(e++,69,"Principal warp"),x.ShopDoor=new x(e++,70,"Shop Door"),x.HuntersGuildDoor=new x(e++,71,"Hunter's Guild Door"),x.TeleporterDoor=new x(e++,72,"Teleporter Door"),x.MedicalCenterDoor=new x(e++,73,"Medical Center Door"),x.Elevator=new x(e++,74,"Elevator"),x.EasterEgg=new x(e++,75,"Easter Egg"),x.ValentinesHeart=new x(e++,76,"Valentines Heart"),x.ChristmasTree=new x(e++,77,"Christmas Tree"),x.ChristmasWreath=new x(e++,78,"Christmas Wreath"),x.HalloweenPumpkin=new x(e++,79,"Halloween Pumpkin"),x.TwentyFirstCentury=new x(e++,80,"21st Century"),x.Sonic=new x(e++,81,"Sonic"),x.WelcomeBoard=new x(e++,82,"Welcome Board"),x.Firework=new x(e++,83,"Firework"),x.LobbyScreenDoor=new x(e++,84,"Lobby Screen Door"),x.MainRagolTeleporterBattleInNextArea=new x(e++,85,"Main Ragol Teleporter (Battle in next area?)"),x.LabTeleporterDoor=new x(e++,86,"Lab Teleporter Door"),x.Pioneer2InvisibleTouchplate=new x(e++,87,"Pioneer 2 Invisible Touchplate"),x.ForestDoor=new x(e++,128,"Forest Door"),x.ForestSwitch=new x(e++,129,"Forest Switch"),x.LaserFence=new x(e++,130,"Laser Fence"),x.LaserSquareFence=new x(e++,131,"Laser Square Fence"),x.ForestLaserFenceSwitch=new x(e++,132,"Forest Laser Fence Switch"),x.LightRays=new x(e++,133,"Light rays"),x.BlueButterfly=new x(e++,134,"Blue Butterfly"),x.Probe=new x(e++,135,"Probe"),x.RandomTypeBox1=new x(e++,136,"Random Type Box 1"),x.ForestWeatherStation=new x(e++,137,"Forest Weather Station"),x.Battery=new x(e++,138,"Battery"),x.ForestConsole=new x(e++,139,"Forest Console"),x.BlackSlidingDoor=new x(e++,140,"Black Sliding Door"),x.RicoMessagePod=new x(e++,141,"Rico Message Pod"),x.EnergyBarrier=new x(e++,142,"Energy Barrier"),x.ForestRisingBridge=new x(e++,143,"Forest Rising Bridge"),x.SwitchNoneDoor=new x(e++,144,"Switch (none door)"),x.EnemyBoxGrey=new x(e++,145,"Enemy Box (Grey)"),x.FixedTypeBox=new x(e++,146,"Fixed Type Box"),x.EnemyBoxBrown=new x(e++,147,"Enemy Box (Brown)"),x.EmptyTypeBox=new x(e++,149,"Empty Type Box"),x.LaserFenseEx=new x(e++,150,"Laser Fense Ex"),x.LaserSquareFenceEx=new x(e++,151,"Laser Square Fence Ex"),x.FloorPanel1=new x(e++,192,"Floor Panel 1"),x.Caves4ButtonDoor=new x(e++,193,"Caves 4 Button door"),x.CavesNormalDoor=new x(e++,194,"Caves Normal door"),x.CavesSmashingPillar=new x(e++,195,"Caves Smashing Pillar"),x.CavesSign1=new x(e++,196,"Caves Sign 1"),x.CavesSign2=new x(e++,197,"Caves Sign 2"),x.CavesSign3=new x(e++,198,"Caves Sign 3"),x.HexagalTank=new x(e++,199,"Hexagal Tank"),x.BrownPlatform=new x(e++,200,"Brown Platform"),x.WarningLightObject=new x(e++,201,"Warning Light Object"),x.Rainbow=new x(e++,203,"Rainbow"),x.FloatingJelifish=new x(e++,204,"Floating Jelifish"),x.FloatingDragonfly=new x(e++,205,"Floating Dragonfly"),x.CavesSwitchDoor=new x(e++,206,"Caves Switch Door"),x.RobotRechargeStation=new x(e++,207,"Robot Recharge Station"),x.CavesCakeShop=new x(e++,208,"Caves Cake Shop"),x.Caves1SmallRedRock=new x(e++,209,"Caves 1 Small Red Rock"),x.Caves1MediumRedRock=new x(e++,210,"Caves 1 Medium Red Rock"),x.Caves1LargeRedRock=new x(e++,211,"Caves 1 Large Red Rock"),x.Caves2SmallRock1=new x(e++,212,"Caves 2 Small Rock 1"),x.Caves2MediumRock1=new x(e++,213,"Caves 2 Medium Rock 1"),x.Caves2LargeRock1=new x(e++,214,"Caves 2 Large Rock 1"),x.Caves2SmallRock2=new x(e++,215,"Caves 2 Small Rock 2"),x.Caves2MediumRock2=new x(e++,216,"Caves 2 Medium Rock 2"),x.Caves2LargeRock2=new x(e++,217,"Caves 2 Large Rock 2"),x.Caves3SmallRock=new x(e++,218,"Caves 3 Small Rock"),x.Caves3MediumRock=new x(e++,219,"Caves 3 Medium Rock"),x.Caves3LargeRock=new x(e++,220,"Caves 3 Large Rock"),x.FloorPanel2=new x(e++,222,"Floor Panel 2"),x.DestructableRockCaves1=new x(e++,223,"Destructable Rock (Caves 1)"),x.DestructableRockCaves2=new x(e++,224,"Destructable Rock (Caves 2)"),x.DestructableRockCaves3=new x(e++,225,"Destructable Rock (Caves 3)"),x.MinesDoor=new x(e++,256,"Mines Door"),x.FloorPanel3=new x(e++,257,"Floor Panel 3"),x.MinesSwitchDoor=new x(e++,258,"Mines Switch Door"),x.LargeCryoTube=new x(e++,259,"Large Cryo-Tube"),x.ComputerLikeCalus=new x(e++,260,"Computer (like calus)"),x.GreenScreenOpeningAndClosing=new x(e++,261,"Green Screen opening and closing"),x.FloatingRobot=new x(e++,262,"Floating Robot"),x.FloatingBlueLight=new x(e++,263,"Floating Blue Light"),x.SelfDestructingObject1=new x(e++,264,"Self Destructing Object 1"),x.SelfDestructingObject2=new x(e++,265,"Self Destructing Object 2"),x.SelfDestructingObject3=new x(e++,266,"Self Destructing Object 3"),x.SparkMachine=new x(e++,267,"Spark Machine"),x.MinesLargeFlashingCrate=new x(e++,268,"Mines Large Flashing Crate"),x.RuinsSeal=new x(e++,304,"Ruins Seal"),x.RuinsTeleporter=new x(e++,320,"Ruins Teleporter"),x.RuinsWarpSiteToSite=new x(e++,321,"Ruins Warp (Site to site)"),x.RuinsSwitch=new x(e++,322,"Ruins Switch"),x.FloorPanel4=new x(e++,323,"Floor Panel 4"),x.Ruins1Door=new x(e++,324,"Ruins 1 Door"),x.Ruins3Door=new x(e++,325,"Ruins 3 Door"),x.Ruins2Door=new x(e++,326,"Ruins 2 Door"),x.Ruins11ButtonDoor=new x(e++,327,"Ruins 1-1 Button Door"),x.Ruins21ButtonDoor=new x(e++,328,"Ruins 2-1 Button Door"),x.Ruins31ButtonDoor=new x(e++,329,"Ruins 3-1 Button Door"),x.Ruins4ButtonDoor=new x(e++,330,"Ruins 4-Button Door"),x.Ruins2ButtonDoor=new x(e++,331,"Ruins 2-Button Door"),x.RuinsSensor=new x(e++,332,"Ruins Sensor"),x.RuinsFenceSwitch=new x(e++,333,"Ruins Fence Switch"),x.RuinsLaserFence4x2=new x(e++,334,"Ruins Laser Fence 4x2"),x.RuinsLaserFence6x2=new x(e++,335,"Ruins Laser Fence 6x2"),x.RuinsLaserFence4x4=new x(e++,336,"Ruins Laser Fence 4x4"),x.RuinsLaserFence6x4=new x(e++,337,"Ruins Laser Fence 6x4"),x.RuinsPoisonBlob=new x(e++,338,"Ruins poison Blob"),x.RuinsPilarTrap=new x(e++,339,"Ruins Pilar Trap"),x.PopupTrapNoTech=new x(e++,340,"Popup Trap (No Tech)"),x.RuinsCrystal=new x(e++,341,"Ruins Crystal"),x.Monument=new x(e++,342,"Monument"),x.RuinsRock1=new x(e++,345,"Ruins Rock 1"),x.RuinsRock2=new x(e++,346,"Ruins Rock 2"),x.RuinsRock3=new x(e++,347,"Ruins Rock 3"),x.RuinsRock4=new x(e++,348,"Ruins Rock 4"),x.RuinsRock5=new x(e++,349,"Ruins Rock 5"),x.RuinsRock6=new x(e++,350,"Ruins Rock 6"),x.RuinsRock7=new x(e++,351,"Ruins Rock 7"),x.Poison=new x(e++,352,"Poison"),x.FixedBoxTypeRuins=new x(e++,353,"Fixed Box Type (Ruins)"),x.RandomBoxTypeRuins=new x(e++,354,"Random Box Type (Ruins)"),x.EnemyTypeBoxYellow=new x(e++,355,"Enemy Type Box (Yellow)"),x.EnemyTypeBoxBlue=new x(e++,356,"Enemy Type Box (Blue)"),x.EmptyTypeBoxBlue=new x(e++,357,"Empty Type Box (Blue)"),x.DestructableRock=new x(e++,358,"Destructable Rock"),x.PopupTrapsTechs=new x(e++,359,"Popup Traps (techs)"),x.FlyingWhiteBird=new x(e++,368,"Flying White Bird"),x.Tower=new x(e++,369,"Tower"),x.FloatingRocks=new x(e++,370,"Floating Rocks"),x.FloatingSoul=new x(e++,371,"Floating Soul"),x.Butterfly=new x(e++,372,"Butterfly"),x.LobbyGameMenu=new x(e++,384,"Lobby Game menu"),x.LobbyWarpObject=new x(e++,385,"Lobby Warp Object"),x.Lobby1EventObjectDefaultTree=new x(e++,386,"Lobby 1 Event Object (Default Tree)"),x.UnknownItem387=new x(e++,387,"Unknown Item (387)"),x.UnknownItem388=new x(e++,388,"Unknown Item (388)"),x.UnknownItem389=new x(e++,389,"Unknown Item (389)"),x.LobbyEventObjectStaticPumpkin=new x(e++,390,"Lobby Event Object (Static Pumpkin)"),x.LobbyEventObject3ChristmasWindows=new x(e++,391,"Lobby Event Object (3 Christmas Windows)"),x.LobbyEventObjectRedAndWhiteCurtain=new x(e++,392,"Lobby Event Object (Red and White Curtain)"),x.UnknownItem393=new x(e++,393,"Unknown Item (393)"),x.UnknownItem394=new x(e++,394,"Unknown Item (394)"),x.LobbyFishTank=new x(e++,395,"Lobby Fish Tank"),x.LobbyEventObjectButterflies=new x(e++,396,"Lobby Event Object (Butterflies)"),x.UnknownItem400=new x(e++,400,"Unknown Item (400)"),x.GreyWallLow=new x(e++,401,"grey wall low"),x.SpaceshipDoor=new x(e++,402,"Spaceship Door"),x.GreyWallHigh=new x(e++,403,"grey wall high"),x.TempleNormalDoor=new x(e++,416,"Temple Normal Door"),x.BreakableWallWallButUnbreakable=new x(e++,417,'"breakable wall wall, but unbreakable"'),x.BrokenCilinderAndRubble=new x(e++,418,"Broken cilinder and rubble"),x.ThreeBrokenWallPiecesOnFloor=new x(e++,419,"3 broken wall pieces on floor"),x.HighBrickCilinder=new x(e++,420,"high brick cilinder"),x.LyingCilinder=new x(e++,421,"lying cilinder"),x.BrickConeWithFlatTop=new x(e++,422,"brick cone with flat top"),x.BreakableTempleWall=new x(e++,423,"breakable temple wall"),x.TempleMapDetect=new x(e++,424,"Temple Map Detect"),x.SmallBrownBrickRisingBridge=new x(e++,425,"small brown brick rising bridge"),x.LongRisingBridgeWithPinkHighEdges=new x(e++,426,"long rising bridge (with pink high edges)"),x.FourSwitchTempleDoor=new x(e++,427,"4 switch temple door"),x.FourButtonSpaceshipDoor=new x(e++,448,"4 button spaceship door"),x.ItemBoxCca=new x(e++,512,"item box cca"),x.TeleporterEp2=new x(e++,513,"Teleporter (Ep 2)"),x.CCADoor=new x(e++,514,"CCA Door"),x.SpecialBoxCCA=new x(e++,515,"Special Box CCA"),x.BigCCADoor=new x(e++,516,"Big CCA Door"),x.BigCCADoorSwitch=new x(e++,517,"Big CCA Door Switch"),x.LittleRock=new x(e++,518,"Little Rock"),x.Little3StoneWall=new x(e++,519,"Little 3 Stone Wall"),x.Medium3StoneWall=new x(e++,520,"Medium 3 stone wall"),x.SpiderPlant=new x(e++,521,"Spider Plant"),x.CCAAreaTeleporter=new x(e++,522,"CCA Area Teleporter"),x.UnknownItem523=new x(e++,523,"Unknown Item (523)"),x.WhiteBird=new x(e++,524,"White Bird"),x.OrangeBird=new x(e++,525,"Orange Bird"),x.Saw=new x(e++,527,"Saw"),x.LaserDetect=new x(e++,528,"Laser Detect"),x.UnknownItem529=new x(e++,529,"Unknown Item (529)"),x.UnknownItem530=new x(e++,530,"Unknown Item (530)"),x.Seagull=new x(e++,531,"Seagull"),x.Fish=new x(e++,544,"Fish"),x.SeabedDoorWithBlueEdges=new x(e++,545,"Seabed Door (with blue edges)"),x.SeabedDoorAlwaysOpenNonTriggerable=new x(e++,546,"Seabed door (always open, non-triggerable)"),x.LittleCryotube=new x(e++,547,"Little Cryotube"),x.WideGlassWallBreakable=new x(e++,548,"Wide Glass Wall (breakable)"),x.BlueFloatingRobot=new x(e++,549,"Blue floating robot"),x.RedFloatingRobot=new x(e++,550,"Red floating robot"),x.Dolphin=new x(e++,551,"Dolphin"),x.CaptureTrap=new x(e++,552,"Capture Trap"),x.VRLink=new x(e++,553,"VR link"),x.UnknownItem576=new x(e++,576,"Unknown Item (576)"),x.WarpInBarbaRayRoom=new x(e++,640,"Warp in Barba Ray Room"),x.UnknownItem672=new x(e++,672,"Unknown Item (672)"),x.GeeNest=new x(e++,688,"Gee Nest"),x.LabComputerConsole=new x(e++,689,"Lab Computer Console"),x.LabComputerConsoleGreenScreen=new x(e++,690,"Lab Computer Console (Green Screen)"),x.ChairYelllowPillow=new x(e++,691,"Chair, Yelllow Pillow"),x.OrangeWallWithHoleInMiddle=new x(e++,692,"orange wall with hole in middle"),x.GreyWallWithHoleInMiddle=new x(e++,693,"grey wall with hole in middle"),x.LongTable=new x(e++,694,"long table"),x.GBAStation=new x(e++,695,"GBA Station"),x.TalkLinkToSupport=new x(e++,696,"Talk (link to support)"),x.InstaWarp=new x(e++,697,"insta-warp"),x.LabInvisibleObject=new x(e++,698,"Lab Invisible Object"),x.LabGlassWindowDoor=new x(e++,699,"Lab Glass window Door"),x.UnknownItem700=new x(e++,700,"Unknown Item (700)"),x.LabCelingWarp=new x(e++,701,"Lab Celing Warp"),x.Ep4LightSource=new x(e++,768,"Ep4 Light Source"),x.Cacti=new x(e++,769,"cacti"),x.BigBrownRock=new x(e++,770,"Big Brown Rock"),x.BreakableBrownRock=new x(e++,771,"Breakable Brown Rock"),x.UnknownItem832=new x(e++,832,"Unknown Item (832)"),x.UnknownItem833=new x(e++,833,"Unknown Item (833)"),x.PoisonPlant=new x(e++,896,"Poison Plant"),x.UnknownItem897=new x(e++,897,"Unknown Item (897)"),x.UnknownItem898=new x(e++,898,"Unknown Item (898)"),x.OozingDesertPlant=new x(e++,899,"Oozing Desert Plant"),x.UnknownItem901=new x(e++,901,"Unknown Item (901)"),x.BigBlackRocks=new x(e++,902,"big black rocks"),x.UnknownItem903=new x(e++,903,"Unknown Item (903)"),x.UnknownItem904=new x(e++,904,"Unknown Item (904)"),x.UnknownItem905=new x(e++,905,"Unknown Item (905)"),x.UnknownItem906=new x(e++,906,"Unknown Item (906)"),x.FallingRock=new x(e++,907,"Falling Rock"),x.DesertPlantHasCollision=new x(e++,908,"Desert Plant (has collision)"),x.DesertFixedTypeBoxBreakableCrystals=new x(e++,909,"Desert Fixed Type Box (Breakable Crystals)"),x.UnknownItem910=new x(e++,910,"Unknown Item (910)"),x.BeeHive=new x(e++,911,"Bee Hive"),x.UnknownItem912=new x(e++,912,"Unknown Item (912)"),x.Heat=new x(e++,913,"Heat"),x.TopOfSaintMillionEgg=new x(e++,960,"Top of saint million egg"),x.UnknownItem961=new x(e++,961,"Unknown Item (961)")}();var T,A,G,U,P,z,W,N,H,V,q,Y,Z,Q,K,J,X,$,ee,ne,te,re,ae,oe,ie,se,le=function(){function e(n,t){Object(l.a)(this,e),this.keys=void 0,this.values=new Map,this.keys=F(n);var r=!0,a=!1,o=void 0;try{for(var i,s=this.keys[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var u=i.value;this.values.set(u,t(u))}}catch(c){a=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}}return Object(u.a)(e,[{key:"get",value:function(e){return this.values.get(e)}}]),e}(),ue=1/512,ce=1/512;!function(e){e.Ephinea="Ephinea"}(se||(se={}));var de,pe;F(se);function he(e){if(!de[e])throw new Error("Invalid episode ".concat(e,"."))}!function(e){e[e.I=1]="I",e[e.II=2]="II",e[e.IV=4]="IV"}(de||(de={})),function(e){e.Viridia="Viridia",e.Greenill="Greenill",e.Skyly="Skyly",e.Bluefull="Bluefull",e.Purplenum="Purplenum",e.Pinkal="Pinkal",e.Redria="Redria",e.Oran="Oran",e.Yellowboze="Yellowboze",e.Whitill="Whitill"}(pe||(pe={}));var we,me=F(pe);!function(e){e.Normal="Normal",e.Hard="Hard",e.VHard="VHard",e.Ultimate="Ultimate"}(we||(we={}));var ve,fe,be,ke,ye,ge,Re,Se,De=F(we),_e=function(){function e(n,t,r){Object(l.a)(this,e),this.x=void 0,this.y=void 0,this.z=void 0,this.x=n||0,this.y=t||0,this.z=r||0}return Object(u.a)(e,[{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"clone",value:function(n,t,r){return new e("number"===typeof n?n:this.x,"number"===typeof t?t:this.y,"number"===typeof r?r:this.z)}}]),e}(),Ie=(T=function(){function e(n,t,r){if(Object(l.a)(this,e),this.id=void 0,Object(I.a)(this,"position",A,this),Object(I.a)(this,"yAxisRotation",G,this),!Number.isInteger(n)||n<-1)throw new Error("Expected id to be an integer greater than or equal to -1, got ".concat(n,"."));if(!t)throw new Error("position is required.");if("number"!==typeof r)throw new Error("yAxisRotation is required.");this.id=n,this.position=t,this.yAxisRotation=r}return Object(u.a)(e,[{key:"sinYAxisRotation",get:function(){return Math.sin(this.yAxisRotation)}},{key:"cosYAxisRotation",get:function(){return Math.cos(this.yAxisRotation)}}]),e}(),A=Object(L.a)(T.prototype,"position",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=Object(L.a)(T.prototype,"yAxisRotation",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(L.a)(T.prototype,"sinYAxisRotation",[O.f],Object.getOwnPropertyDescriptor(T.prototype,"sinYAxisRotation"),T.prototype),Object(L.a)(T.prototype,"cosYAxisRotation",[O.f],Object.getOwnPropertyDescriptor(T.prototype,"cosYAxisRotation"),T.prototype),T),Le=(U=function e(n,t,r,a,o,i,s,u,c,d){if(Object(l.a)(this,e),Object(I.a)(this,"name",P,this),Object(I.a)(this,"shortDescription",z,this),Object(I.a)(this,"longDescription",W,this),Object(I.a)(this,"questNo",N,this),Object(I.a)(this,"episode",H,this),Object(I.a)(this,"areaVariants",V,this),Object(I.a)(this,"objects",q,this),Object(I.a)(this,"npcs",Y,this),this.datUnkowns=void 0,this.binData=void 0,null!=a&&(!Number.isInteger(a)||a<0))throw new Error("questNo should be null or a non-negative integer.");if(he(o),!s||!(s instanceof Array))throw new Error("objs is required.");if(!u||!(u instanceof Array))throw new Error("npcs is required.");this.name=n,this.shortDescription=t,this.longDescription=r,this.questNo=a,this.episode=o,this.areaVariants=i,this.objects=s,this.npcs=u,this.datUnkowns=c,this.binData=d},P=Object(L.a)(U.prototype,"name",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=Object(L.a)(U.prototype,"shortDescription",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=Object(L.a)(U.prototype,"longDescription",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=Object(L.a)(U.prototype,"questNo",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=Object(L.a)(U.prototype,"episode",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=Object(L.a)(U.prototype,"areaVariants",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=Object(L.a)(U.prototype,"objects",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=Object(L.a)(U.prototype,"npcs",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U),Ce=(Z=function(){function e(n,t,r,a){if(Object(l.a)(this,e),Object(I.a)(this,"areaId",Q,this),this._sectionId=void 0,Object(I.a)(this,"section",K,this),Object(I.a)(this,"position",J,this),Object(I.a)(this,"rotation",X,this),this.object3d=void 0,Object.getPrototypeOf(this)===Object.getPrototypeOf(e))throw new Error("Abstract class should not be instantiated directly.");if(!Number.isInteger(n)||n<0)throw new Error("Expected areaId to be a non-negative integer, got ".concat(n,"."));if(!Number.isInteger(t)||t<0)throw new Error("Expected sectionId to be a non-negative integer, got ".concat(t,"."));if(!r)throw new Error("position is required.");if(!a)throw new Error("rotation is required.");this.areaId=n,this._sectionId=t,this.position=r,this.rotation=a}return Object(u.a)(e,[{key:"sectionId",get:function(){return this.section?this.section.id:this._sectionId}},{key:"sectionPosition",get:function(){var e=this.position,n=e.x,t=e.y,r=e.z;if(this.section){var a=n-this.section.position.x,o=t-this.section.position.y,i=r-this.section.position.z,s=-this.section.sinYAxisRotation,l=this.section.cosYAxisRotation;n=l*a+s*i,t=o,r=-s*a+l*i}return new _e(n,t,r)},set:function(e){var n=e.x,t=e.y,r=e.z;if(this.section){var a=-this.section.sinYAxisRotation,o=this.section.cosYAxisRotation,i=a*n+o*r,s=o*n-a*r+this.section.position.x,l=t+this.section.position.y,u=i+this.section.position.z;this.position=new _e(s,l,u)}}}]),e}(),Q=Object(L.a)(Z.prototype,"areaId",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(L.a)(Z.prototype,"sectionId",[O.f],Object.getOwnPropertyDescriptor(Z.prototype,"sectionId"),Z.prototype),K=Object(L.a)(Z.prototype,"section",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=Object(L.a)(Z.prototype,"position",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=Object(L.a)(Z.prototype,"rotation",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(L.a)(Z.prototype,"sectionPosition",[O.f],Object.getOwnPropertyDescriptor(Z.prototype,"sectionPosition"),Z.prototype),Z),Be=($=function(e){function n(e,t,r,a,o,i){var s;if(Object(l.a)(this,n),s=Object(c.a)(this,Object(d.a)(n).call(this,e,t,r,a)),Object(I.a)(s,"type",ee,Object(j.a)(s)),s.dat=void 0,!o)throw new Error("type is required.");return s.type=o,s.dat=i,s}return Object(p.a)(n,e),n}(Ce),ee=Object(L.a)($.prototype,"type",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$),Oe=(ne=function(e){function n(e,t,r,a,o,i){var s;if(Object(l.a)(this,n),s=Object(c.a)(this,Object(d.a)(n).call(this,e,t,r,a)),Object(I.a)(s,"type",te,Object(j.a)(s)),s.dat=void 0,!o)throw new Error("type is required.");return s.type=o,s.dat=i,s}return Object(p.a)(n,e),n}(Ce),te=Object(L.a)(ne.prototype,"type",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne),je=function e(n,t,r,a){if(Object(l.a)(this,e),this.id=void 0,this.name=void 0,this.order=void 0,this.areaVariants=void 0,!Number.isInteger(n)||n<0)throw new Error("Expected id to be a non-negative integer, got ".concat(n,"."));if(!t)throw new Error("name is required.");if(!a)throw new Error("areaVariants is required.");this.id=n,this.name=t,this.order=r,this.areaVariants=a},Ee=(re=function e(n,t){if(Object(l.a)(this,e),this.id=n,this.area=t,Object(I.a)(this,"sections",ae,this),!Number.isInteger(n)||n<0)throw new Error("Expected id to be a non-negative integer, got ".concat(n,"."))},ae=Object(L.a)(re.prototype,"sections",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),re),Me=function e(n){Object(l.a)(this,e),this.name=n},xe=function e(n,t,r){Object(l.a)(this,e),this.item=n,this.anythingRate=t,this.rareRate=r,this.rate=void 0,this.rate=t*r},Fe=(oe=function(){function e(n,t,r,a){if(Object(l.a)(this,e),this.id=void 0,this.name=void 0,this.quest=void 0,this.npcs=void 0,this.enemies=void 0,this.enemyCounts=void 0,this.defaultTime=void 0,Object(I.a)(this,"userTime",ie,this),!n)throw new Error("id is required.");if(a<=0)throw new Error("defaultTime must be greater than zero.");if(!t)throw new Error("name is required.");if(!r)throw new Error("quest is required.");this.id=n,this.name=t,this.quest=r,this.npcs=this.quest.npcs,this.enemies=this.npcs.filter(function(e){return e.type.enemy}),this.enemyCounts=new Map;var o=!0,i=!1,s=void 0;try{for(var u,c=this.enemies[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=u.value;this.enemyCounts.set(d.type,(this.enemyCounts.get(d.type)||0)+1)}}catch(p){i=!0,s=p}finally{try{o||null==c.return||c.return()}finally{if(i)throw s}}this.defaultTime=a}return Object(u.a)(e,[{key:"time",get:function(){return null!=this.userTime?this.userTime:this.defaultTime}}]),e}(),ie=Object(L.a)(oe.prototype,"userTime",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(L.a)(oe.prototype,"time",[O.f],Object.getOwnPropertyDescriptor(oe.prototype,"time"),oe.prototype),oe),Te=function e(n,t,r){if(Object(l.a)(this,e),this.id=n,this.name=t,this.npcs=r,!n)throw new Error("id is required.");if(!t)throw new Error("name is required.");if(!r)throw new Error("npcs is required.")},Ae=function e(n){if(Object(l.a)(this,e),this.type=n,!n)throw new Error("type is required.")},Ge=new(ve=function e(){Object(l.a)(this,e),Object(I.a)(this,"currentServer",fe,this)},fe=Object(L.a)(ve.prototype,"currentServer",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return se.Ephinea}}),ve),Ue=t(95);!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Nominal=2]="Nominal",e[e.Error=3]="Error",e[e.Reloading=4]="Reloading"}(Se||(Se={}));var Pe,ze,We,Ne,He,Ve,qe,Ye,Ze,Qe,Ke,Je,Xe,$e,en,nn,tn,rn=(be=function(){function e(n,t){Object(l.a)(this,e),Object(I.a)(this,"_value",ke,this),Object(I.a)(this,"_promise",ye,this),Object(I.a)(this,"_state",ge,this),this._load=void 0,Object(I.a)(this,"_error",Re,this),this._value=n,this._load=t}return Object(u.a)(e,[{key:"load",value:function(){return this.loadValue()}},{key:"loadValue",value:function(){var e=Object(_.a)(D.a.mark(function e(){return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isLoading){e.next=2;break}return e.abrupt("return",this._promise);case 2:if(this._state=Se.Initializing,e.prev=3,!this._load){e.next=9;break}return this._promise=this._load(),e.next=8,this._promise;case 8:this._value=e.sent;case 9:return this._state=Se.Nominal,this._error=void 0,e.abrupt("return",this._value);case 14:throw e.prev=14,e.t0=e.catch(3),this._state=Se.Error,this._error=e.t0,e.t0;case 19:case"end":return e.stop()}},e,this,[[3,14]])}));return function(){return e.apply(this,arguments)}}()},{key:"value",get:function(){var e=this;return this._state===Se.Uninitialized&&Object(Ue.defer)(function(){return e.loadValue()}),this._value}},{key:"promise",get:function(){return this._state===Se.Uninitialized?this.loadValue():this._promise}},{key:"state",get:function(){return this._state}},{key:"isInitialized",get:function(){return this._state!==Se.Uninitialized}},{key:"isLoading",get:function(){switch(this._state){case Se.Initializing:case Se.Reloading:return!0;default:return!1}}},{key:"error",get:function(){return this._error}}]),e}(),ke=Object(L.a)(be.prototype,"_value",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=Object(L.a)(be.prototype,"_promise",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return new Promise(function(n){return n(e._value)})}}),ge=Object(L.a)(be.prototype,"_state",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Se.Uninitialized}}),Re=Object(L.a)(be.prototype,"_error",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(L.a)(be.prototype,"value",[O.f],Object.getOwnPropertyDescriptor(be.prototype,"value"),be.prototype),Object(L.a)(be.prototype,"state",[O.f],Object.getOwnPropertyDescriptor(be.prototype,"state"),be.prototype),Object(L.a)(be.prototype,"isInitialized",[O.f],Object.getOwnPropertyDescriptor(be.prototype,"isInitialized"),be.prototype),Object(L.a)(be.prototype,"isLoading",[O.f],Object.getOwnPropertyDescriptor(be.prototype,"isLoading"),be.prototype),Object(L.a)(be.prototype,"error",[O.f],Object.getOwnPropertyDescriptor(be.prototype,"error"),be.prototype),be),an=(Pe=function(e){function n(e){return Object(l.a)(this,n),Object(c.a)(this,Object(d.a)(n).call(this,se,e))}return Object(p.a)(n,e),Object(u.a)(n,[{key:"current",get:function(){return this.get(Ge.currentServer)}}]),n}(le),Object(L.a)(Pe.prototype,"current",[O.f],Object.getOwnPropertyDescriptor(Pe.prototype,"current"),Pe.prototype),Pe),on=new(ze=function(){function e(){Object(l.a)(this,e),Object(I.a)(this,"methods",We,this)}return Object(u.a)(e,[{key:"loadHuntMethods",value:function(){var e=Object(_.a)(D.a.mark(function e(n){var t,r,a,o;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("","/quests.").concat(se[n].toLowerCase(),".tsv"));case 2:return t=e.sent,e.next=5,t.text();case 5:return r=e.sent,a=r.split("\n").map(function(e){return e.split("\t")}),o=a[0].slice(2,-2).map(function(e,n){var t=a[1][n+2];return E.byNameAndEpisode(t,parseInt(e,10))}),e.abrupt("return",a.slice(2).map(function(e,n){var t=n+1,r=e[0],a=parseFloat(e[1]),i=e.slice(2,-2).flatMap(function(e,n){var t=parseInt(e,10),r=o[n],a=[];if(r)for(var i=0;i<t;i++)a.push(new Ae(r));else console.error("Couldn't get type for cellI ".concat(n,"."));return a});return new Fe("q".concat(t),r,new Te(t,r,i),a)}));case 9:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()}]),e}(),We=Object(L.a)(ze.prototype,"methods",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return new an(function(n){return new rn([],function(){return e.loadHuntMethods(n)})})}}),ze),sn=new(Ne=function(){function e(){var n=this;Object(l.a)(this,e),this.itemMap=new Map,Object(I.a)(this,"items",He,this),this.dedupItem=function(e){var t=n.itemMap.get(e);return t||n.itemMap.set(e,t=new Me(e)),t}}return Object(u.a)(e,[{key:"loadItems",value:function(){var e=Object(_.a)(D.a.mark(function e(n){var t,r,a=this;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("","/items.").concat(se[n].toLowerCase(),".json"));case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,e.abrupt("return",r.map(function(e){var n=e.name;return a.dedupItem(n)}));case 7:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()}]),e}(),He=Object(L.a)(Ne.prototype,"items",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return new an(function(n){return new rn([],function(){return e.loadItems(n)})})}}),Ne),ln=function(){function e(){Object(l.a)(this,e),this.map=new le(we,function(){return new le(pe,function(){return new Map})})}return Object(u.a)(e,[{key:"getDrop",value:function(e,n,t){return this.map.get(e).get(n).get(t)}},{key:"setDrop",value:function(e,n,t,r){this.map.get(e).get(n).set(t,r)}}]),e}(),un=new(Ve=function e(){Object(l.a)(this,e),Object(I.a)(this,"enemyDrops",qe,this),this.loadEnemyDrops=function(){var e=Object(_.a)(D.a.mark(function e(n){var t,r,a,o,i,s,l,u,c,d;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("","/enemyDrops.").concat(se[n].toLowerCase(),".json"));case 2:return t=e.sent,e.next=5,t.json();case 5:r=e.sent,a=new ln,o=!0,i=!1,s=void 0,e.prev=10,l=r[Symbol.iterator]();case 12:if(o=(u=l.next()).done){e.next=22;break}if(c=u.value,d=E.byNameAndEpisode(c.enemy,c.episode)){e.next=18;break}return console.error("Couldn't determine NpcType of episode ".concat(c.episode," ").concat(c.enemy,".")),e.abrupt("continue",19);case 18:a.setDrop(c.difficulty,c.sectionId,d,new xe(sn.dedupItem(c.item),c.dropRate,c.rareRate));case 19:o=!0,e.next=12;break;case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(10),i=!0,s=e.t0;case 28:e.prev=28,e.prev=29,o||null==l.return||l.return();case 31:if(e.prev=31,!i){e.next=34;break}throw s;case 34:return e.finish(31);case 35:return e.finish(28);case 36:return e.abrupt("return",a);case 37:case"end":return e.stop()}},e,null,[[10,24,28,36],[29,,31,35]])}));return function(n){return e.apply(this,arguments)}}()},qe=Object(L.a)(Ve.prototype,"enemyDrops",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return new an(function(n){return new rn(new ln,function(){return e.loadEnemyDrops(n)})})}}),Ve),cn=(Ye=function e(n,t){Object(l.a)(this,e),Object(I.a)(this,"item",Ze,this),Object(I.a)(this,"amount",Qe,this),this.item=n,this.amount=t},Ze=Object(L.a)(Ye.prototype,"item",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qe=Object(L.a)(Ye.prototype,"amount",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ye),dn=function e(n,t,r,a,o,i){Object(l.a)(this,e),this.difficulty=n,this.sectionIds=t,this.methodName=r,this.methodTime=a,this.runs=o,this.itemCounts=i,this.totalTime=void 0,this.totalTime=o*a},pn=new(Ke=function(){function e(){var n=this;Object(l.a)(this,e),Object(I.a)(this,"wantedItems",Je,this),Object(I.a)(this,"results",Xe,this),this.initialize=Object(_.a)(D.a.mark(function e(){return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.loadFromLocalStorage();case 3:Object(O.e)(n.storeInLocalStorage),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),this.loadFromLocalStorage=Object(_.a)(D.a.mark(function e(){var t,r,a,o,i,s,l,u,c,d;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("HuntOptimizerStore.wantedItems.".concat(Ge.currentServer)))){e.next=28;break}return e.next=4,sn.items.current.promise;case 4:for(r=e.sent,a=JSON.parse(t),o=[],i=!0,s=!1,l=void 0,e.prev=10,u=function(){var e=d.value,n=e.itemName,t=e.amount,a=r.find(function(e){return e.name===n});a&&o.push(new cn(a,t))},c=a[Symbol.iterator]();!(i=(d=c.next()).done);i=!0)u();e.next=19;break;case 15:e.prev=15,e.t0=e.catch(10),s=!0,l=e.t0;case 19:e.prev=19,e.prev=20,i||null==c.return||c.return();case 22:if(e.prev=22,!s){e.next=25;break}throw l;case 25:return e.finish(22);case 26:return e.finish(19);case 27:n.wantedItems.replace(o);case 28:case"end":return e.stop()}},e,null,[[10,15,19,27],[20,,22,26]])})),this.storeInLocalStorage=function(){try{localStorage.setItem("HuntOptimizerStore.wantedItems.".concat(Ge.currentServer),JSON.stringify(n.wantedItems.map(function(e){var n=e.item,t=e.amount;return{itemName:n.name,amount:t}})))}catch(e){console.error(e)}},this.optimize=Object(_.a)(D.a.mark(function e(){var t,r,a,o,i,s,l,u,c,d,p,h,w,m,v,f,b,k,y,g,S,_,I,L,C,j,M,x,F,T,A,G,U,P,z,W,N,H,V,q,Y,Z,Q,K,J,X,$,ee,ne,te,re,ae,oe,ie,se,le,de,pe,he,we,ve,fe,be;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.wantedItems.length){e.next=3;break}return n.results.splice(0),e.abrupt("return");case 3:return e.next=5,on.methods.current.promise;case 5:return t=e.sent,e.next=8,un.enemyDrops.current.promise;case 8:for(r=e.sent,a={},o=!0,i=!1,s=void 0,e.prev=13,l=n.wantedItems[Symbol.iterator]();!(o=(u=l.next()).done);o=!0)c=u.value,a[c.item.name]={min:c.amount};e.next=21;break;case 17:e.prev=17,e.t0=e.catch(13),i=!0,s=e.t0;case 21:e.prev=21,e.prev=22,o||null==l.return||l.return();case 24:if(e.prev=24,!i){e.next=27;break}throw s;case 27:return e.finish(24);case 28:return e.finish(21);case 29:d={},p=new Map,h=new Set(n.wantedItems.filter(function(e){return e.amount>0}).map(function(e){return e.item})),w=!0,m=!1,v=void 0,e.prev=35,f=t[Symbol.iterator]();case 37:if(w=(b=f.next()).done){e.next=143;break}for(k=b.value,y=new Map,g=!0,S=!1,_=void 0,e.prev=43,I=k.enemies[Symbol.iterator]();!(g=(L=I.next()).done);g=!0)C=L.value,j=y.get(C.type),null==C.type.rareType?y.set(C.type,(j||0)+1):(M=void 0,x=void 0,C.type.rareType===E.Kondrieu?(M=1-ce,x=ce):(M=1-ue,x=ue),y.set(C.type,(j||0)+M),F=y.get(C.type.rareType),y.set(C.type.rareType,(F||0)+x));e.next=51;break;case 47:e.prev=47,e.t1=e.catch(43),S=!0,_=e.t1;case 51:e.prev=51,e.prev=52,g||null==I.return||I.return();case 54:if(e.prev=54,!S){e.next=57;break}throw _;case 57:return e.finish(54);case 58:return e.finish(51);case 59:T=[y],A=y.get(E.PanArms),G=y.get(E.PanArms2),(A||G)&&(U=new Map(y),A&&(U.delete(E.PanArms),U.set(E.Migium,A),U.set(E.Hidoom,A)),G&&(U.delete(E.PanArms2),U.set(E.Migium2,G),U.set(E.Hidoom2,G)),T.push(U)),P=0;case 64:if(!(P<T.length)){e.next=140;break}z=T[P],W=1===P,N=!0,H=!1,V=void 0,e.prev=70,q=De[Symbol.iterator]();case 72:if(N=(Y=q.next()).done){e.next=123;break}Z=Y.value,Q=!0,K=!1,J=void 0,e.prev=77,X=me[Symbol.iterator]();case 79:if(Q=($=X.next()).done){e.next=106;break}for(ee=$.value,ne={time:k.time},te=!1,re=!0,ae=!1,oe=void 0,e.prev=86,ie=z.entries()[Symbol.iterator]();!(re=(se=ie.next()).done);re=!0)le=se.value,de=Object(R.a)(le,2),pe=de[0],he=de[1],(we=r.getDrop(Z,ee,pe))&&h.has(we.item)&&(ve=ne[we.item.name]||0,ne[we.item.name]=ve+he*we.rate,te=!0);e.next=94;break;case 90:e.prev=90,e.t2=e.catch(86),ae=!0,oe=e.t2;case 94:e.prev=94,e.prev=95,re||null==ie.return||ie.return();case 97:if(e.prev=97,!ae){e.next=100;break}throw oe;case 100:return e.finish(97);case 101:return e.finish(94);case 102:te&&(fe=n.fullMethodName(Z,ee,k,W),d[fe]=ne,p.set(fe,{method:k,difficulty:Z,sectionId:ee,splitPanArms:W}));case 103:Q=!0,e.next=79;break;case 106:e.next=112;break;case 108:e.prev=108,e.t3=e.catch(77),K=!0,J=e.t3;case 112:e.prev=112,e.prev=113,Q||null==X.return||X.return();case 115:if(e.prev=115,!K){e.next=118;break}throw J;case 118:return e.finish(115);case 119:return e.finish(112);case 120:N=!0,e.next=72;break;case 123:e.next=129;break;case 125:e.prev=125,e.t4=e.catch(70),H=!0,V=e.t4;case 129:e.prev=129,e.prev=130,N||null==q.return||q.return();case 132:if(e.prev=132,!H){e.next=135;break}throw V;case 135:return e.finish(132);case 136:return e.finish(129);case 137:P++,e.next=64;break;case 140:w=!0,e.next=37;break;case 143:e.next=149;break;case 145:e.prev=145,e.t5=e.catch(35),m=!0,v=e.t5;case 149:e.prev=149,e.prev=150,w||null==f.return||f.return();case 152:if(e.prev=152,!m){e.next=155;break}throw v;case 155:return e.finish(152);case 156:return e.finish(149);case 157:be=B.a.Solve({optimize:"time",opType:"min",constraints:a,variables:d}),Object(O.n)(function(){if(n.results.splice(0),be.feasible)for(var e=0,t=Object.entries(be);e<t.length;e++){var r=t[e],a=Object(R.a)(r,2),o=a[0],i=a[1],s=p.get(o);if(s){for(var l=s.method,u=s.difficulty,c=s.sectionId,w=s.splitPanArms,m=i,v=d[o],f=new Map,b=0,k=Object.entries(v);b<k.length;b++){var y=k[b],g=Object(R.a)(y,2),S=g[0],D=g[1],_=!0,I=!1,L=void 0;try{for(var C,B=h[Symbol.iterator]();!(_=(C=B.next()).done);_=!0){var O=C.value;if(S===O.name){f.set(O,m*D);break}}}catch(N){I=!0,L=N}finally{try{_||null==B.return||B.return()}finally{if(I)throw L}}}var j=[],E=!0,M=!1,x=void 0;try{for(var F,T=me[Symbol.iterator]();!(E=(F=T.next()).done);E=!0){var A=F.value,G=!0;if(A!==c){var U=d[n.fullMethodName(u,A,l,w)];if(U)for(var P=0,z=Object.keys(v);P<z.length;P++){var W=z[P];if(v[W]!==U[W]){G=!1;break}}else G=!1}G&&j.push(A)}}catch(N){M=!0,x=N}finally{try{E||null==T.return||T.return()}finally{if(M)throw x}}n.results.push(new dn(u,j,l.name+(w?" (Split Pan Arms)":""),l.time,m,f))}}});case 159:case"end":return e.stop()}},e,null,[[13,17,21,29],[22,,24,28],[35,145,149,157],[43,47,51,59],[52,,54,58],[70,125,129,137],[77,108,112,120],[86,90,94,102],[95,,97,101],[113,,115,119],[130,,132,136],[150,,152,156]])})),this.initialize()}return Object(u.a)(e,[{key:"fullMethodName",value:function(e,n,t,r){var a="".concat(e,"\t").concat(n,"\t").concat(t.name);return r&&(a+=" (Split Pan Arms)"),a}}]),e}(),Je=Object(L.a)(Ke.prototype,"wantedItems",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.m.array()}}),Xe=Object(L.a)(Ke.prototype,"results",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.m.array()}}),Ke),hn=(t(316),Object(h.a)($e=function(e){function n(){var e,t;Object(l.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=Object(c.a)(this,(e=Object(d.a)(n)).call.apply(e,[this].concat(o)))).addWanted=function(e){if(!pn.wantedItems.find(function(n){return n.item.name===e})){var n=sn.items.current.value.find(function(n){return n.name===e});pn.wantedItems.push(new cn(n,1))}},t.removeWanted=function(e){return function(){var n=pn.wantedItems.findIndex(function(n){return n===e});-1!==n&&pn.wantedItems.splice(n,1)}},t.tableRemoveCellRenderer=function(e){var n=e.rowData;return a.a.createElement(y.a,{type:"link",icon:"delete",onClick:t.removeWanted(n)})},t}return Object(p.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this;return pn.wantedItems.slice(0,0),a.a.createElement("section",{className:"ho-WantedItemsComponent"},a.a.createElement("h3",null,"Wanted Items"),a.a.createElement("div",null,a.a.createElement(k.a,{value:void 0,showSearch:!0,placeholder:"Add an item",optionFilterProp:"children",style:{width:200},filterOption:!0,onChange:this.addWanted},sn.items.current.value.map(function(e){return a.a.createElement(k.a.Option,{key:e.name},e.name)})),a.a.createElement(y.a,{onClick:pn.optimize,style:{marginLeft:10}},"Optimize")),a.a.createElement("div",{className:"ho-WantedItemsComponent-table"},a.a.createElement(g.a,null,function(n){var t=n.width,r=n.height;return a.a.createElement(g.d,{width:t,height:r,headerHeight:30,rowHeight:30,rowCount:pn.wantedItems.length,rowGetter:function(e){var n=e.index;return pn.wantedItems[n]}},a.a.createElement(g.b,{label:"Amount",dataKey:"amount",width:70,cellRenderer:function(e){var n=e.rowData;return a.a.createElement(wn,{wantedItem:n})}}),a.a.createElement(g.b,{label:"Item",dataKey:"item",width:150,flexGrow:1,cellDataGetter:function(e){return e.rowData.item.name}}),a.a.createElement(g.b,{dataKey:"remove",width:30,cellRenderer:e.tableRemoveCellRenderer}))})))}}]),n}(a.a.Component))||$e),wn=Object(h.a)(en=function(e){function n(){var e,t;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(c.a)(this,(e=Object(d.a)(n)).call.apply(e,[this].concat(a)))).wantedAmountChanged=function(e){null!=e&&e>=0&&(t.props.wantedItem.amount=e)},t}return Object(p.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this.props.wantedItem;return a.a.createElement(b.a,{min:0,max:10,value:e.amount,onChange:this.wantedAmountChanged,size:"small",style:{width:"100%"}})}}]),n}(a.a.Component))||en,mn=(t(329),function(e){function n(){var e,t;Object(l.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=Object(c.a)(this,(e=Object(d.a)(n)).call.apply(e,[this].concat(o)))).columnWidth=function(e){var n=e.index;return t.props.columns[n].width},t.cellRenderer=function(e){var n,r,o=e.columnIndex,i=e.rowIndex,s=e.style,l=t.props.columns[o],u=["DataTable-cell"];if(o===t.props.columns.length-1&&u.push("last-in-row"),0===i)n=r=l.name;else if(l.className&&u.push(l.className),t.props.footer&&i===1+t.props.rowCount)u.push("footer-cell"),n=null==l.footerValue?"":l.footerValue,r=null==l.footerTooltip?"":l.footerTooltip;else{var c=t.props.record({index:i-1});n=l.cellRenderer(c),l.tooltip&&(r=l.tooltip(c))}return"string"!==typeof n&&u.push("custom"),a.a.createElement("div",{className:u.join(" "),key:"".concat(o,", ").concat(i),style:s,title:r},"string"===typeof n?a.a.createElement("span",{className:"DataTable-cell-text"},n):n)},t}return Object(p.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"DataTable",style:{width:this.props.width,height:this.props.height}},a.a.createElement(g.c,{width:this.props.width,height:this.props.height,rowHeight:26,rowCount:this.props.rowCount+1+(this.props.footer?1:0),fixedRowCount:1,overscanRowCount:this.props.overscanRowCount,columnWidth:this.columnWidth,columnCount:this.props.columns.length,fixedColumnCount:this.props.fixedColumnCount,overscanColumnCount:this.props.overscanColumnCount,cellRenderer:this.cellRenderer,classNameTopLeftGrid:"DataTable-header",classNameTopRightGrid:"DataTable-header",updateTigger:this.props.updateTrigger}))}}]),n}(a.a.Component));t(330);function vn(e){var n=Math.floor(e),t=Math.round(60*(e-n));return"".concat(n.toString().padStart(2,"0"),":").concat(t.toString().padStart(2,"0"))}var fn=Object(h.a)((tn=function(e){function n(){var e,t;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(c.a)(this,(e=Object(d.a)(n)).call.apply(e,[this].concat(a)))).record=function(e){var n=e.index;return pn.results[n]},t}return Object(p.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this;return this.updateTrigger,a.a.createElement("section",{className:"ho-OptimizationResultComponent"},a.a.createElement("h3",null,"Optimization Result"),a.a.createElement("div",{className:"ho-OptimizationResultComponent-table"},a.a.createElement(g.a,null,function(n){var t=n.width,r=n.height;return a.a.createElement(mn,{width:t,height:r,rowCount:pn.results.length,columns:e.columns,fixedColumnCount:3,record:e.record,footer:pn.results.length>0,updateTrigger:e.updateTrigger})})))}},{key:"columns",get:function(){var e=pn.results,n=0,t=0,r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var l=i.value;n+=l.runs,t+=l.totalTime}}catch(B){a=!0,o=B}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}var u=[{name:"Difficulty",width:75,cellRenderer:function(e){return e.difficulty},footerValue:"Totals:"},{name:"Method",width:200,cellRenderer:function(e){return e.methodName},tooltip:function(e){return e.methodName}},{name:"Section ID",width:80,cellRenderer:function(e){return e.sectionIds.join(", ")},tooltip:function(e){return e.sectionIds.join(", ")}},{name:"Time/Run",width:80,cellRenderer:function(e){return vn(e.methodTime)},className:"number"},{name:"Runs",width:60,cellRenderer:function(e){return e.runs.toFixed(1)},tooltip:function(e){return e.runs.toString()},footerValue:n.toFixed(1),footerTooltip:n.toString(),className:"number"},{name:"Total Hours",width:90,cellRenderer:function(e){return e.totalTime.toFixed(1)},tooltip:function(e){return e.totalTime.toString()},footerValue:t.toFixed(1),footerTooltip:t.toString(),className:"number"}],c=new Set,d=!0,p=!1,h=void 0;try{for(var w,m=e[Symbol.iterator]();!(d=(w=m.next()).done);d=!0){var v=w.value,f=!0,b=!1,k=void 0;try{for(var y,g=v.itemCounts.keys()[Symbol.iterator]();!(f=(y=g.next()).done);f=!0){var R=y.value;c.add(R)}}catch(B){b=!0,k=B}finally{try{f||null==g.return||g.return()}finally{if(b)throw k}}}}catch(B){p=!0,h=B}finally{try{d||null==m.return||m.return()}finally{if(p)throw h}}var S=!0,D=!1,_=void 0;try{for(var I,L=function(){var n=I.value,t=e.reduce(function(e,t){return e+(t.itemCounts.get(n)||0)},0);u.push({name:n.name,width:80,cellRenderer:function(e){var t=e.itemCounts.get(n);return t?t.toFixed(2):""},tooltip:function(e){var t=e.itemCounts.get(n);return t?t.toString():""},className:"number",footerValue:t.toFixed(2),footerTooltip:t.toString()})},C=c[Symbol.iterator]();!(S=(I=C.next()).done);S=!0)L()}catch(B){D=!0,_=B}finally{try{S||null==C.return||C.return()}finally{if(D)throw _}}return u}},{key:"updateTrigger",get:function(){return pn.results.slice(0,0)}}]),n}(a.a.Component),Object(L.a)(tn.prototype,"columns",[O.f],Object.getOwnPropertyDescriptor(tn.prototype,"columns"),tn.prototype),Object(L.a)(tn.prototype,"updateTrigger",[O.f],Object.getOwnPropertyDescriptor(tn.prototype,"updateTrigger"),tn.prototype),nn=tn))||nn;t(331);function bn(){return a.a.createElement("section",{className:"ho-OptimizerComponent"},a.a.createElement(hn,null),a.a.createElement(fn,null))}t(332);var kn,yn,gn,Rn,Sn=t(214),Dn=t(46),_n=t.n(Dn),In=(t(334),Object(h.a)((gn=yn=function(e){function n(){var e,t;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(c.a)(this,(e=Object(d.a)(n)).call.apply(e,[this].concat(a)))).record=function(e){var n=e.index;return on.methods.current.value[n]},t}return Object(p.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this,t=on.methods.current.value;return a.a.createElement("section",{className:"ho-MethodsComponent"},a.a.createElement(g.a,null,function(r){var o=r.width,i=r.height;return a.a.createElement(mn,{width:o,height:i,rowCount:t.length,columns:n.columns,fixedColumnCount:2,record:e.record})}))}}]),n}(a.a.Component),yn.columns=function(){var e=[{name:"Method",width:250,cellRenderer:function(e){return e.name}},{name:"Time",width:50,cellRenderer:function(e){return vn(e.time)},className:"integrated"}],n=!0,t=!1,r=void 0;try{for(var a,o=function(){var n=a.value;e.push({name:n.name,width:75,cellRenderer:function(e){var t=e.enemyCounts.get(n);return null==t?"":t.toString()},className:"number"})},i=M[Symbol.iterator]();!(n=(a=i.next()).done);n=!0)o()}catch(s){t=!0,r=s}finally{try{n||null==i.return||i.return()}finally{if(t)throw r}}return e}(),kn=gn))||kn),Ln=(Object(h.a)(Rn=function(e){function n(){var e,t;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(c.a)(this,(e=Object(d.a)(n)).call.apply(e,[this].concat(a)))).change=function(e){t.props.method.userTime=e.hour()+e.minute()/60},t}return Object(p.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this.props.method.time,n=Math.floor(e),t=Math.round(60*(e-n));return a.a.createElement(Sn.a,{className:"ho-MethodsComponent-timepicker",value:_n()({hour:n,minute:t}),format:"HH:mm",size:"small",allowClear:!1,suffixIcon:a.a.createElement("span",null),onChange:this.change})}}]),n}(a.a.Component)),f.a.TabPane);t(341);var Cn=t(212),Bn=(t(454),t(147)),On=(t(345),t(213)),jn=(t(347),t(14)),En=(t(455),t(211)),Mn=t(71),xn=new Mn.TextDecoder("ascii"),Fn=new Mn.TextDecoder("utf-16be"),Tn=new Mn.TextDecoder("utf-16le"),An=new Mn.TextEncoder("ascii"),Gn=new Mn.TextEncoder("utf-16be"),Un=new Mn.TextEncoder("utf-16le"),Pn=function(){function e(n,t){if(Object(l.a)(this,e),this._size=0,this.position=void 0,this.littleEndian=void 0,this.buffer=void 0,this.dv=void 0,this.uint8Array=void 0,this.utf16Decoder=void 0,this.utf16Encoder=void 0,"number"===typeof n)this.buffer=new ArrayBuffer(n),this.size=0;else{if(!(n instanceof ArrayBuffer))throw new Error("buffer_or_capacity should be an ArrayBuffer or a number.");this.buffer=n,this.size=this.buffer.byteLength}this.littleEndian=!!t,this.position=0,this.dv=new DataView(this.buffer),this.uint8Array=new Uint8Array(this.buffer,0,this.size),this.utf16Decoder=t?Tn:Fn,this.utf16Encoder=t?Un:Gn}return Object(u.a)(e,[{key:"size",get:function(){return this._size},set:function(e){if(e<0)throw new Error("Size should be non-negative.");this.ensureCapacity(e),this._size=e}},{key:"bytesLeft",get:function(){return this.size-this.position}},{key:"capacity",get:function(){return this.buffer.byteLength}}]),Object(u.a)(e,[{key:"seek",value:function(e){return this.seekStart(this.position+e)}},{key:"seekStart",value:function(e){if(e<0||e>this.size)throw new Error("Offset ".concat(e," is out of bounds."));return this.position=e,this}},{key:"seekEnd",value:function(e){if(e<0||e>this.size)throw new Error("Offset ".concat(e," is out of bounds."));return this.position=this.size-e,this}},{key:"u8",value:function(){return this.dv.getUint8(this.position++)}},{key:"u16",value:function(){var e=this.dv.getUint16(this.position,this.littleEndian);return this.position+=2,e}},{key:"u32",value:function(){var e=this.dv.getUint32(this.position,this.littleEndian);return this.position+=4,e}},{key:"i16",value:function(){var e=this.dv.getInt16(this.position,this.littleEndian);return this.position+=2,e}},{key:"i32",value:function(){var e=this.dv.getInt32(this.position,this.littleEndian);return this.position+=4,e}},{key:"f32",value:function(){var e=this.dv.getFloat32(this.position,this.littleEndian);return this.position+=4,e}},{key:"u8Array",value:function(e){for(var n=[],t=0;t<e;++t)n.push(this.dv.getUint8(this.position++));return n}},{key:"u16Array",value:function(e){for(var n=[],t=0;t<e;++t)n.push(this.dv.getUint16(this.position,this.littleEndian)),this.position+=2;return n}},{key:"take",value:function(n){if(n<0||n>this.size-this.position)throw new Error("Size ".concat(n," out of bounds."));return this.position+=n,new e(this.buffer.slice(this.position-n,this.position),this.littleEndian)}},{key:"stringAscii",value:function(e,n,t){var r=n?this.indexOfU8(0,e)-this.position:e,a=xn.decode(new DataView(this.buffer,this.position,r));return this.position+=t?e:Math.min(r+1,e),a}},{key:"stringUtf16",value:function(e,n,t){var r=n?this.indexOfU16(0,e)-this.position:2*Math.floor(e/2),a=this.utf16Decoder.decode(new DataView(this.buffer,this.position,r));return this.position+=t?e:Math.min(r+2,e),a}},{key:"writeU8",value:function(e){return this.ensureCapacity(this.position+1),this.dv.setUint8(this.position++,e),this.position>this.size&&(this.size=this.position),this}},{key:"writeU16",value:function(e){return this.ensureCapacity(this.position+2),this.dv.setUint16(this.position,e,this.littleEndian),this.position+=2,this.position>this.size&&(this.size=this.position),this}},{key:"writeU32",value:function(e){return this.ensureCapacity(this.position+4),this.dv.setUint32(this.position,e,this.littleEndian),this.position+=4,this.position>this.size&&(this.size=this.position),this}},{key:"writeI32",value:function(e){return this.ensureCapacity(this.position+4),this.dv.setInt32(this.position,e,this.littleEndian),this.position+=4,this.position>this.size&&(this.size=this.position),this}},{key:"writeF32",value:function(e){return this.ensureCapacity(this.position+4),this.dv.setFloat32(this.position,e,this.littleEndian),this.position+=4,this.position>this.size&&(this.size=this.position),this}},{key:"writeU8Array",value:function(e){return this.ensureCapacity(this.position+e.length),new Uint8Array(this.buffer,this.position).set(new Uint8Array(e)),this.position+=e.length,this.position>this.size&&(this.size=this.position),this}},{key:"writeCursor",value:function(e){return this.ensureCapacity(this.position+e.size),new Uint8Array(this.buffer,this.position).set(new Uint8Array(e.buffer)),this.position+=e.size,this.position>this.size&&(this.size=this.position),this}},{key:"writeStringAscii",value:function(e,n){var t=0,r=!0,a=!1,o=void 0;try{for(var i,s=An.encode(e)[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var l=i.value;t<n&&(this.writeU8(l),++t)}}catch(u){a=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}for(;t<n;)this.writeU8(0),++t}},{key:"uint8ArrayView",value:function(){return this.uint8Array}},{key:"indexOfU8",value:function(e,n){for(var t=Math.min(this.position+n,this.size),r=this.position;r<t;++r)if(this.dv.getUint8(r)===e)return r;return this.position+n}},{key:"indexOfU16",value:function(e,n){for(var t=Math.min(this.position+n,this.size),r=this.position;r<t;r+=2)if(this.dv.getUint16(r,this.littleEndian)===e)return r;return this.position+n}},{key:"ensureCapacity",value:function(e){if(e>this.capacity){var n=this.capacity||e;do{n*=2}while(n<e);var t=new ArrayBuffer(n);new Uint8Array(t).set(new Uint8Array(this.buffer,0,this.size)),this.buffer=t,this.dv=new DataView(this.buffer),this.uint8Array=new Uint8Array(this.buffer,0,e)}}}]),e}();function zn(){return(zn=Object(_.a)(D.a.mark(function e(n){var t,r;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Yn(n),e.next=3,Hn(t);case 3:return r=e.sent,e.abrupt("return",{url:t,data:r});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Wn(){return(Wn=Object(_.a)(D.a.mark(function e(n){var t,r;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Zn(n),e.next=3,Hn(t);case 3:return r=e.sent,e.abrupt("return",{url:t,data:r});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Nn=new Map;function Hn(e){var n=Nn.get(e);if(n)return n;var t=fetch(""+e).then(function(e){return e.arrayBuffer()});return Nn.set(e,t),t}var Vn=[[["city00_00",1],["forest01",1],["forest02",1],["cave01_",6],["cave02_",5],["cave03_",6],["machine01_",6],["machine02_",6],["ancient01_",5],["ancient02_",5],["ancient03_",5],["boss01",1],["boss02",1],["boss03",1],["darkfalz00",1]],[["labo00_00",1],["ruins01_",3],["ruins02_",3],["space01_",3],["space02_",3],["jungle01_00",1],["jungle02_00",1],["jungle03_00",1],["jungle04_",3],["jungle05_00",1],["seabed01_",3],["seabed02_",3],["boss05",1],["boss06",1],["boss07",1],["boss08",1],["jungle06_00",1],["jungle07_",5]],[],[["city02_00",1],["wilds01_00",1],["wilds01_01",1],["wilds01_02",1],["wilds01_03",1],["crater01_00",1],["desert01_",3],["desert02_",3],["desert03_",3],["boss09_00",1]]];function qn(e,n,t,r){try{return Hn(function(e,n,t){var r=Vn[e-1];if(0<=n&&n<r.length){var a=Object(R.a)(r[n],2),o=a[0],i=a[1];if(0<=t&&t<i){var s;if(1===i)s="";else for(s=String(t);s.length<2;)s="0"+s;return"/maps/map_".concat(o).concat(s)}throw new Error("Unknown variant ".concat(t," of area ").concat(n," in episode ").concat(e,"."))}throw new Error("Unknown episode ".concat(e," area ").concat(n,"."))}(e,n,t)+("render"===r?"n.rel":"c.rel"))}catch(a){return Promise.reject(a)}}function Yn(e){switch(e){case E.Dubswitch:return"/npcs/".concat(e.code,".xj");case E.Hildebear2:return Yn(E.Hildebear);case E.Hildeblue2:return Yn(E.Hildeblue);case E.RagRappy2:return Yn(E.RagRappy);case E.Monest2:return Yn(E.Monest);case E.PoisonLily2:return Yn(E.PoisonLily);case E.NarLily2:return Yn(E.NarLily);case E.GrassAssassin2:return Yn(E.GrassAssassin);case E.Dimenian2:return Yn(E.Dimenian);case E.LaDimenian2:return Yn(E.LaDimenian);case E.SoDimenian2:return Yn(E.SoDimenian);case E.DarkBelra2:return Yn(E.DarkBelra);case E.SavageWolf2:return Yn(E.SavageWolf);case E.BarbarousWolf2:return Yn(E.BarbarousWolf);case E.PanArms2:return Yn(E.PanArms);case E.Dubchic2:return Yn(E.Dubchic);case E.Gilchic2:return Yn(E.Gilchic);case E.Garanz2:return Yn(E.Garanz);case E.Dubswitch2:return Yn(E.Dubswitch);case E.Delsaber2:return Yn(E.Delsaber);case E.ChaosSorcerer2:return Yn(E.ChaosSorcerer);default:return"/npcs/".concat(e.code,".nj")}}function Zn(e){switch(e){case x.EasterEgg:case x.ChristmasTree:case x.ChristmasWreath:case x.TwentyFirstCentury:case x.Sonic:case x.WelcomeBoard:case x.FloatingJelifish:case x.RuinsSeal:case x.Dolphin:case x.Cacti:case x.BigBrownRock:case x.PoisonPlant:case x.BigBlackRocks:case x.FallingRock:case x.DesertFixedTypeBoxBreakableCrystals:case x.BeeHive:return"/objects/".concat(String(e.psoId),".nj");default:return"/objects/".concat(String(e.psoId),".xj")}}var Qn=t(52),Kn=t(7);function Jn(e){for(var n=new DataView(e),t=new Kn.Object3D,r=[new Kn.MeshBasicMaterial({color:8437968,transparent:!0,opacity:.25}),new Kn.MeshLambertMaterial({color:5296336,side:Kn.DoubleSide}),new Kn.MeshLambertMaterial({color:5288048,side:Kn.DoubleSide}),new Kn.MeshLambertMaterial({color:6307968,side:Kn.DoubleSide})],a=[new Kn.MeshBasicMaterial({color:9490656,wireframe:!0,transparent:!0,opacity:.3}),new Kn.MeshBasicMaterial({color:6353136,wireframe:!0}),new Kn.MeshBasicMaterial({color:6340736,wireframe:!0}),new Kn.MeshBasicMaterial({color:7360656,wireframe:!0})],o=n.getUint32(n.byteLength-16,!0),i=n.getUint32(o,!0),s=i;s===i||0!==n.getUint32(s);s+=24){for(var l=new Kn.Geometry,u=n.getUint32(s,!0),c=n.getUint32(u,!0),d=n.getUint32(u+4,!0),p=d+12*c,h=n.getUint32(u+8,!0),w=n.getUint32(u+12,!0),m=w+36*h,v=d;v<p;v+=12){var f=n.getFloat32(v,!0),b=n.getFloat32(v+4,!0),k=n.getFloat32(v+8,!0);l.vertices.push(new Kn.Vector3(f,b,k))}for(var y=w;y<m;y+=36){var g=n.getUint16(y,!0),R=n.getUint16(y+2,!0),S=n.getUint16(y+4,!0),D=n.getUint16(y+6,!0),_=new Kn.Vector3(n.getFloat32(y+8,!0),n.getFloat32(y+12,!0),n.getFloat32(y+16,!0)),I=64&D?3:16&D?2:1&D?1:0;l.faces.push(new Kn.Face3(g,R,S,_,void 0,I))}var L=new Kn.Mesh(l,r);L.renderOrder=1,t.add(L);var C=new Kn.Mesh(l,a);C.renderOrder=2,t.add(C)}return t}function Xn(e){for(var n=new DataView(e),t=new Map,r=new Kn.Object3D,a=n.getUint32(n.byteLength-16,!0),o=n.getUint32(a+8,!0),i=n.getUint32(a+16,!0),s=function(e){var a=n.getInt32(e,!0),o=n.getFloat32(e+4,!0),i=n.getFloat32(e+8,!0),s=n.getFloat32(e+12,!0),l=n.getInt32(e+20,!0)/65535*2*Math.PI,u=new Ie(a,new _e(o,i,s),l);t.set(a,u);for(var c=[],d=[],p=[],h=n.getUint32(e+32,!0),w=n.getUint32(e+40,!0),m=h;m<h+16*w;m+=16){var v=n.getUint32(m,!0);4&n.getUint32(m+12,!0)&&(v=n.getUint32(v,!0));var f=n.getUint32(v+4,!0);if(f>0){for(var b=n.getUint32(f+4,!0),k=n.getUint32(f+8,!0),y=n.getUint32(f+12,!0),g=n.getUint32(f+16,!0),R=[],S=y;S<y+20*g;S+=20){for(var D=n.getUint32(S+8,!0),_=n.getUint32(S+12,!0),I=[],L=D;L<D+2*_;L+=2)I.push(n.getUint16(L,!0));R.push(I)}k>1&&console.warn("Vertex info count of ".concat(k," was larger than expected."));for(var C=n.getUint32(b+4,!0),B=n.getUint32(b+8,!0),O=n.getUint32(b+12,!0),j=[],E=[],M=C;M<C+O*B;M+=B){var x=void 0,F=void 0,T=void 0;switch(B){case 16:case 24:x=0,F=1,T=0;break;case 28:case 36:x=n.getFloat32(M+12,!0),F=n.getFloat32(M+16,!0),T=n.getFloat32(M+20,!0);break;default:console.error("Unexpected vertex size of ".concat(B,"."));continue}var A=n.getFloat32(M,!0),G=n.getFloat32(M+4,!0),U=n.getFloat32(M+8,!0),P=u.cosYAxisRotation*A+u.sinYAxisRotation*U,z=-u.sinYAxisRotation*A+u.cosYAxisRotation*U;j.push(o+P),j.push(i+G),j.push(s+z),E.push(x),E.push(F),E.push(T)}c.push(R),d.push(j),p.push(E)}}for(var W=function(e){var n=d[e],t=p[e];c[e].forEach(function(e){var a=new Kn.BufferGeometry;a.addAttribute("position",new Kn.BufferAttribute(new Float32Array(n),3)),a.addAttribute("normal",new Kn.BufferAttribute(new Float32Array(t),3)),a.setIndex(new Kn.BufferAttribute(new Uint16Array(e),1));var o=new Kn.Mesh(a,new Kn.MeshLambertMaterial({color:4500223,opacity:.25,side:Kn.DoubleSide}));o.setDrawMode(Kn.TriangleStripDrawMode),o.userData.section=u,r.add(o)})},N=0;N<d.length;++N)W(N)},l=i;l<i+52*o;l+=52)s(l);return{sections:Object(Qn.a)(t.values()).sort(function(e,n){return e.id-n.id}),object3d:r}}var $n=new Map,et=new Map,nt=new Map;function tt(e,n,t){var r=$n.get("".concat(e,"-").concat(n,"-").concat(t));return r||at(e,n,t).then(function(e){return e.sections})}function rt(e,n,t){var r=nt.get("".concat(e,"-").concat(n,"-").concat(t));if(r)return r;var a=function(e,n,t){return qn(e,n,t,"collision")}(e,n,t).then(Jn);return nt.set("".concat(n,"-").concat(t),a),a}function at(e,n,t){var r=function(e,n,t){return qn(e,n,t,"render")}(e,n,t).then(Xn),a=new Promise(function(e,n){r.then(function(n){var t=n.sections;return e(t)}).catch(n)}),o=new Promise(function(e,n){r.then(function(n){var t=n.object3d;return e(t)}).catch(n)});return $n.set("".concat(e,"-").concat(n,"-").concat(t),a),et.set("".concat(e,"-").concat(n,"-").concat(t),o),r}var ot=t(146);function it(e,n,t){for(var r=[],a=!0;a;){var o=e.u8(),i=e.u8(),s=e.position,l="UNKOWN",u=null,c=null,d=0;0===o?l="NULL":1<=o&&o<=5?(l="BITS",4===o?(u="CACHE_POLYGON_LIST",n[(c={storeIndex:i,offset:e.position}).storeIndex]=c.offset,a=!1):5===o&&(u="DRAW_POLYGON_LIST",c={storeIndex:i},e.seekStart(n[c.storeIndex]),r.splice.apply(r,[r.length,0].concat(Object(Qn.a)(it(e,n,t)))))):8<=o&&o<=9?(l="TINY",d=2):17<=o&&o<=31?(l="MATERIAL",d=2+2*e.u16()):32<=o&&o<=50?(l="VERTEX",d=2+4*e.u16(),c=st(e,o,i)):56<=o&&o<=58?(l="VOLUME",d=2+2*e.u16()):64<=o&&o<=75?(l="STRIP",d=2+2*e.u16(),c=lt(e,o)):255===o?(l="END",d=t?2:0,a=!1):(console.warn("Unknown chunk type: ".concat(o,".")),d=2+2*e.u16()),e.seekStart(s+d),r.push({chunkType:l,chunkSubType:u,chunkTypeId:o,data:c})}return r}function st(e,n,t){if(0!==(3&t))return[];for(var r=e.u16(),a=e.u16(),o=[],i=0;i<a;++i){var s={index:r+i,position:[e.f32(),e.f32(),e.f32()]};32===n?e.seek(4):33===n?(e.seek(4),s.normal=[e.f32(),e.f32(),e.f32()],e.seek(4)):35<=n&&n<=40?37===n?(s.index=r+e.u16(),e.seek(2)):e.seek(4):41<=n&&n<=47?(s.normal=[e.f32(),e.f32(),e.f32()],n>=42&&(44===n?(s.index=r+e.u16(),e.seek(2)):e.seek(4))):n>=48&&(e.seek(4),n>=49&&e.seek(4)),o.push(s)}return o}function lt(e,n){var t,r=e.u16(),a=r>>>14,o=16383&r;switch(n){case 64:t=[!1,!1,!1,!1];break;case 65:case 66:t=[!0,!1,!1,!1];break;case 67:t=[!1,!1,!0,!1];break;case 68:case 69:t=[!0,!1,!0,!1];break;case 70:t=[!1,!0,!1,!1];break;case 71:case 72:t=[!0,!0,!1,!1];break;case 73:t=[!1,!1,!1,!1];break;case 74:case 75:t=[!0,!1,!1,!0];break;default:throw new Error("Unexpected chunk type ID: ".concat(n,"."))}for(var i=t,s=Object(R.a)(i,4),l=s[0],u=s[1],c=s[2],d=s[3],p=[],h=0;h<o;++h){for(var w=e.i16(),m=w<1,v=Math.abs(w),f=[],b=0;b<v;++b)f.push(e.u16()),l&&e.seek(4),u&&e.seek(4),c&&e.seek(6),d&&e.seek(8),b>=2&&e.seek(2*a);p.push({clockwiseWinding:m,indices:f})}return p}function ut(e,n,t,r,a,o,i){for(var s=0;s<t;++s){e.seekStart(n+20*s),e.seek(8);var l=e.u32(),u=e.u32();e.seekStart(l);for(var c=e.u16Array(u),d=!0,p=2;p<c.length;++p){var h=i+c[p-2],w=i+c[p-1],m=i+c[p],v=new Kn.Vector3(r[3*h],r[3*h+1],r[3*h+2]),f=new Kn.Vector3(r[3*w],r[3*w+1],r[3*w+2]),b=new Kn.Vector3(r[3*m],r[3*m+1],r[3*m+2]),k=new Kn.Vector3(a[3*h],a[3*h+1],a[3*h+2]),y=new Kn.Vector3(a[3*h],a[3*h+1],a[3*h+2]),g=new Kn.Vector3(a[3*h],a[3*h+1],a[3*h+2]),R=f.clone().sub(v).cross(b.clone().sub(v));d&&R.negate(),(R.dot(k)<0?1:0)+(R.dot(y)<0?1:0)+(R.dot(g)<0?1:0)>=2&&(d=!d),d?(o.push(w),o.push(h),o.push(m)):(o.push(h),o.push(w),o.push(m)),d=!d}}}function ct(e){return pt(e,"nj")}function dt(e){return pt(e,"xj")}function pt(e,n){for(;e.bytesLeft;){var t=e.stringAscii(4,!1,!1),r=e.u32();if("NJCM"===t)return ht(e.take(r),n);e.seek(r)}}function ht(e,n){var t;if(e.bytesLeft)return t="nj"===n?{format:n,positions:[],normals:[],cachedChunkOffsets:[],vertices:[]}:{format:n,positions:[],normals:[],indices:[]},function e(n,t,r){var a=n.u32();var o=0!==(1&a);var i=0!==(2&a);var s=0!==(4&a);var l=0!==(8&a);var u=0!==(16&a);var c=0!==(32&a);var d=n.u32();var p=n.f32();var h=n.f32();var w=n.f32();var m=n.i32()*(2*Math.PI/65535);var v=n.i32()*(2*Math.PI/65535);var f=n.i32()*(2*Math.PI/65535);var b=n.f32();var k=n.f32();var y=n.f32();var g=n.u32();var R=n.u32();var S=new Kn.Euler(m,v,f,c?"ZXY":"ZYX");var D=(new Kn.Matrix4).compose(o?new Kn.Vector3:new Kn.Vector3(p,h,w),i?new Kn.Quaternion(0,0,0,1):(new Kn.Quaternion).setFromEuler(S),s?new Kn.Vector3(1,1,1):new Kn.Vector3(b,k,y)).premultiply(t);d&&!l&&(n.seekStart(d),function(e,n,t){"nj"===t.format?function(e,n,t){var r=t.positions,a=t.normals,o=t.cachedChunkOffsets,i=t.vertices,s=e.u32(),l=e.u32(),u=(new Kn.Matrix3).getNormalMatrix(n);if(s){e.seekStart(s);var c=!0,d=!1,p=void 0;try{for(var h,w=it(e,o,!0)[Symbol.iterator]();!(c=(h=w.next()).done);c=!0){var m=h.value;if("VERTEX"===m.chunkType){var v=m.data,f=!0,b=!1,k=void 0;try{for(var y,g=v[Symbol.iterator]();!(f=(y=g.next()).done);f=!0){var R=y.value,S=Object(ot.a)(Kn.Vector3,Object(Qn.a)(R.position)).applyMatrix4(n),D=R.normal?Object(ot.a)(Kn.Vector3,Object(Qn.a)(R.normal)).applyMatrix3(u):new Kn.Vector3(0,1,0);i[R.index]={position:S,normal:D}}}catch(N){b=!0,k=N}finally{try{f||null==g.return||g.return()}finally{if(b)throw k}}}}}catch(N){d=!0,p=N}finally{try{c||null==w.return||w.return()}finally{if(d)throw p}}}if(l){e.seekStart(l);var _=!0,I=!1,L=void 0;try{for(var C,B=it(e,o,!1)[Symbol.iterator]();!(_=(C=B.next()).done);_=!0){var O=C.value;if("STRIP"===O.chunkType){var j=!0,E=!1,M=void 0;try{for(var x,F=O.data[Symbol.iterator]();!(j=(x=F.next()).done);j=!0)for(var T=x.value,A=T.clockwiseWinding,G=T.indices,U=2;U<G.length;++U){var P=i[G[U-2]],z=i[G[U-1]],W=i[G[U]];P&&z&&W&&(U%2===(A?1:0)?(r.splice(r.length,0,P.position.x,P.position.y,P.position.z),r.splice(r.length,0,z.position.x,z.position.y,z.position.z),r.splice(r.length,0,W.position.x,W.position.y,W.position.z),a.splice(a.length,0,P.normal.x,P.normal.y,P.normal.z),a.splice(a.length,0,z.normal.x,z.normal.y,z.normal.z),a.splice(a.length,0,W.normal.x,W.normal.y,W.normal.z)):(r.splice(r.length,0,z.position.x,z.position.y,z.position.z),r.splice(r.length,0,P.position.x,P.position.y,P.position.z),r.splice(r.length,0,W.position.x,W.position.y,W.position.z),a.splice(a.length,0,z.normal.x,z.normal.y,z.normal.z),a.splice(a.length,0,P.normal.x,P.normal.y,P.normal.z),a.splice(a.length,0,W.normal.x,W.normal.y,W.normal.z)))}}catch(N){E=!0,M=N}finally{try{j||null==F.return||F.return()}finally{if(E)throw M}}}}}catch(N){I=!0,L=N}finally{try{_||null==B.return||B.return()}finally{if(I)throw L}}}}(e,n,t):function(e,n,t){var r=t.positions,a=t.normals,o=t.indices;e.seek(4);var i=e.u32();e.seek(4);var s=e.u32(),l=e.u32(),u=e.u32(),c=e.u32();e.seek(16);var d=(new Kn.Matrix3).getNormalMatrix(n),p=r.length/3;if(i){e.seekStart(i),e.seek(4);for(var h=e.u32(),w=e.u32(),m=e.u32(),v=0;v<m;++v){e.seekStart(h+v*w);var f=new Kn.Vector3(e.f32(),e.f32(),e.f32()).applyMatrix4(n),b=void 0;b=28===w||32===w||36===w?new Kn.Vector3(e.f32(),e.f32(),e.f32()).applyMatrix3(d):new Kn.Vector3(0,1,0),r.push(f.x),r.push(f.y),r.push(f.z),a.push(b.x),a.push(b.y),a.push(b.z)}}s&&ut(e,s,l,r,a,o,p),u&&ut(e,u,c,r,a,o,p)}(e,n,t)}(n,D,r));g&&!u&&(n.seekStart(g),e(n,D,r));R&&(n.seekStart(R),e(n,t,r))}(e,new Kn.Matrix4,t),function(e){var n=new Kn.BufferGeometry;n.addAttribute("position",new Kn.BufferAttribute(new Float32Array(e.positions),3)),n.addAttribute("normal",new Kn.BufferAttribute(new Float32Array(e.normals),3)),"indices"in e&&n.setIndex(new Kn.BufferAttribute(new Uint16Array(e.indices),1));return n}(t)}var wt=new Map,mt=new Map;function vt(e){var n=wt.get(String(e.id));return n||(n=function(e){return zn.apply(this,arguments)}(e).then(function(e){var n=e.url,t=e.data,r=new Pn(t,!0),a=n.endsWith(".nj")?ct(r):dt(r);if(a)return a;throw new Error("File could not be parsed into a BufferGeometry.")}),wt.set(String(e.id),n),n)}function ft(e){var n=mt.get(String(e.id));return n||(n=function(e){return Wn.apply(this,arguments)}(e).then(function(e){var n=e.url,t=e.data,r=new Pn(t,!0),a=n.endsWith(".nj")?ct(r):dt(r);if(a)return a;throw new Error("File could not be parsed into a BufferGeometry.")}),mt.set(String(e.id),n),n)}function bt(e){var n=new Rt(e),t=new St;if(n.src.size<=3)for(;n.src.bytesLeft;)n.setBit(1),n.copyLiteral();else{for(t.put(t.hash(n.src),0),n.src.seek(1),t.put(t.hash(n.src),1),n.src.seek(-1),n.setBit(1),n.copyLiteral(),n.setBit(1),n.copyLiteral();n.src.bytesLeft>1;){var r=n.findLongestMatch(t,!1),a=Object(R.a)(r,2),o=a[0],i=a[1];if(i>0){n.src.seek(1);var s=n.findLongestMatch(t,!0),l=Object(R.a)(s,2),u=l[0],c=l[1];if(n.src.seek(-1),c>i){var d=!0;if(i>=2&&i<=5&&u<o&&o>=-256&&u<-256&&c-i<3&&(d=!1),d){n.setBit(1),n.copyLiteral();continue}}if(i>=2&&i<=5&&o>=-256){n.setBit(0),n.setBit(0),n.setBit(i-2&2),n.setBit(i-2&1),n.writeLiteral(255&o),n.addIntermediates(t,i);continue}if(i>=3&&i<=9){n.setBit(0),n.setBit(1),n.writeLiteral((31&o)<<3|i-2&7),n.writeLiteral(o>>5),n.addIntermediates(t,i);continue}if(i>9){i>256&&(i=256),n.setBit(0),n.setBit(1),n.writeLiteral((31&o)<<3),n.writeLiteral(o>>5),n.writeLiteral(i-1),n.addIntermediates(t,i);continue}}n.setBit(1),n.copyLiteral()}n.src.bytesLeft&&(n.setBit(1),n.copyLiteral())}return n.writeEof(),n.dst.seekStart(0)}var kt=8192,yt=kt-1,gt=256,Rt=function(){function e(n){Object(l.a)(this,e),this.src=void 0,this.dst=void 0,this.flags=void 0,this.flagBitsLeft=void 0,this.flagOffset=void 0,this.src=n,this.dst=new Pn(n.size,n.littleEndian),this.flags=0,this.flagBitsLeft=0,this.flagOffset=0}return Object(u.a)(e,[{key:"setBit",value:function(e){if(!this.flagBitsLeft--){var n=this.dst.position;this.dst.seekStart(this.flagOffset).writeU8(this.flags).seekStart(n).writeU8(0),this.flagOffset=n,this.flagBitsLeft=7}this.flags>>>=1,e&&(this.flags|=128)}},{key:"copyLiteral",value:function(){this.dst.writeU8(this.src.u8())}},{key:"writeLiteral",value:function(e){this.dst.writeU8(e)}},{key:"writeFinalFlags",value:function(){this.flags>>>=this.flagBitsLeft;var e=this.dst.position;this.dst.seekStart(this.flagOffset).writeU8(this.flags).seekStart(e)}},{key:"writeEof",value:function(){this.setBit(0),this.setBit(1),this.writeFinalFlags(),this.writeLiteral(0),this.writeLiteral(0)}},{key:"matchLength",value:function(e){for(var n=this.src.uint8ArrayView(),t=0,r=this.src.position;r<n.byteLength&&n[r]===n[e];)++t,++r,++e;return t}},{key:"findLongestMatch",value:function(e,n){if(!this.src.bytesLeft)return[0,0];var t=e.hash(this.src),r=e.get(t);if(null===r)return n||e.put(t,this.src.position),[0,0];if(this.src.position-r>kt)return e.hashToOffset[t]=null,n||e.put(t,this.src.position),[0,0];for(var a=0,o=0;null!=r;){var i=this.matchLength(r);(i>a||i>=256)&&(a=i,o=r);var s=e.prev(r);null!==s&&this.src.position-s>kt&&(e.setPrev(r,null),s=null),r=s}return n||e.put(t,this.src.position),[a>0?o-this.src.position:0,a]}},{key:"addIntermediates",value:function(e,n){this.src.seek(1);for(var t=1;t<n;++t){var r=e.hash(this.src);e.put(r,this.src.position),this.src.seek(1)}}}]),e}(),St=function(){function e(){Object(l.a)(this,e),this.hashToOffset=new Array(gt).fill(null),this.maskedOffsetToPrev=new Array(kt).fill(null)}return Object(u.a)(e,[{key:"hash",value:function(e){var n=e.u8();return e.bytesLeft&&(n^=e.u8(),e.seek(-1)),e.seek(-1),n}},{key:"get",value:function(e){return this.hashToOffset[e]}},{key:"put",value:function(e,n){this.setPrev(n,this.hashToOffset[e]),this.hashToOffset[e]=n}},{key:"prev",value:function(e){return this.maskedOffsetToPrev[e&yt]}},{key:"setPrev",value:function(e,n){this.maskedOffsetToPrev[e&yt]=n}}]),e}();function Dt(e){for(var n=new _t(e);;)if(1===n.readFlagBit())n.copyU8();else{var t=void 0,r=void 0;if(0===n.readFlagBit())t=n.readFlagBit()<<1,t|=n.readFlagBit(),t+=2,r=n.readU8()-256;else{if(0===(r=n.readU16()))break;t=7&r,r>>>=3,0===t?(t=n.readU8(),t+=1):t+=2,r-=8192}n.offsetCopy(r,t)}return n.dst.seekStart(0)}var _t=function(){function e(n){Object(l.a)(this,e),this.src=void 0,this.dst=void 0,this.flags=void 0,this.flagBitsLeft=void 0,this.src=n,this.dst=new Pn(4*n.size,n.littleEndian),this.flags=0,this.flagBitsLeft=0}return Object(u.a)(e,[{key:"readFlagBit",value:function(){0===this.flagBitsLeft&&(this.flags=this.readU8(),this.flagBitsLeft=8);var e=1&this.flags;return this.flags>>>=1,this.flagBitsLeft-=1,e}},{key:"copyU8",value:function(){this.dst.writeU8(this.readU8())}},{key:"readU8",value:function(){return this.src.u8()}},{key:"readU16",value:function(){return this.src.u16()}},{key:"offsetCopy",value:function(e,n){(e<-8192||e>0)&&console.error("offset was ".concat(e,", should be between -8192 and 0.")),(n<1||n>256)&&console.error("length was ".concat(n,", should be between 1 and 256."));var t=Math.min(-e,n);this.dst.seek(e);var r=this.dst.take(t);this.dst.seek(-e-t);for(var a=0;a<Math.floor(n/t);++a)this.dst.writeCursor(r);this.dst.writeCursor(r.take(n%t))}}]),e}(),It=68,Lt=72;function Ct(e){var n=e.u32(),t=e.u32(),r=e.u32();e.seek(4);var a=e.u32(),o=e.u32(),i=e.stringUtf16(64,!0,!0),s=e.stringUtf16(256,!0,!0),l=e.stringUtf16(576,!0,!0);r!==e.size&&console.warn("Value ".concat(r," in bin size field does not match actual size ").concat(e.size,"."));var u=Math.floor((e.size-t)/4);e.seekStart(t);for(var c=[],d=0;d<u;++d)c.push(e.i32());return{questNumber:a,language:o,questName:i,shortDescription:s,longDescription:l,functionOffsets:c,instructions:function(e){var n=[];for(;e.bytesLeft;){var t=e.u8(),r=void 0,a=void 0,o=void 0;switch(t){case 248:r=e.u8(),a=2,o=jt;break;case 249:r=e.u8(),a=2,o=Et;break;default:r=t,a=1,o=Ot}var i=Object(R.a)(o[r],3),s=i[1],l=i[2],u=Bt(e,l);if(!u){console.error("Parameters unknown for opcode 0x".concat(r.toString(16).toUpperCase(),"."));break}n.push({opcode:r,mnemonic:s,args:u.args,size:a+u.size})}return n}(e.seekStart(n).take(t-n)),data:e.seekStart(0).take(e.size)}}function Bt(e,n){if(null!=n){var t=e.position,r=[],a=0;e:for(var o=0;o<n.length;++o)switch(n.charAt(o)){case"p":break;case"a":break e;case"B":r.push(e.u8()),a+=1;break;case"W":r.push(e.u16()),a+=2;break;case"L":r.push(e.u32()),a+=4;break;case"I":r.push(e.i32()),a+=4;break;case"f":case"F":r.push(e.f32()),a+=4;break;case"R":case"r":a+=1;break;case"b":r.push(e.u8()),a+=1;break;case"w":r.push(e.u16()),a+=2;break;case"l":r.push(e.u32()),a+=4;break;case"i":r.push(e.i32()),a+=4;break;case"j":case"J":a+=1+2*e.seek(a).u8();break;case"t":case"T":a+=1+e.seek(a).u8();break;case"s":case"S":for(;e.u16();)a+=2;a+=2;break;default:throw new Error("Unknown mask part ".concat(n.charAt(o),"."))}return e.seekStart(t+a),{args:r,size:a}}}var Ot=[[0,"nop",""],[1,"ret",""],[2,"sync",""],[3,"exit","aL"],[4,"thread","W"],[5,"va_start",""],[6,"va_end",""],[7,"va_call","W"],[8,"let","RR"],[9,"leti","RI"],[10,"unknown",null],[11,"unknown",null],[12,"unknown",null],[13,"unknown",null],[14,"unknown",null],[15,"unknown",null],[16,"set","R"],[17,"clear","R"],[18,"rev","R"],[19,"gset","w"],[20,"gclear","w"],[21,"grev","w"],[22,"glet","w"],[23,"gget","wR"],[24,"add","RR"],[25,"addi","RI"],[26,"sub","RR"],[27,"subi","RI"],[28,"mul","RR"],[29,"muli","RI"],[30,"div","RR"],[31,"divi","RI"],[32,"and","RR"],[33,"andi","RI"],[34,"or","RR"],[35,"ori","RI"],[36,"xor","RR"],[37,"xori","RI"],[38,"mod","RR"],[39,"modi","RI"],[40,"jmp","W"],[41,"call","W"],[42,"jmp_on","Wt"],[43,"jmp_off","Wt"],[44,"jmp_=","RRW"],[45,"jmpi_=","RIW"],[46,"jmp_!=","RRW"],[47,"jmpi_!=","RIW"],[48,"ujmp_>","RRW"],[49,"ujmpi_>","RLW"],[50,"jmp_>","RRW"],[51,"jmpi_>","RIW"],[52,"ujmp_<","RRW"],[53,"ujmpi_<","RLW"],[54,"jmp_<","RRW"],[55,"jmpi_<","RIW"],[56,"ujmp_>=","RRW"],[57,"ujmpi_>=","RLW"],[58,"jmp_>=","RRW"],[59,"jmpi_>=","RIW"],[60,"ujmp_<=","RRW"],[61,"ujmpi_<=","RLW"],[62,"jmp_<=","RRW"],[63,"jmpi_<=","RIW"],[64,"switch_jmp","Rj"],[65,"switch_call","Rj"],[66,"stack_push","R"],[67,"stack_pop","R"],[68,"stack_pushm","RL"],[69,"stack_popm","RL"],[70,"unknown",null],[71,"unknown",null],[72,"arg_pushr","pR"],[73,"arg_pushl","pI"],[74,"arg_pushb","pB"],[75,"arg_pushw","pW"],[76,"unknown",null],[77,"unknown",null],[78,"arg_pushs","ps"],[79,"unknown4F","RR"],[80,"message","aLs"],[81,"list","aRs"],[82,"fadein",""],[83,"fadeout",""],[84,"se","aL"],[85,"bgm","aL"],[86,"unknown",null],[87,"unknown",null],[88,"enable","aL"],[89,"disable","aL"],[90,"window_msg","as"],[91,"add_msg","as"],[92,"mesend",""],[93,"gettime","R"],[94,"winend",""],[95,"unknown",null],[96,"npc_crt_V3","R"],[97,"npc_stop","aR"],[98,"npc_play","aL"],[99,"npc_kill","aR"],[100,"npc_nont",""],[101,"npc_talk",""],[102,"npc_crp_V3","R"],[103,"unknown",null],[104,"create_pipe","aL"],[105,"p_hpstat_V3","aRL"],[106,"p_dead_V3","aRL"],[107,"p_disablewarp",""],[108,"p_enablewarp",""],[109,"p_move_V3","R"],[110,"p_look","aL"],[111,"unknown",null],[112,"p_action_disable",""],[113,"p_action_enable",""],[114,"disable_movement1","aR"],[115,"enable_movement1","aR"],[116,"p_noncol",""],[117,"p_col",""],[118,"p_setpos","aRR"],[119,"p_return_guild",""],[120,"p_talk_guild","aL"],[121,"npc_talk_pl_V3","R"],[122,"npc_talk_kill","aL"],[123,"npc_crtpk_V3","R"],[124,"npc_crppk_V3","R"],[125,"npc_crptalk_v3","R"],[126,"p_look_at_V1","aLL"],[127,"npc_crp_id_V3","R"],[128,"cam_quake",""],[129,"cam_adj",""],[130,"cam_zmin",""],[131,"cam_zmout",""],[132,"cam_pan_V3","R"],[133,"game_lev_super",""],[134,"game_lev_reset",""],[135,"pos_pipe_V3","R"],[136,"if_zone_clear","RR"],[137,"chk_ene_num","R"],[138,"unhide_obj","R"],[139,"unhide_ene","R"],[140,"at_coords_call","R"],[141,"at_coords_talk","R"],[142,"col_npcin","R"],[143,"col_npcinr","R"],[144,"switch_on","aL"],[145,"switch_off","aL"],[146,"playbgm_epi","aL"],[147,"set_mainwarp","aL"],[148,"set_obj_param","RR"],[149,"set_floor_handler","aLW"],[150,"clr_floor_handler","aL"],[151,"col_plinaw","R"],[152,"hud_hide",""],[153,"hud_show",""],[154,"cine_enable",""],[155,"cine_disable",""],[156,"unknown",null],[157,"unknown",null],[158,"unknown",null],[159,"unknown",null],[160,"unknown",null],[161,"set_qt_failure","W"],[162,"set_qt_success","W"],[163,"clr_qt_failure",""],[164,"clr_qt_success",""],[165,"set_qt_cancel","W"],[166,"clr_qt_cancel",""],[167,"unknown",null],[168,"pl_walk_V3","R"],[169,"unknown",null],[170,"unknown",null],[171,"unknown",null],[172,"unknown",null],[173,"unknown",null],[174,"unknown",null],[175,"unknown",null],[176,"pl_add_meseta","aLL"],[177,"thread_stg","W"],[178,"del_obj_param","R"],[179,"item_create","RR"],[180,"item_create2","RR"],[181,"item_delete","RR"],[182,"item_delete2","RR"],[183,"item_check","RR"],[184,"setevt","aL"],[185,"get_difflvl","R"],[186,"set_qt_exit","W"],[187,"clr_qt_exit",""],[188,"unknown",null],[189,"unknown",null],[190,"unknown",null],[191,"unknown",null],[192,"particle_V3","R"],[193,"npc_text","aLs"],[194,"npc_chkwarp",""],[195,"pl_pkoff",""],[196,"map_designate","R"],[197,"masterkey_on",""],[198,"masterkey_off",""],[199,"window_time",""],[200,"winend_time",""],[201,"winset_time","R"],[202,"getmtime","R"],[203,"set_quest_board_handler","aLWs"],[204,"clear_quest_board_handler","aL"],[205,"particle_id_V3","R"],[206,"npc_crptalk_id_V3","R"],[207,"npc_lang_clean",""],[208,"pl_pkon",""],[209,"pl_chk_item2","RR"],[210,"enable_mainmenu",""],[211,"disable_mainmenu",""],[212,"start_battlebgm",""],[213,"end_battlebgm",""],[214,"disp_msg_qb","as"],[215,"close_msg_qb",""],[216,"set_eventflag_v3","aLL"],[217,"sync_leti",null],[218,"set_returnhunter",""],[219,"set_returncity",""],[220,"load_pvr",""],[221,"load_midi",""],[222,"unknown",null],[223,"npc_param_V3","aRL"],[224,"pad_dragon",""],[225,"clear_mainwarp","aL"],[226,"pcam_param_V3","R"],[227,"start_setevt_v3","aRL"],[228,"warp_on",""],[229,"warp_off",""],[230,"get_slotnumber","R"],[231,"get_servernumber","R"],[232,"set_eventflag2","aLR"],[233,"res","RR"],[234,"unknownEA","RL"],[235,"enable_bgmctrl","aL"],[236,"sw_send","R"],[237,"create_bgmctrl",""],[238,"pl_add_meseta2","aL"],[239,"sync_register","aRL"],[240,"send_regwork",null],[241,"leti_fixed_camera_V3","R"],[242,"default_camera_pos1",""],[243,"unknown",null],[244,"unknown",null],[245,"unknown",null],[246,"unknown",null],[247,"unknown",null],[248,"unknownF8","R"],[249,"unknown",null],[250,"get_gc_number","R"],[251,"unknownFB","W"],[252,"unknown",null],[253,"unknown",null],[254,"unknown",null],[255,"unknownFF",""]],jt=[[0,"unknown",null],[1,"set_chat_callback?","aRs"],[2,"unknown",null],[3,"unknown",null],[4,"unknown",null],[5,"unknown",null],[6,"unknown",null],[7,"unknown",null],[8,"get_difficulty_level2","R"],[9,"get_number_of_player1","R"],[10,"get_coord_of_player","RR"],[11,"unknownF80B",""],[12,"unknownF80C",""],[13,"map_designate_ex","R"],[14,"unknownF80E","aL"],[15,"unknownF80F","aL"],[16,"ba_initial_floor","aL"],[17,"set_ba_rules",""],[18,"unknownF812","aL"],[19,"unknownF813","aL"],[20,"unknownF814","aL"],[21,"unknownF815","aL"],[22,"unknownF816","aL"],[23,"unknownF817","aL"],[24,"unknownF818","aL"],[25,"unknownF819","aL"],[26,"unknownF81A","aL"],[27,"unknownF81B","aL"],[28,"ba_disp_msg","as"],[29,"death_lvl_up","aL"],[30,"death_tech_lvl_up","aL"],[31,"unknown",null],[32,"cmode_stage","aL"],[33,"unknown",null],[34,"unknown",null],[35,"unknownF823","aL"],[36,"unknownF824","aL"],[37,"exp_multiplication","R"],[38,"exp_division?","R"],[39,"get_user_is_dead?","R"],[40,"go_floor","RR"],[41,"unknown",null],[42,"unknown",null],[43,"unlock_door2","aLL"],[44,"lock_door2","aLL"],[45,"if_switch_not_pressed","R"],[46,"if_switch_pressed","R"],[47,"unknownF82F","aLL"],[48,"control_dragon","R"],[49,"release_dragon",""],[50,"unknown",null],[51,"unknown",null],[52,"unknown",null],[53,"unknown",null],[54,"unknown",null],[55,"unknown",null],[56,"shrink","R"],[57,"unshrink","R"],[58,"unknown",null],[59,"unknown",null],[60,"display_clock2?","R"],[61,"unknownF83D","aL"],[62,"delete_area_title?","aL"],[63,"unknown",null],[64,"load_npc_data",""],[65,"get_npc_data","W"],[66,"unknown",null],[67,"unknown",null],[68,"unknown",null],[69,"unknown",null],[70,"unknown",null],[71,"unknown",null],[72,"give_damage_score","R"],[73,"take_damage_score","R"],[74,"unk_score_F84A","R"],[75,"unk_score_F84B","R"],[76,"kill_score","R"],[77,"death_score","R"],[78,"unk_score_F84E","R"],[79,"enemy_death_score","R"],[80,"meseta_score","R"],[81,"unknownF851","R"],[82,"unknownF852","aL"],[83,"reverse_warps",""],[84,"unreverse_warps",""],[85,"set_ult_map",""],[86,"unset_ult_map",""],[87,"set_area_title","as"],[88,"unknownF858",""],[89,"unknown",null],[90,"equip_item","R"],[91,"unequip_item","aLL"],[92,"unknown",null],[93,"unknown",null],[94,"unknownF85E","aL"],[95,"unknownF85F","aL"],[96,"unknownF860",""],[97,"unknownF861","aL"],[98,"unknown",null],[99,"unknown",null],[100,"cmode_rank","aLs"],[101,"award_item_name?",""],[102,"award_item_select?",""],[103,"award_item_give_to?","R"],[104,"unknownF868","RR"],[105,"unknownF869","RR"],[106,"item_create_cmode","RR"],[107,"unknownF86B","R"],[108,"award_item_ok?","R"],[109,"unknownF86D",""],[110,"unknownF86E",""],[111,"ba_set_lives","aL"],[112,"ba_set_tech_lvl","aL"],[113,"ba_set_lvl","aL"],[114,"ba_set_time_limit","aL"],[115,"boss_is_dead?","R"],[116,"unknown",null],[117,"unknown",null],[118,"unknown",null],[119,"enable_techs","R"],[120,"disable_techs","R"],[121,"get_gender","RR"],[122,"get_chara_class","RR"],[123,"take_slot_meseta","RR"],[124,"unknown",null],[125,"unknown",null],[126,"unknown",null],[127,"read_guildcard_flag","RR"],[128,"unknownF880","R"],[129,"get_pl_name?","R"],[130,"unknown",null],[131,"unknownF883","RR"],[132,"unknown",null],[133,"unknown",null],[134,"unknown",null],[135,"unknown",null],[136,"ba_close_msg",""],[137,"unknown",null],[138,"get_player_status","RR"],[139,"send_mail","aRs"],[140,"online_check","R"],[141,"chl_set_timerecord?","R"],[142,"chl_get_timerecord?","R"],[143,"unknownF88F","R"],[144,"unknownF890",""],[145,"load_enemy_data","aL"],[146,"get_physical_data","W"],[147,"get_attack_data","W"],[148,"get_resist_data","W"],[149,"get_movement_data","W"],[150,"unknown",null],[151,"unknown",null],[152,"shift_left","RR"],[153,"shift_right","RR"],[154,"get_random","RR"],[155,"reset_map",""],[156,"disp_chl_retry_menu","R"],[157,"chl_reverser?",""],[158,"unknownF89E","aL"],[159,"unknownF89F","R"],[160,"unknownF8A0",""],[161,"unknownF8A1",""],[162,"unknown",null],[163,"unknown",null],[164,"unknown",null],[165,"unknown",null],[166,"unknown",null],[167,"unknown",null],[168,"unknownF8A8","aL"],[169,"unknownF8A9","R"],[170,"unknown",null],[171,"unknown",null],[172,"unknown",null],[173,"get_number_of_player2","R"],[174,"unknown",null],[175,"unknown",null],[176,"unknown",null],[177,"unknown",null],[178,"unknown",null],[179,"unknown",null],[180,"unknown",null],[181,"unknown",null],[182,"unknown",null],[183,"unknown",null],[184,"unknownF8B8",""],[185,"chl_recovery?",""],[186,"unknown",null],[187,"unknown",null],[188,"set_episode","L"],[189,"unknown",null],[190,"unknown",null],[191,"unknown",null],[192,"file_dl_req","aLs"],[193,"get_dl_status","R"],[194,"gba_unknown4?",""],[195,"get_gba_state?","R"],[196,"unknownF8C4","R"],[197,"unknownF8C5","R"],[198,"QEXIT",""],[199,"use_animation","RR"],[200,"stop_animation","R"],[201,"run_to_coord","RR"],[202,"set_slot_invincible","RR"],[203,"unknownF8CB","R"],[204,"set_slot_poison","R"],[205,"set_slot_paralyze","R"],[206,"set_slot_shock","R"],[207,"set_slot_freeze","R"],[208,"set_slot_slow","R"],[209,"set_slot_confuse","R"],[210,"set_slot_shifta","R"],[211,"set_slot_deband","R"],[212,"set_slot_jellen","R"],[213,"set_slot_zalure","R"],[214,"fleti_fixed_camera","aR"],[215,"fleti_locked_camera","aLR"],[216,"default_camera_pos2",""],[217,"set_motion_blur",""],[218,"set_screen_b&w",""],[219,"unknownF8DB","aLLLLRW"],[220,"NPC_action_string","RRW"],[221,"get_pad_cond","RR"],[222,"get_button_cond","RR"],[223,"freeze_enemies",""],[224,"unfreeze_enemies",""],[225,"freeze_everything",""],[226,"unfreeze_everything",""],[227,"restore_hp","R"],[228,"restore_tp","R"],[229,"close_chat_bubble","R"],[230,"unknownF8E6","RR"],[231,"unknownF8E7","RR"],[232,"unknownF8E8","RR"],[233,"unknownF8E9","RR"],[234,"unknownF8EA","RR"],[235,"unknownF8EB","RR"],[236,"unknownF8EC","RR"],[237,"animation_check","RR"],[238,"call_image_data","aLW"],[239,"unknownF8EF",""],[240,"turn_off_bgm_p2",""],[241,"turn_on_bgm_p2",""],[242,"load_unk_data","aLLLLRW"],[243,"particle2","aRLf"],[244,"unknown",null],[245,"unknown",null],[246,"unknown",null],[247,"unknown",null],[248,"unknown",null],[249,"unknown",null],[250,"unknown",null],[251,"unknown",null],[252,"unknown",null],[253,"unknown",null],[254,"unknown",null],[255,"unknown",null]],Et=[[0,"unknown",null],[1,"dec2float","RR"],[2,"float2dec","RR"],[3,"flet","RR"],[4,"fleti","RF"],[5,"unknown",null],[6,"unknown",null],[7,"unknown",null],[8,"fadd","RR"],[9,"faddi","RF"],[10,"fsub","RR"],[11,"fsubi","RF"],[12,"fmul","RR"],[13,"fmuli","RF"],[14,"fdiv","RR"],[15,"fdivi","RF"],[16,"get_unknown_count?","aLR"],[17,"get_stackable_item_count","RR"],[18,"freeze_and_hide_equip",""],[19,"thaw_and_show_equip",""],[20,"set_paletteX_callback","aRW"],[21,"activate_paletteX","aR"],[22,"enable_paletteX","aR"],[23,"restore_paletteX","aL"],[24,"disable_paletteX","aL"],[25,"get_paletteX_activated","aLR"],[26,"get_unknown_paletteX_status?","aLR"],[27,"disable_movement2","aR"],[28,"enable_movement2","aR"],[29,"get_time_played","R"],[30,"get_guildcard_total","R"],[31,"get_slot_meseta","R"],[32,"get_player_level","aLR"],[33,"get_Section_ID","aLR"],[34,"get_player_hp","aRR"],[35,"get_floor_number","aRR"],[36,"get_coord_player_detect","RR"],[37,"read_global_flag","abR"],[38,"write_global_flag","abR"],[39,"unknownF927","RR"],[40,"floor_player_detect","R"],[41,"read_disk_file?","as"],[42,"open_pack_select",""],[43,"item_select","R"],[44,"get_item_id","R"],[45,"color_change","aRRRRR"],[46,"send_statistic?","aLLLLLLLL"],[47,"unknownF92F","aLL"],[48,"chat_box","aLLLLLs"],[49,"chat_bubble","aLs"],[50,"unknown",null],[51,"unknownF933","R"],[52,"scroll_text","aLLLLLfRs"],[53,"gba_unknown1",""],[54,"gba_unknown2",""],[55,"gba_unknown3",""],[56,"add_damage_to?","aLL"],[57,"item_delete2","aL"],[58,"get_item_info","aLR"],[59,"item_packing1","aL"],[60,"item_packing2","aLL"],[61,"get_lang_setting?","aR"],[62,"prepare_statistic?","aLWW"],[63,"keyword_detect",""],[64,"Keyword","aRLs"],[65,"get_guildcard_num","aLR"],[66,"unknown",null],[67,"unknown",null],[68,"get_wrap_status","aLR"],[69,"initial_floor","aL"],[70,"sin","aRL"],[71,"cos","aRL"],[72,"unknown",null],[73,"unknown",null],[74,"boss_is_dead2?","R"],[75,"unknownF94B","R"],[76,"unknownF94C","R"],[77,"is_there_cardbattle","R"],[78,"unknown",null],[79,"unknown",null],[80,"BB_p2_menu","aL"],[81,"BB_Map_Designate","BWBB"],[82,"BB_get_number_in_pack","R"],[83,"BB_swap_item","aLLLLLLWW"],[84,"BB_check_wrap","aRR"],[85,"BB_exchange_PD_item","aRRRWW"],[86,"BB_exchange_PD_srank","aRRRRRWW"],[87,"BB_exchange_PD_special","aRRRRRLWW"],[88,"BB_exchange_PD_percent","aRRRRRLWW"],[89,"unknownF959","aL"],[90,"unknown",null],[91,"unknown",null],[92,"BB_exchange_SLT","aLRWW"],[93,"BB_exchange_PC",""],[94,"BB_box_create_BP","aLff"],[95,"BB_exchange_PT","aRRLWW"],[96,"unknownF960","aL"],[97,"unknownF961",""],[98,"unknown",null],[99,"unknown",null],[100,"unknown",null],[101,"unknown",null],[102,"unknown",null],[103,"unknown",null],[104,"unknown",null],[105,"unknown",null],[106,"unknown",null],[107,"unknown",null],[108,"unknown",null],[109,"unknown",null],[110,"unknown",null],[111,"unknown",null],[112,"unknown",null],[113,"unknown",null],[114,"unknown",null],[115,"unknown",null],[116,"unknown",null],[117,"unknown",null],[118,"unknown",null],[119,"unknown",null],[120,"unknown",null],[121,"unknown",null],[122,"unknown",null],[123,"unknown",null],[124,"unknown",null],[125,"unknown",null],[126,"unknown",null],[127,"unknown",null],[128,"unknown",null],[129,"unknown",null],[130,"unknown",null],[131,"unknown",null],[132,"unknown",null],[133,"unknown",null],[134,"unknown",null],[135,"unknown",null],[136,"unknown",null],[137,"unknown",null],[138,"unknown",null],[139,"unknown",null],[140,"unknown",null],[141,"unknown",null],[142,"unknown",null],[143,"unknown",null],[144,"unknown",null],[145,"unknown",null],[146,"unknown",null],[147,"unknown",null],[148,"unknown",null],[149,"unknown",null],[150,"unknown",null],[151,"unknown",null],[152,"unknown",null],[153,"unknown",null],[154,"unknown",null],[155,"unknown",null],[156,"unknown",null],[157,"unknown",null],[158,"unknown",null],[159,"unknown",null],[160,"unknown",null],[161,"unknown",null],[162,"unknown",null],[163,"unknown",null],[164,"unknown",null],[165,"unknown",null],[166,"unknown",null],[167,"unknown",null],[168,"unknown",null],[169,"unknown",null],[170,"unknown",null],[171,"unknown",null],[172,"unknown",null],[173,"unknown",null],[174,"unknown",null],[175,"unknown",null],[176,"unknown",null],[177,"unknown",null],[178,"unknown",null],[179,"unknown",null],[180,"unknown",null],[181,"unknown",null],[182,"unknown",null],[183,"unknown",null],[184,"unknown",null],[185,"unknown",null],[186,"unknown",null],[187,"unknown",null],[188,"unknown",null],[189,"unknown",null],[190,"unknown",null],[191,"unknown",null],[192,"unknown",null],[193,"unknown",null],[194,"unknown",null],[195,"unknown",null],[196,"unknown",null],[197,"unknown",null],[198,"unknown",null],[199,"unknown",null],[200,"unknown",null],[201,"unknown",null],[202,"unknown",null],[203,"unknown",null],[204,"unknown",null],[205,"unknown",null],[206,"unknown",null],[207,"unknown",null],[208,"unknown",null],[209,"unknown",null],[210,"unknown",null],[211,"unknown",null],[212,"unknown",null],[213,"unknown",null],[214,"unknown",null],[215,"unknown",null],[216,"unknown",null],[217,"unknown",null],[218,"unknown",null],[219,"unknown",null],[220,"unknown",null],[221,"unknown",null],[222,"unknown",null],[223,"unknown",null],[224,"unknown",null],[225,"unknown",null],[226,"unknown",null],[227,"unknown",null],[228,"unknown",null],[229,"unknown",null],[230,"unknown",null],[231,"unknown",null],[232,"unknown",null],[233,"unknown",null],[234,"unknown",null],[235,"unknown",null],[236,"unknown",null],[237,"unknown",null],[238,"unknown",null],[239,"unknown",null],[240,"unknown",null],[241,"unknown",null],[242,"unknown",null],[243,"unknown",null],[244,"unknown",null],[245,"unknown",null],[246,"unknown",null],[247,"unknown",null],[248,"unknown",null],[249,"unknown",null],[250,"unknown",null],[251,"unknown",null],[252,"unknown",null],[253,"unknown",null],[254,"unknown",null],[255,"unknown",null]];function Mt(e){var n="PC",t=e.u8();e.seek(1);var r=e.u8();if(68===t?n="Dreamcast/GameCube":88===t?68===r&&(n="Blue Burst"):166===t&&(n="Dreamcast download"),"Blue Burst"===n){e.seekStart(0);var a=function(e){for(var n=[],t=0;t<2;++t){e.seek(4);var r=e.u16();e.seek(38);var a=e.stringAscii(16,!0,!0),o=e.u32(),i=e.stringAscii(24,!0,!0);n.push({questNo:r,fileName:a,fileName2:i,size:o})}return n}(e),o=function(e,n){var t=new Map;for(;e.bytesLeft;){var r=e.position,a=e.seek(4).u8(),o=e.seek(3).stringAscii(16,!0,!0),i=t.get(o);if(!i){var s=n.get(o);t.set(o,i={name:o,expectedSize:s,data:new Pn(s||10240,!0),chunkNos:new Set})}i.chunkNos.has(a)?console.warn("File chunk number ".concat(a," of file ").concat(o," was already encountered, overwriting previous chunk.")):i.chunkNos.add(a);var l=e.seek(1024).u32();e.seek(-1028),l>1024&&(console.warn("Data segment size of ".concat(l," is larger than expected maximum size, reading just 1024 bytes.")),l=1024);var u=e.take(l),c=1024*a;if(i.data.size=Math.max(c+l,i.data.size),i.data.seekStart(c).writeCursor(u),e.seek(1032-u.size),e.position!==r+1056)throw new Error("Read ".concat(e.position-r," file chunk message bytes instead of expected 1056."))}var d=!0,p=!1,h=void 0;try{for(var w,m=t.values()[Symbol.iterator]();!(d=(w=m.next()).done);d=!0){var v=w.value;v.data.seekStart(0),v.chunkNos=new Set(Array.from(v.chunkNos.values()).sort(function(e,n){return e-n})),null!=v.expectedSize&&v.data.size!==v.expectedSize&&console.warn("File ".concat(v.name," has an actual size of ").concat(v.data.size," instead of the expected size ").concat(v.expectedSize,"."));for(var f=Math.max(v.data.size,v.expectedSize||0),b=0;b<Math.ceil(f/1024);++b)v.chunkNos.has(b)||console.warn("File ".concat(v.name," is missing chunk ").concat(b,"."))}}catch(k){p=!0,h=k}finally{try{d||null==m.return||m.return()}finally{if(p)throw h}}return Array.from(t.values())}(e,new Map(a.map(function(e){return[e.fileName,e.size]}))),i=!0,s=!1,l=void 0;try{for(var u,c=function(){var e=u.value,n=a.find(function(n){return n.fileName===e.name});n&&(e.questNo=n.questNo,e.name2=n.fileName2)},d=o[Symbol.iterator]();!(i=(u=d.next()).done);i=!0)c()}catch(p){s=!0,l=p}finally{try{i||null==d.return||d.return()}finally{if(s)throw l}}return{version:n,files:o}}console.error("Can't parse ".concat(n," QST files."))}function xt(e){var n=e.files,t=n.map(function(e){return 88+1056*Math.ceil(e.data.size/1024)}).reduce(function(e,n){return e+n}),r=new Pn(t,!0);if(function(e,n){var t=!0,r=!1,a=void 0;try{for(var o,i=n[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var s=o.value;if(s.name.length>16)throw Error("File ".concat(s.name," has a name longer than 16 characters."));e.writeU16(88),e.writeU16(68),e.writeU16(s.questNo||0);for(var l=0;l<38;++l)e.writeU8(0);e.writeStringAscii(s.name,16),e.writeU32(s.data.size);var u=void 0;if(null==s.name2){var c=s.name.lastIndexOf(".");u=-1===c?s.name+"_j":s.name.slice(0,c)+"_j"+s.name.slice(c)}else u=s.name2;if(u.length>24)throw Error("File ".concat(s.name," has a fileName2 length (").concat(u,") longer than 24 characters."));e.writeStringAscii(u,24)}}catch(d){r=!0,a=d}finally{try{t||null==i.return||i.return()}finally{if(r)throw a}}}(r,n),function(e,n){n=n.slice();var t=new Array(n.length).fill(0);for(;n.length;)for(var r=0;r<n.length;)Ft(e,n[r].data,t[r]++,n[r].name)?++r:(n.splice(r,1),t.splice(r,1))}(r,n),r.size!==t)throw new Error("Expected a final file size of ".concat(t,", but got ").concat(r.size,"."));return r.seekStart(0)}function Ft(e,n,t,r){e.writeU8Array([28,4,19,0]),e.writeU8(t),e.writeU8Array([0,0,0]),e.writeStringAscii(r,16);var a=Math.min(1024,n.bytesLeft);e.writeCursor(n.take(a));for(var o=a;o<1024;++o)e.writeU8(0);return e.writeU32(a),e.writeU32(0),!!n.bytesLeft}function Tt(e,n,t,r){var a,o=new je(e,n,t,[]),i=Array(r).fill(null).map(function(e,n){return new Ee(n,o)});return(a=o.areaVariants).splice.apply(a,[0,0].concat(Object(Qn.a)(i))),o}var At=new(function(){function e(){Object(l.a)(this,e),this.areas=void 0,this.areas=[];var n=0;this.areas[1]=[Tt(0,"Pioneer II",n++,1),Tt(1,"Forest 1",n++,1),Tt(2,"Forest 2",n++,1),Tt(11,"Under the Dome",n++,1),Tt(3,"Cave 1",n++,6),Tt(4,"Cave 2",n++,5),Tt(5,"Cave 3",n++,6),Tt(12,"Underground Channel",n++,1),Tt(6,"Mine 1",n++,6),Tt(7,"Mine 2",n++,6),Tt(13,"Monitor Room",n++,1),Tt(8,"Ruins 1",n++,5),Tt(9,"Ruins 2",n++,5),Tt(10,"Ruins 3",n++,5),Tt(14,"Dark Falz",n++,1)],n=0,this.areas[2]=[Tt(0,"Lab",n++,1),Tt(1,"VR Temple Alpha",n++,3),Tt(2,"VR Temple Beta",n++,3),Tt(14,"VR Temple Final",n++,1),Tt(3,"VR Spaceship Alpha",n++,3),Tt(4,"VR Spaceship Beta",n++,3),Tt(15,"VR Spaceship Final",n++,1),Tt(5,"Central Control Area",n++,1),Tt(6,"Jungle Area East",n++,1),Tt(7,"Jungle Area North",n++,1),Tt(8,"Mountain Area",n++,3),Tt(9,"Seaside Area",n++,1),Tt(12,"Cliffs of Gal Da Val",n++,1),Tt(10,"Seabed Upper Levels",n++,3),Tt(11,"Seabed Lower Levels",n++,3),Tt(13,"Test Subject Disposal Area",n++,1),Tt(16,"Seaside Area at Night",n++,1),Tt(17,"Control Tower",n++,5)],n=0,this.areas[4]=[Tt(0,"Pioneer II (Ep. IV)",n++,1),Tt(1,"Crater Route 1",n++,1),Tt(2,"Crater Route 2",n++,1),Tt(3,"Crater Route 3",n++,1),Tt(4,"Crater Route 4",n++,1),Tt(5,"Crater Interior",n++,1),Tt(6,"Subterranean Desert 1",n++,3),Tt(7,"Subterranean Desert 2",n++,3),Tt(8,"Subterranean Desert 3",n++,3),Tt(9,"Meteor Impact Site",n++,1)]}return Object(u.a)(e,[{key:"getVariant",value:function(e,n,t){if(1!==e&&2!==e&&4!==e)throw new Error("Expected episode to be 1, 2 or 4, got ".concat(e,"."));var r=this.areas[e].find(function(e){return e.id===n});if(!r)throw new Error("Area id ".concat(n," for episode ").concat(e," is invalid."));var a=r.areaVariants[t];if(!a)throw new Error("Area variant id ".concat(t," for area ").concat(n," of episode ").concat(e," is invalid."));return a}}]),e}());function Gt(e){var n=Mt(e);if(n){var t=null,r=null,a=!0,o=!1,i=void 0;try{for(var s,l=n.files[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var u=s.value;u.name.endsWith(".dat")?t=u:u.name.endsWith(".bin")&&(r=u)}}catch(m){o=!0,i=m}finally{try{a||null==l.return||l.return()}finally{if(o)throw i}}if(t){if(r){var c=function(e){for(var n=[],t=[],r=[];e.bytesLeft;){var a=e.u32(),o=e.u32(),i=e.u32(),s=e.u32();if(0===a)break;if(s!==o-16)throw Error("Malformed DAT file. Expected an entities size of ".concat(o-16,", got ").concat(s,"."));if(1===a){for(var l=Math.floor(s/It),u=e.position,c=0;c<l;++c){var d=e.u16(),p=e.u8Array(10),h=e.u16(),w=e.u8Array(2),m=e.f32(),v=e.f32(),f=e.f32(),b=e.i32()/65535*2*Math.PI,k=e.i32()/65535*2*Math.PI,y=e.i32()/65535*2*Math.PI,g=e.u8Array(28);n.push({typeId:d,sectionId:h,position:{x:m,y:v,z:f},rotation:{x:b,y:k,z:y},areaId:i,unknown:[p,w,g]})}var R=e.position-u;R!==s&&(console.warn("Read ".concat(R," bytes instead of expected ").concat(s," for entity type ").concat(a," (Object).")),e.seek(s-R))}else if(2===a){for(var S=Math.floor(s/Lt),D=e.position,_=0;_<S;++_){var I=e.u16(),L=e.u8Array(10),C=e.u16(),B=e.u8Array(6),O=e.f32(),j=e.f32(),E=e.f32(),M=e.i32()/65535*2*Math.PI,x=e.i32()/65535*2*Math.PI,F=e.i32()/65535*2*Math.PI,T=e.u8Array(20),A=e.u32(),G=e.u8Array(4);t.push({typeId:I,sectionId:C,position:{x:O,y:j,z:E},rotation:{x:M,y:x,z:F},skin:A,areaId:i,unknown:[L,B,T,G]})}var U=e.position-D;U!==s&&(console.warn("Read ".concat(U," bytes instead of expected ").concat(s," for entity type ").concat(a," (NPC).")),e.seek(s-U))}else r.push({entityType:a,totalSize:o,areaId:i,entitiesSize:s,data:e.u8Array(s)})}return{objs:n,npcs:t,unknowns:r}}(Dt(t.data)),d=Ct(Dt(r.data)),p=1,h=[];if(d.functionOffsets.length){var w=function(e,n){var t=0,r=!1,a=[],o=!0,i=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;if(t===n&&(r=!0),r&&(a.push(c),1===c.opcode))break;t+=c.size}}catch(m){i=!0,s=m}finally{try{o||null==u.return||u.return()}finally{if(i)throw s}}return r?a:null}(d.instructions,d.functionOffsets[0]);w?h=function(e,n){var t=new Map,r=n.filter(function(e){return"BB_Map_Designate"===e.mnemonic}),a=!0,o=!1,i=void 0;try{for(var s,l=r[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var u=s.value,c=u.args[0],d=u.args[2];t.set(c,d)}}catch(m){o=!0,i=m}finally{try{a||null==l.return||l.return()}finally{if(o)throw i}}return Array.from(t).map(function(n){var t=Object(R.a)(n,2),r=t[0],a=t[1];return At.getVariant(e,r,a)}).sort(function(e,n){return e.area.order-n.area.order||e.id-n.id})}(p=function(e){var n=e.find(function(e){return"set_episode"===e.mnemonic});if(!n)return console.warn("Function 0 has no set_episode instruction."),1;switch(n.args[0]){default:case 0:return 1;case 1:return 2;case 2:return 4}}(w),w):console.warn("Function 0 offset ".concat(d.functionOffsets[0]," is invalid."))}else console.warn("File contains no functions.");return new Le(d.questName,d.shortDescription,d.longDescription,t.questNo,p,h,c.objs.map(function(e){var n=e.position,t=n.x,r=n.y,a=n.z,o=e.rotation;return new Be(e.areaId,e.sectionId,new _e(t,r,a),new _e(o.x,o.y,o.z),x.fromPsoId(e.typeId),e)}),function(e,n){return n.map(function(n){var t=n.position,r=t.x,a=t.y,o=t.z,i=n.rotation;return new Oe(n.areaId,n.sectionId,new _e(r,a,o),new _e(i.x,i.y,i.z),function(e,n){var t=n.typeId,r=n.unknown,a=n.skin,o=n.areaId,i=0===(128&r[2][18]);switch("".concat(t,", ").concat(a%3,", ").concat(e)){case"".concat(68,", 0, 1"):return E.Booma;case"".concat(68,", 1, 1"):return E.Gobooma;case"".concat(68,", 2, 1"):return E.Gigobooma;case"".concat(99,", 0, 1"):return E.EvilShark;case"".concat(99,", 1, 1"):return E.PalShark;case"".concat(99,", 2, 1"):return E.GuilShark;case"".concat(166,", 0, 1"):return E.Dimenian;case"".concat(166,", 0, 2"):return E.Dimenian2;case"".concat(166,", 1, 1"):return E.LaDimenian;case"".concat(166,", 1, 2"):return E.LaDimenian2;case"".concat(166,", 2, 1"):return E.SoDimenian;case"".concat(166,", 2, 2"):return E.SoDimenian2;case"".concat(214,", 0, 2"):return E.Mericarol;case"".concat(214,", 1, 2"):return E.Mericus;case"".concat(214,", 2, 2"):return E.Merikle;case"".concat(277,", 0, 4"):return E.Boota;case"".concat(277,", 1, 4"):return E.ZeBoota;case"".concat(277,", 2, 4"):return E.BaBoota;case"".concat(279,", 0, 4"):return E.Goran;case"".concat(279,", 1, 4"):return E.PyroGoran;case"".concat(279,", 2, 4"):return E.GoranDetonator}switch("".concat(t,", ").concat(a%2,", ").concat(e)){case"".concat(64,", 0, 1"):return E.Hildebear;case"".concat(64,", 0, 2"):return E.Hildebear2;case"".concat(64,", 1, 1"):return E.Hildeblue;case"".concat(64,", 1, 2"):return E.Hildeblue2;case"".concat(65,", 0, 1"):return E.RagRappy;case"".concat(65,", 0, 2"):return E.RagRappy2;case"".concat(65,", 0, 4"):return E.SandRappy;case"".concat(65,", 1, 1"):return E.AlRappy;case"".concat(65,", 1, 2"):return E.LoveRappy;case"".concat(65,", 1, 4"):return E.DelRappy;case"".concat(97,", 0, 1"):return o>15?E.DelLily:E.PoisonLily;case"".concat(97,", 0, 2"):return o>15?E.DelLily:E.PoisonLily2;case"".concat(97,", 1, 1"):return o>15?E.DelLily:E.NarLily;case"".concat(97,", 1, 2"):return o>15?E.DelLily:E.NarLily2;case"".concat(128,", 0, 1"):return E.Dubchic;case"".concat(128,", 0, 2"):return E.Dubchic2;case"".concat(128,", 1, 1"):return E.Gilchic;case"".concat(128,", 1, 2"):return E.Gilchic2;case"".concat(212,", 0, 2"):return E.SinowBerill;case"".concat(212,", 1, 2"):return E.SinowSpigell;case"".concat(213,", 0, 2"):return E.Merillia;case"".concat(213,", 1, 2"):return E.Meriltas;case"".concat(215,", 0, 2"):return E.UlGibbon;case"".concat(215,", 1, 2"):return E.ZolGibbon;case"".concat(221,", 0, 2"):return E.Dolmolm;case"".concat(221,", 1, 2"):return E.Dolmdarl;case"".concat(224,", 0, 2"):return o>15?E.Epsilon:E.SinowZoa;case"".concat(224,", 1, 2"):return o>15?E.Epsilon:E.SinowZele;case"".concat(274,", 0, 4"):return E.MerissaA;case"".concat(274,", 1, 4"):return E.MerissaAA;case"".concat(276,", 0, 4"):return E.Zu;case"".concat(276,", 1, 4"):return E.Pazuzu;case"".concat(278,", 0, 4"):return E.Dorphon;case"".concat(278,", 1, 4"):return E.DorphonEclair;case"".concat(281,", 0, 4"):return i?E.SaintMilion:E.Kondrieu;case"".concat(281,", 1, 4"):return i?E.Shambertin:E.Kondrieu}switch("".concat(t,", ").concat(e)){case"".concat(66,", 1"):return E.Monest;case"".concat(66,", 2"):return E.Monest2;case"".concat(67,", 1"):return i?E.SavageWolf:E.BarbarousWolf;case"".concat(67,", 2"):return i?E.SavageWolf2:E.BarbarousWolf2;case"".concat(96,", 1"):return E.GrassAssassin;case"".concat(96,", 2"):return E.GrassAssassin2;case"".concat(98,", 1"):return E.NanoDragon;case"".concat(100,", 1"):return i?E.PofuillySlime:E.PouillySlime;case"".concat(101,", 1"):return E.PanArms;case"".concat(101,", 2"):return E.PanArms2;case"".concat(129,", 1"):return E.Garanz;case"".concat(129,", 2"):return E.Garanz2;case"".concat(130,", 1"):return i?E.SinowBeat:E.SinowGold;case"".concat(131,", 1"):return E.Canadine;case"".concat(132,", 1"):return E.Canane;case"".concat(133,", 1"):return E.Dubswitch;case"".concat(133,", 2"):return E.Dubswitch2;case"".concat(160,", 1"):return E.Delsaber;case"".concat(160,", 2"):return E.Delsaber2;case"".concat(161,", 1"):return E.ChaosSorcerer;case"".concat(161,", 2"):return E.ChaosSorcerer2;case"".concat(162,", 1"):return E.DarkGunner;case"".concat(164,", 1"):return E.ChaosBringer;case"".concat(165,", 1"):return E.DarkBelra;case"".concat(165,", 2"):return E.DarkBelra2;case"".concat(167,", 1"):return E.Bulclaw;case"".concat(168,", 1"):return E.Claw;case"".concat(192,", 1"):return E.Dragon;case"".concat(192,", 2"):return E.GalGryphon;case"".concat(193,", 1"):return E.DeRolLe;case"".concat(197,", 1"):return E.VolOpt;case"".concat(200,", 1"):return E.DarkFalz;case"".concat(202,", 2"):return E.OlgaFlow;case"".concat(203,", 2"):return E.BarbaRay;case"".concat(204,", 2"):return E.GolDragon;case"".concat(216,", 2"):return E.Gibbles;case"".concat(217,", 2"):return E.Gee;case"".concat(218,", 2"):return E.GiGue;case"".concat(219,", 2"):return E.Deldepth;case"".concat(220,", 2"):return E.Delbiter;case"".concat(222,", 2"):return E.Morfos;case"".concat(223,", 2"):return E.Recobox;case"".concat(225,", 2"):return E.IllGill;case"".concat(272,", 4"):return E.Astark;case"".concat(273,", 4"):return i?E.SatelliteLizard:E.Yowie;case"".concat(275,", 4"):return E.Girtablulu}switch(t){case 4:return E.FemaleFat;case 5:return E.FemaleMacho;case 7:return E.FemaleTall;case 10:return E.MaleDwarf;case 11:return E.MaleFat;case 12:return E.MaleMacho;case 13:return E.MaleOld;case 25:return E.BlueSoldier;case 26:return E.RedSoldier;case 27:return E.Principal;case 28:return E.Tekker;case 29:return E.GuildLady;case 30:return E.Scientist;case 31:return E.Nurse;case 32:return E.Irene;case 241:return E.ItemShop;case 254:return E.Nurse2}return E.Unknown}(e,n),n)})}(p,c.npcs),c.unknowns,d.data)}console.error("File contains no BIN file.")}else console.error("File contains no DAT file.")}}function Ut(e,n){var t,r,a=function(e){var n=e.objs,t=e.npcs,r=e.unknowns,a=new Pn(n.length*It+t.length*Lt+1e3*r.length,!0),o=Object(Ue.groupBy)(n,function(e){return e.areaId}),i=Object.keys(o).map(function(e){return parseInt(e,10)}).sort(function(e,n){return e-n}),s=!0,l=!1,u=void 0;try{for(var c,d=i[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var p=c.value,h=o[p],w=h.length*It;a.writeU32(1),a.writeU32(w+16),a.writeU32(p),a.writeU32(w);var m=!0,v=!1,f=void 0;try{for(var b,k=h[Symbol.iterator]();!(m=(b=k.next()).done);m=!0){var y=b.value;a.writeU16(y.typeId),a.writeU8Array(y.unknown[0]),a.writeU16(y.sectionId),a.writeU8Array(y.unknown[1]),a.writeF32(y.position.x),a.writeF32(y.position.y),a.writeF32(y.position.z),a.writeI32(Math.round(y.rotation.x/(2*Math.PI)*65535)),a.writeI32(Math.round(y.rotation.y/(2*Math.PI)*65535)),a.writeI32(Math.round(y.rotation.z/(2*Math.PI)*65535)),a.writeU8Array(y.unknown[2])}}catch(N){v=!0,f=N}finally{try{m||null==k.return||k.return()}finally{if(v)throw f}}}}catch(N){l=!0,u=N}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}var g=Object(Ue.groupBy)(t,function(e){return e.areaId}),R=Object.keys(g).map(function(e){return parseInt(e,10)}).sort(function(e,n){return e-n}),S=!0,D=!1,_=void 0;try{for(var I,L=R[Symbol.iterator]();!(S=(I=L.next()).done);S=!0){var C=I.value,B=g[C],O=B.length*Lt;a.writeU32(2),a.writeU32(O+16),a.writeU32(C),a.writeU32(O);var j=!0,E=!1,M=void 0;try{for(var x,F=B[Symbol.iterator]();!(j=(x=F.next()).done);j=!0){var T=x.value;a.writeU16(T.typeId),a.writeU8Array(T.unknown[0]),a.writeU16(T.sectionId),a.writeU8Array(T.unknown[1]),a.writeF32(T.position.x),a.writeF32(T.position.y),a.writeF32(T.position.z),a.writeI32(Math.round(T.rotation.x/(2*Math.PI)*65535)),a.writeI32(Math.round(T.rotation.y/(2*Math.PI)*65535)),a.writeI32(Math.round(T.rotation.z/(2*Math.PI)*65535)),a.writeU8Array(T.unknown[2]),a.writeU32(T.skin),a.writeU8Array(T.unknown[3])}}catch(N){E=!0,M=N}finally{try{j||null==F.return||F.return()}finally{if(E)throw M}}}}catch(N){D=!0,_=N}finally{try{S||null==L.return||L.return()}finally{if(D)throw _}}var A=!0,G=!1,U=void 0;try{for(var P,z=r[Symbol.iterator]();!(A=(P=z.next()).done);A=!0){var W=P.value;a.writeU32(W.entityType),a.writeU32(W.totalSize),a.writeU32(W.areaId),a.writeU32(W.entitiesSize),a.writeU8Array(W.data)}}catch(N){G=!0,U=N}finally{try{A||null==z.return||z.return()}finally{if(G)throw U}}return a.writeU32(0),a.writeU32(0),a.writeU32(0),a.writeU32(0),a.seekStart(0),a}({objs:(r=e.objects,r.map(function(e){return{typeId:e.type.psoId,sectionId:e.sectionId,position:e.sectionPosition,rotation:e.rotation,areaId:e.areaId,unknown:e.dat.unknown}})),npcs:(t=e.npcs,t.map(function(e){var n=function(e){switch(e){default:throw new Error("Unexpected type ".concat(e.code,"."));case E.Unknown:return null;case E.FemaleFat:return{typeId:4,skin:0,regular:!0};case E.FemaleMacho:return{typeId:5,skin:0,regular:!0};case E.FemaleTall:return{typeId:7,skin:0,regular:!0};case E.MaleDwarf:return{typeId:10,skin:0,regular:!0};case E.MaleFat:return{typeId:11,skin:0,regular:!0};case E.MaleMacho:return{typeId:12,skin:0,regular:!0};case E.MaleOld:return{typeId:13,skin:0,regular:!0};case E.BlueSoldier:return{typeId:25,skin:0,regular:!0};case E.RedSoldier:return{typeId:26,skin:0,regular:!0};case E.Principal:return{typeId:27,skin:0,regular:!0};case E.Tekker:return{typeId:28,skin:0,regular:!0};case E.GuildLady:return{typeId:29,skin:0,regular:!0};case E.Scientist:return{typeId:30,skin:0,regular:!0};case E.Nurse:return{typeId:31,skin:0,regular:!0};case E.Irene:return{typeId:32,skin:0,regular:!0};case E.ItemShop:return{typeId:241,skin:0,regular:!0};case E.Nurse2:return{typeId:254,skin:0,regular:!0};case E.Hildebear:return{typeId:64,skin:0,regular:!0};case E.Hildeblue:return{typeId:64,skin:1,regular:!0};case E.RagRappy:return{typeId:65,skin:0,regular:!0};case E.AlRappy:return{typeId:65,skin:1,regular:!0};case E.Monest:return{typeId:66,skin:0,regular:!0};case E.SavageWolf:return{typeId:67,skin:0,regular:!0};case E.BarbarousWolf:return{typeId:67,skin:0,regular:!1};case E.Booma:return{typeId:68,skin:0,regular:!0};case E.Gobooma:return{typeId:68,skin:1,regular:!0};case E.Gigobooma:return{typeId:68,skin:2,regular:!0};case E.Dragon:return{typeId:192,skin:0,regular:!0};case E.GrassAssassin:return{typeId:96,skin:0,regular:!0};case E.PoisonLily:return{typeId:97,skin:0,regular:!0};case E.NarLily:return{typeId:97,skin:1,regular:!0};case E.NanoDragon:return{typeId:98,skin:0,regular:!0};case E.EvilShark:return{typeId:99,skin:0,regular:!0};case E.PalShark:return{typeId:99,skin:1,regular:!0};case E.GuilShark:return{typeId:99,skin:2,regular:!0};case E.PofuillySlime:return{typeId:100,skin:0,regular:!0};case E.PouillySlime:return{typeId:100,skin:0,regular:!1};case E.PanArms:return{typeId:101,skin:0,regular:!0};case E.DeRolLe:return{typeId:193,skin:0,regular:!0};case E.Dubchic:return{typeId:128,skin:0,regular:!0};case E.Gilchic:return{typeId:128,skin:1,regular:!0};case E.Garanz:return{typeId:129,skin:0,regular:!0};case E.SinowBeat:return{typeId:130,skin:0,regular:!0};case E.SinowGold:return{typeId:130,skin:0,regular:!1};case E.Canadine:return{typeId:131,skin:0,regular:!0};case E.Canane:return{typeId:132,skin:0,regular:!0};case E.Dubswitch:return{typeId:133,skin:0,regular:!0};case E.VolOpt:return{typeId:197,skin:0,regular:!0};case E.Delsaber:return{typeId:160,skin:0,regular:!0};case E.ChaosSorcerer:return{typeId:161,skin:0,regular:!0};case E.DarkGunner:return{typeId:162,skin:0,regular:!0};case E.ChaosBringer:return{typeId:164,skin:0,regular:!0};case E.DarkBelra:return{typeId:165,skin:0,regular:!0};case E.Dimenian:return{typeId:166,skin:0,regular:!0};case E.LaDimenian:return{typeId:166,skin:1,regular:!0};case E.SoDimenian:return{typeId:166,skin:2,regular:!0};case E.Bulclaw:return{typeId:167,skin:0,regular:!0};case E.Claw:return{typeId:168,skin:0,regular:!0};case E.DarkFalz:return{typeId:200,skin:0,regular:!0};case E.Hildebear2:return{typeId:64,skin:0,regular:!0};case E.Hildeblue2:return{typeId:64,skin:1,regular:!0};case E.RagRappy2:return{typeId:65,skin:0,regular:!0};case E.LoveRappy:return{typeId:65,skin:1,regular:!0};case E.Monest2:return{typeId:66,skin:0,regular:!0};case E.PoisonLily2:return{typeId:97,skin:0,regular:!0};case E.NarLily2:return{typeId:97,skin:1,regular:!0};case E.GrassAssassin2:return{typeId:96,skin:0,regular:!0};case E.Dimenian2:return{typeId:166,skin:0,regular:!0};case E.LaDimenian2:return{typeId:166,skin:1,regular:!0};case E.SoDimenian2:return{typeId:166,skin:2,regular:!0};case E.DarkBelra2:return{typeId:165,skin:0,regular:!0};case E.BarbaRay:return{typeId:203,skin:0,regular:!0};case E.SavageWolf2:return{typeId:67,skin:0,regular:!0};case E.BarbarousWolf2:return{typeId:67,skin:0,regular:!1};case E.PanArms2:return{typeId:101,skin:0,regular:!0};case E.Dubchic2:return{typeId:128,skin:0,regular:!0};case E.Gilchic2:return{typeId:128,skin:1,regular:!0};case E.Garanz2:return{typeId:129,skin:0,regular:!0};case E.Dubswitch2:return{typeId:133,skin:0,regular:!0};case E.Delsaber2:return{typeId:160,skin:0,regular:!0};case E.ChaosSorcerer2:return{typeId:161,skin:0,regular:!0};case E.GolDragon:return{typeId:204,skin:0,regular:!0};case E.SinowBerill:return{typeId:212,skin:0,regular:!0};case E.SinowSpigell:return{typeId:212,skin:1,regular:!0};case E.Merillia:return{typeId:213,skin:0,regular:!0};case E.Meriltas:return{typeId:213,skin:1,regular:!0};case E.Mericarol:return{typeId:214,skin:0,regular:!0};case E.Mericus:return{typeId:214,skin:1,regular:!0};case E.Merikle:return{typeId:214,skin:2,regular:!0};case E.UlGibbon:return{typeId:215,skin:0,regular:!0};case E.ZolGibbon:return{typeId:215,skin:1,regular:!0};case E.Gibbles:return{typeId:216,skin:0,regular:!0};case E.Gee:return{typeId:217,skin:0,regular:!0};case E.GiGue:return{typeId:218,skin:0,regular:!0};case E.GalGryphon:return{typeId:192,skin:0,regular:!0};case E.Deldepth:return{typeId:219,skin:0,regular:!0};case E.Delbiter:return{typeId:220,skin:0,regular:!0};case E.Dolmolm:return{typeId:221,skin:0,regular:!0};case E.Dolmdarl:return{typeId:221,skin:1,regular:!0};case E.Morfos:return{typeId:222,skin:0,regular:!0};case E.Recobox:return{typeId:223,skin:0,regular:!0};case E.Epsilon:case E.SinowZoa:return{typeId:224,skin:0,regular:!0};case E.SinowZele:return{typeId:224,skin:1,regular:!0};case E.IllGill:return{typeId:225,skin:0,regular:!0};case E.DelLily:return{typeId:97,skin:0,regular:!0};case E.OlgaFlow:return{typeId:202,skin:0,regular:!0};case E.SandRappy:return{typeId:65,skin:0,regular:!0};case E.DelRappy:return{typeId:65,skin:1,regular:!0};case E.Astark:return{typeId:272,skin:0,regular:!0};case E.SatelliteLizard:return{typeId:273,skin:0,regular:!0};case E.Yowie:return{typeId:273,skin:0,regular:!1};case E.MerissaA:return{typeId:274,skin:0,regular:!0};case E.MerissaAA:return{typeId:274,skin:1,regular:!0};case E.Girtablulu:return{typeId:275,skin:0,regular:!0};case E.Zu:return{typeId:276,skin:0,regular:!0};case E.Pazuzu:return{typeId:276,skin:1,regular:!0};case E.Boota:return{typeId:277,skin:0,regular:!0};case E.ZeBoota:return{typeId:277,skin:1,regular:!0};case E.BaBoota:return{typeId:277,skin:2,regular:!0};case E.Dorphon:return{typeId:278,skin:0,regular:!0};case E.DorphonEclair:return{typeId:278,skin:1,regular:!0};case E.Goran:return{typeId:279,skin:0,regular:!0};case E.PyroGoran:return{typeId:279,skin:1,regular:!0};case E.GoranDetonator:return{typeId:279,skin:2,regular:!0};case E.SaintMilion:return{typeId:281,skin:0,regular:!0};case E.Shambertin:return{typeId:281,skin:1,regular:!0};case E.Kondrieu:return{typeId:281,skin:0,regular:!1}}}(e.type);return n&&(e.dat.unknown[2][18]=-129&e.dat.unknown[2][18]|(n.regular?0:128)),{typeId:n?n.typeId:e.dat.typeId,sectionId:e.sectionId,position:e.sectionPosition,rotation:e.rotation,skin:n?n.skin:e.dat.skin,areaId:e.areaId,unknown:e.dat.unknown}})),unknowns:e.datUnkowns}),o={data:e.binData}.data.seekStart(0),i=n.lastIndexOf("."),s=-1===i?n:n.slice(0,i);return xt({files:[{name:s+".dat",questNo:e.questNo,data:bt(a)},{name:s+".bin",questNo:e.questNo,data:bt(o)}]})}var Pt,zt,Wt,Nt,Ht,Vt=16776960,qt=16711680;function Yt(e,n){return Qt(e,n,Vt,"Object")}function Zt(e,n){return Qt(e,n,qt,"NPC")}function Qt(e,n,t,r){var a=new Kn.Mesh(n,new Kn.MeshLambertMaterial({color:t,side:Kn.DoubleSide}));return a.name=r,a.userData.entity=e,Object(O.e)(function(){var n=e.position,t=n.x,r=n.y,o=n.z;a.position.set(t,r,o);var i=e.rotation;a.rotation.set(i.x,i.y,i.z)}),a}function Kt(e){return e&&new Kn.Mesh(e,new Kn.MeshLambertMaterial({color:16711935,side:Kn.DoubleSide}))}var Jt,Xt,$t=new(Pt=function(){function e(){var n=this;Object(l.a)(this,e),Object(I.a)(this,"currentModel",zt,this),Object(I.a)(this,"currentQuest",Wt,this),Object(I.a)(this,"currentArea",Nt,this),Object(I.a)(this,"selectedEntity",Ht,this),this.setModel=Object(O.d)("setModel",function(e){n.resetModelAndQuestState(),n.currentModel=e}),this.setQuest=Object(O.d)("setQuest",function(e){n.resetModelAndQuestState(),n.currentQuest=e,e&&e.areaVariants.length&&(n.currentArea=e.areaVariants[0].area)}),this.setSelectedEntity=function(e){n.selectedEntity=e},this.setCurrentAreaId=Object(O.d)("setCurrentAreaId",function(e){if(n.selectedEntity=void 0,null==e)n.currentArea=void 0;else if(n.currentQuest){var t=n.currentQuest.areaVariants.find(function(n){return n.area.id===e});n.currentArea=t&&t.area}}),this.loadFile=function(e){var t=new FileReader;t.addEventListener("loadend",function(){n.loadend(e,t)}),t.readAsArrayBuffer(e)},this.loadend=function(){var e=Object(_.a)(D.a.mark(function e(t,r){var a,o,i,s,l,u,c;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.result instanceof ArrayBuffer){e.next=3;break}return console.error("Couldn't read file."),e.abrupt("return");case 3:if(!t.name.endsWith(".nj")){e.next=7;break}n.setModel(Kt(ct(new Pn(r.result,!0)))),e.next=42;break;case 7:if(!t.name.endsWith(".xj")){e.next=11;break}n.setModel(Kt(dt(new Pn(r.result,!0)))),e.next=42;break;case 11:if(a=Gt(new Pn(r.result,!0)),n.setQuest(a),!a){e.next=41;break}o=!0,i=!1,s=void 0,e.prev=17,l=D.a.mark(function e(){var t,r,o,i,s,l,u,d,p,h,w,m,v,f,b,k;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.value,e.next=3,tt(a.episode,t.area.id,t.id);case 3:r=e.sent,t.sections=r,o=!0,i=!1,s=void 0,e.prev=8,l=a.objects.filter(function(e){return e.areaId===t.area.id})[Symbol.iterator]();case 10:if(o=(u=l.next()).done){e.next=26;break}return d=u.value,e.prev=12,e.next=15,ft(d.type);case 15:p=e.sent,n.setSectionOnVisibleQuestEntity(d,r),d.object3d=Yt(d,p),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(12),console.error(e.t0);case 23:o=!0,e.next=10;break;case 26:e.next=32;break;case 28:e.prev=28,e.t1=e.catch(8),i=!0,s=e.t1;case 32:e.prev=32,e.prev=33,o||null==l.return||l.return();case 35:if(e.prev=35,!i){e.next=38;break}throw s;case 38:return e.finish(35);case 39:return e.finish(32);case 40:h=!0,w=!1,m=void 0,e.prev=43,v=a.npcs.filter(function(e){return e.areaId===t.area.id})[Symbol.iterator]();case 45:if(h=(f=v.next()).done){e.next=61;break}return b=f.value,e.prev=47,e.next=50,vt(b.type);case 50:k=e.sent,n.setSectionOnVisibleQuestEntity(b,r),b.object3d=Zt(b,k),e.next=58;break;case 55:e.prev=55,e.t2=e.catch(47),console.error(e.t2);case 58:h=!0,e.next=45;break;case 61:e.next=67;break;case 63:e.prev=63,e.t3=e.catch(43),w=!0,m=e.t3;case 67:e.prev=67,e.prev=68,h||null==v.return||v.return();case 70:if(e.prev=70,!w){e.next=73;break}throw m;case 73:return e.finish(70);case 74:return e.finish(67);case 75:case"end":return e.stop()}},e,null,[[8,28,32,40],[12,20],[33,,35,39],[43,63,67,75],[47,55],[68,,70,74]])}),u=a.areaVariants[Symbol.iterator]();case 20:if(o=(c=u.next()).done){e.next=25;break}return e.delegateYield(l(),"t0",22);case 22:o=!0,e.next=20;break;case 25:e.next=31;break;case 27:e.prev=27,e.t1=e.catch(17),i=!0,s=e.t1;case 31:e.prev=31,e.prev=32,o||null==u.return||u.return();case 34:if(e.prev=34,!i){e.next=37;break}throw s;case 37:return e.finish(34);case 38:return e.finish(31);case 39:e.next=42;break;case 41:console.error("Couldn't parse quest file.");case 42:case"end":return e.stop()}},e,null,[[17,27,31,39],[32,,34,38]])}));return function(n,t){return e.apply(this,arguments)}}(),this.setSectionOnVisibleQuestEntity=function(){var e=Object(_.a)(D.a.mark(function e(n,t){var r,a,o,i,s,l,u,c,d,p,h;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n.position,a=r.x,o=r.y,i=r.z,s=t.find(function(e){return e.id===n.sectionId}),n.section=s,s?(l=s.position,u=l.x,c=l.y,d=l.z,p=s.cosYAxisRotation*a+s.sinYAxisRotation*i,h=-s.sinYAxisRotation*a+s.cosYAxisRotation*i,a=p+u,o+=c,i=h+d):console.warn("Section ".concat(n.sectionId," not found.")),n.position=new _e(a,o,i);case 5:case"end":return e.stop()}},e)}));return function(n,t){return e.apply(this,arguments)}}(),this.saveCurrentQuestToFile=function(e){if(n.currentQuest){var t=Ut(n.currentQuest,e);e.endsWith(".qst")||(e+=".qst");var r=document.createElement("a");r.href=URL.createObjectURL(new Blob([t.buffer])),r.download=e,document.body.appendChild(r),r.click(),URL.revokeObjectURL(r.href),document.body.removeChild(r)}}}return Object(u.a)(e,[{key:"resetModelAndQuestState",value:function(){this.currentQuest=void 0,this.currentArea=void 0,this.selectedEntity=void 0,this.currentModel=void 0}}]),e}(),zt=Object(L.a)(Pt.prototype,"currentModel",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wt=Object(L.a)(Pt.prototype,"currentQuest",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nt=Object(L.a)(Pt.prototype,"currentArea",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ht=Object(L.a)(Pt.prototype,"selectedEntity",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pt),er=(t(353),Object(h.a)(Jt=function(e){function n(){return Object(l.a)(this,n),Object(c.a)(this,Object(d.a)(n).apply(this,arguments))}return Object(p.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this.props.entity;if(e){var n=e.section?e.section.id:e.sectionId,t=null;return e instanceof Be?t=a.a.createElement("tr",null,a.a.createElement("td",null,"Object: "),a.a.createElement("td",{colSpan:2},e.type.name)):e instanceof Oe&&(t=a.a.createElement("tr",null,a.a.createElement("td",null,"NPC: "),a.a.createElement("td",null,e.type.name))),a.a.createElement("div",{className:"EntityInfoComponent-container"},a.a.createElement("table",{className:"EntityInfoComponent-table"},a.a.createElement("tbody",null,t,a.a.createElement("tr",null,a.a.createElement("td",null,"Section: "),a.a.createElement("td",null,n)),a.a.createElement("tr",null,a.a.createElement("td",{colSpan:2},"World position: ")),a.a.createElement("tr",null,a.a.createElement("td",{colSpan:2},a.a.createElement("table",null,a.a.createElement("tbody",null,a.a.createElement(nr,{entity:e,positionType:"position",coord:"x"}),a.a.createElement(nr,{entity:e,positionType:"position",coord:"y"}),a.a.createElement(nr,{entity:e,positionType:"position",coord:"z"}))))),a.a.createElement("tr",null,a.a.createElement("td",{colSpan:2},"Section position: ")),a.a.createElement("tr",null,a.a.createElement("td",{colSpan:2},a.a.createElement("table",null,a.a.createElement("tbody",null,a.a.createElement(nr,{entity:e,positionType:"sectionPosition",coord:"x"}),a.a.createElement(nr,{entity:e,positionType:"sectionPosition",coord:"y"}),a.a.createElement(nr,{entity:e,positionType:"sectionPosition",coord:"z"}))))))))}return a.a.createElement("div",{className:"EntityInfoComponent-container"})}}]),n}(a.a.Component))||Jt),nr=Object(h.a)(Xt=function(e){function n(){var e,t;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(c.a)(this,(e=Object(d.a)(n)).call.apply(e,[this].concat(a)))).changed=function(e){if(null!=e){var n=t.props.entity,r=t.props.positionType,a=n[r].clone();a[t.props.coord]=e,n[r]=a}},t}return Object(p.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=this.props.entity[this.props.positionType][this.props.coord];return a.a.createElement("tr",null,a.a.createElement("td",null,this.props.coord.toUpperCase(),": "),a.a.createElement("td",null,a.a.createElement(b.a,{value:e,size:"small",precision:3,className:"EntityInfoComponent-coord",onChange:this.changed})))}}]),n}(a.a.Component))||Xt;t(354),t(355);function tr(e){var n=e.quest;if(n){var t=4===n.episode?"IV":2===n.episode?"II":"I",r=new Map,o=!0,i=!1,s=void 0;try{for(var l,u=n.npcs[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value,d=r.get(c.type)||0;r.set(c.type,d+1)}}catch(w){i=!0,s=w}finally{try{o||null==u.return||u.return()}finally{if(i)throw s}}var p=8*(r.get(E.Canane)||0),h=Object(Qn.a)(r).sort(function(e,n){return e[0].id-n[0].id}).map(function(e){var n=Object(R.a)(e,2),t=n[0],r=n[1],o=t===E.Canadine?p:0;return a.a.createElement("tr",{key:t.id},a.a.createElement("td",null,t.name,":"),a.a.createElement("td",null,r+o))});return a.a.createElement("div",{className:"qe-QuestInfoComponent"},a.a.createElement("table",null,a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Name:"),a.a.createElement("td",null,n.name)),a.a.createElement("tr",null,a.a.createElement("th",null,"Episode:"),a.a.createElement("td",null,t)),a.a.createElement("tr",null,a.a.createElement("td",{colSpan:2},a.a.createElement("pre",null,n.shortDescription))),a.a.createElement("tr",null,a.a.createElement("td",{colSpan:2},a.a.createElement("pre",null,n.longDescription))))),a.a.createElement("div",{className:"qe-QuestInfoComponent-npc-counts-container"},a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{colSpan:2},"NPC Counts"))),a.a.createElement("tbody",null,h))))}return a.a.createElement("div",{className:"qe-QuestInfoComponent"})}var rr,ar=t(205),or=t.n(ar)()(Kn);var ir,sr,lr,ur=function(){function e(){var n=this;Object(l.a)(this,e),this.renderer=new Kn.WebGLRenderer({antialias:!0}),this.camera=void 0,this.controls=void 0,this.raycaster=new Kn.Raycaster,this.scene=new Kn.Scene,this.quest=void 0,this.questEntitiesLoaded=!1,this.area=void 0,this.objs=new Map,this.npcs=new Map,this.collisionGeometry=new Kn.Object3D,this.renderGeometry=new Kn.Object3D,this.objGeometry=new Kn.Object3D,this.npcGeometry=new Kn.Object3D,this.hoveredData=void 0,this.selectedData=void 0,this.model=void 0,this.renderLoop=function(){n.controls.update(),n.addLoadedEntities(),n.renderer.render(n.scene,n.camera),requestAnimationFrame(n.renderLoop)},this.onMouseDown=function(e){var t=n.selectedData,r=n.pickEntity(n.pointerPosToDeviceCoords(e));!n.hoveredData||r&&r.object===n.hoveredData.object||n.hoveredData.object.material.color.set(n.getColor(n.hoveredData.entity,"normal")),!n.selectedData||r&&r.object===n.selectedData.object||(n.selectedData.object.material.color.set(n.getColor(n.selectedData.entity,"normal")),n.selectedData.manipulating=!1),r?(r.object.material.color.set(n.getColor(r.entity,"selected")),r.manipulating=!0,n.hoveredData=r,n.selectedData=r,n.controls.enabled=!1):(n.hoveredData=void 0,n.selectedData=void 0,n.controls.enabled=!0),(t&&r?t.object!==r.object:t!==r)&&$t.setSelectedEntity(r&&r.entity)},this.onMouseUp=function(){n.selectedData&&(n.selectedData.manipulating=!1,n.controls.enabled=!0)},this.onMouseMove=function(e){var t=n.pointerPosToDeviceCoords(e);if(n.selectedData&&n.selectedData.manipulating){if(1===e.buttons){var r=n.selectedData;if(e.shiftKey){n.raycaster.setFromCamera(t,n.camera);var a=n.raycaster.ray,o=n.camera.getWorldDirection(new Kn.Vector3).negate(),i=(new Kn.Plane).setFromNormalAndCoplanarPoint(new Kn.Vector3(o.x,0,o.z).normalize(),r.object.position.sub(r.grabOffset)),s=new Kn.Vector3;if(a.intersectPlane(i,s)){var l=s.y+r.grabOffset.y,u=l-r.entity.position.y;r.dragY+=u,r.dragAdjust.y-=u,r.entity.position=new _e(r.entity.position.x,l,r.entity.position.z)}}else{var c=n.pickTerrain(t,r),d=c.intersection,p=c.section;if(d)r.entity.position=new _e(d.point.x,d.point.y+r.dragY,d.point.z),r.entity.section=p;else{n.raycaster.setFromCamera(t,n.camera);var h=n.raycaster.ray,w=new Kn.Plane(new Kn.Vector3(0,1,0),-r.entity.position.y+r.grabOffset.y),m=new Kn.Vector3;h.intersectPlane(w,m)&&(r.entity.position=new _e(m.x+r.grabOffset.x,r.entity.position.y,m.z+r.grabOffset.z))}}}}else{var v=n.hoveredData,f=n.pickEntity(t);!v||f&&f.object===v.object||(n.selectedData&&v.object===n.selectedData.object||v.object.material.color.set(n.getColor(v.entity,"normal")),n.hoveredData=void 0),!f||v&&f.object===v.object||(n.selectedData&&f.object===n.selectedData.object||f.object.material.color.set(n.getColor(f.entity,"hover")),n.hoveredData=f)}},this.renderer.domElement.addEventListener("mousedown",this.onMouseDown),this.renderer.domElement.addEventListener("mouseup",this.onMouseUp),this.renderer.domElement.addEventListener("mousemove",this.onMouseMove),this.camera=new Kn.PerspectiveCamera(75,1,.1,5e3),this.controls=new or(this.camera,this.renderer.domElement),this.controls.mouseButtons.ORBIT=Kn.MOUSE.RIGHT,this.controls.mouseButtons.PAN=Kn.MOUSE.LEFT,this.scene.background=new Kn.Color(1383457),this.scene.add(new Kn.HemisphereLight(16777215,5263440,1)),this.scene.add(this.objGeometry),this.scene.add(this.npcGeometry),requestAnimationFrame(this.renderLoop)}return Object(u.a)(e,[{key:"setSize",value:function(e,n){this.renderer.setSize(e,n),this.camera.aspect=e/n,this.camera.updateProjectionMatrix()}},{key:"setQuestAndArea",value:function(e,n){var t=!1;if(this.area!==n&&(this.area=n,t=!0),this.quest!==e){if(this.quest=e,this.objs.clear(),this.npcs.clear(),e){var r=!0,a=!1,o=void 0;try{for(var i,s=e.objects[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var l=i.value,u=this.objs.get(l.areaId)||[];u.push(l),this.objs.set(l.areaId,u)}}catch(f){a=!0,o=f}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}var c=!0,d=!1,p=void 0;try{for(var h,w=e.npcs[Symbol.iterator]();!(c=(h=w.next()).done);c=!0){var m=h.value,v=this.npcs.get(m.areaId)||[];v.push(m),this.npcs.set(m.areaId,v)}}catch(f){d=!0,p=f}finally{try{c||null==w.return||w.return()}finally{if(d)throw p}}}t=!0}t&&this.updateGeometry()}},{key:"setModel",value:function(e){this.model!==e&&(this.model&&this.scene.remove(this.model),e&&(this.setQuestAndArea(void 0,void 0),this.scene.add(e),this.resetCamera()),this.model=e)}},{key:"updateGeometry",value:function(){var e=this;if(this.scene.remove(this.objGeometry),this.scene.remove(this.npcGeometry),this.objGeometry=new Kn.Object3D,this.npcGeometry=new Kn.Object3D,this.scene.add(this.objGeometry),this.scene.add(this.npcGeometry),this.questEntitiesLoaded=!1,this.scene.remove(this.collisionGeometry),this.quest&&this.area){var n=this.quest.episode,t=this.area.id,r=this.quest.areaVariants.find(function(e){return e.area.id===t}),a=r&&r.id||0;rt(n,t,a).then(function(n){e.quest&&e.area&&(e.setModel(void 0),e.scene.remove(e.collisionGeometry),e.resetCamera(),e.collisionGeometry=n,e.scene.add(n))}),function(e,n,t){var r=et.get("".concat(e,"-").concat(n,"-").concat(t));return r||at(e,n,t).then(function(e){return e.object3d})}(n,t,a).then(function(n){e.quest&&e.area&&(e.renderGeometry=n)})}}},{key:"resetCamera",value:function(){this.controls.reset(),this.camera.position.set(0,800,700),this.camera.lookAt(new Kn.Vector3(0,0,0))}},{key:"addLoadedEntities",value:function(){if(this.quest&&this.area&&!this.questEntitiesLoaded){var e=!0,n=!0,t=!1,r=void 0;try{for(var a,o=this.quest.objects[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var i=a.value;i.areaId===this.area.id&&(i.object3d?this.objGeometry.add(i.object3d):e=!1)}}catch(h){t=!0,r=h}finally{try{n||null==o.return||o.return()}finally{if(t)throw r}}var s=!0,l=!1,u=void 0;try{for(var c,d=this.quest.npcs[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var p=c.value;p.areaId===this.area.id&&(p.object3d?this.npcGeometry.add(p.object3d):e=!1)}}catch(h){l=!0,u=h}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}this.questEntitiesLoaded=e}}},{key:"pointerPosToDeviceCoords",value:function(e){var n=new Kn.Vector2;return this.renderer.getSize(n),n.width=e.offsetX/n.width*2-1,n.height=e.offsetY/n.height*-2+1,n}},{key:"pickEntity",value:function(e){this.raycaster.setFromCamera(e,this.camera);var n=this.raycaster.intersectObjects(this.objGeometry.children),t=Object(R.a)(n,1)[0],r=this.raycaster.intersectObjects(this.npcGeometry.children),a=Object(R.a)(r,1)[0];if(t||a){var o=(t?t.distance:1/0)<(a?a.distance:1/0)?t:a,i=o.object.userData.entity,s=o.object.position.clone().sub(o.point),l=s.clone(),u=0;this.raycaster.set(o.object.position,new Kn.Vector3(0,-1,0));var c=this.raycaster.intersectObjects(this.collisionGeometry.children,!0),d=Object(R.a)(c,1)[0];return d&&(l.sub(new Kn.Vector3(0,d.distance,0)),u+=d.distance),{object:o.object,entity:i,grabOffset:s,dragAdjust:l,dragY:u,manipulating:!1}}}},{key:"pickTerrain",value:function(e,n){this.raycaster.setFromCamera(e,this.camera),this.raycaster.ray.origin.add(n.dragAdjust);var t=this.raycaster.intersectObjects(this.collisionGeometry.children,!0),r=!0,a=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var l=i.value;if(l.face.normal.y>.75){this.raycaster.set(l.point.clone().setY(1e3),new Kn.Vector3(0,-1,0));var u=this.raycaster.intersectObjects(this.renderGeometry.children,!0).filter(function(e){return e.object.userData.section.id>=0});return{intersection:l,section:u[0]&&u[0].object.userData.section}}}}catch(c){a=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return{}}},{key:"getColor",value:function(e,n){var t=e instanceof Oe;switch(n){default:case"normal":return t?qt:Vt;case"hover":return t?16727903:16768831;case"selected":return t?16711764:16755200}}},{key:"domElement",get:function(){return this.renderer.domElement}}]),e}(),cr=function(e){function n(){var e,t;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(c.a)(this,(e=Object(d.a)(n)).call.apply(e,[this].concat(a)))).renderer=(rr||(rr=new ur),rr),t.modifyDom=function(e){e&&(t.renderer.setSize(e.clientWidth,e.clientHeight),e.appendChild(t.renderer.domElement))},t.onResize=function(){var e=t.renderer.domElement.parentNode;t.renderer.setSize(e.clientWidth,e.clientHeight)},t}return Object(p.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{style:{overflow:"hidden"},ref:this.modifyDom})}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"componentWillReceiveProps",value:function(e){var n=e.quest,t=e.area,r=e.model;r?this.renderer.setModel(r):this.renderer.setQuestAndArea(n,t)}},{key:"shouldComponentUpdate",value:function(){return!1}}]),n}(a.a.Component),dr=Object(h.a)(ir=function(e){function n(){var e,t;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(c.a)(this,(e=Object(d.a)(n)).call.apply(e,[this].concat(a)))).state={saveDialogOpen:!1,saveDialogFilename:"Untitled"},t.saveAsClicked=function(e){var n=e?e.endsWith(".qst")?e.slice(0,-4):e:t.state.saveDialogFilename;t.setState({saveDialogOpen:!0,saveDialogFilename:n})},t.saveDialogFilenameChanged=function(e){t.setState({saveDialogFilename:e})},t.saveDialogAffirmed=function(){$t.saveCurrentQuestToFile(t.state.saveDialogFilename),t.setState({saveDialogOpen:!1})},t.saveDialogCancelled=function(){t.setState({saveDialogOpen:!1})},t}return Object(p.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=$t.currentQuest,n=$t.currentModel,t=$t.currentArea;return a.a.createElement("div",{className:"qe-QuestEditorComponent"},a.a.createElement(pr,{onSaveAsClicked:this.saveAsClicked}),a.a.createElement("div",{className:"qe-QuestEditorComponent-main"},a.a.createElement(tr,{quest:e}),a.a.createElement(cr,{quest:e,area:t,model:n}),a.a.createElement(er,{entity:$t.selectedEntity})),a.a.createElement(hr,{isOpen:this.state.saveDialogOpen,filename:this.state.saveDialogFilename,onFilenameChange:this.saveDialogFilenameChanged,onOk:this.saveDialogAffirmed,onCancel:this.saveDialogCancelled}))}}]),n}(a.a.Component))||ir,pr=Object(h.a)(sr=function(e){function n(){var e,t;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(c.a)(this,(e=Object(d.a)(n)).call.apply(e,[this].concat(a)))).state={filename:void 0},t.setFilename=function(e){e.file.originFileObj&&(t.setState({filename:e.file.name}),$t.loadFile(e.file.originFileObj))},t.saveAsClicked=function(){t.props.onSaveAsClicked(t.state.filename)},t}return Object(p.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e=$t.currentQuest,n=e&&Array.from(e.areaVariants).map(function(e){return e.area}),t=$t.currentArea,r=t&&t.id;return a.a.createElement("div",{className:"qe-QuestEditorComponent-toolbar"},a.a.createElement(En.a,{accept:".nj, .qst, .xj",showUploadList:!1,onChange:this.setFilename},a.a.createElement(y.a,{icon:"file"},this.state.filename||"Choose file...")),n&&a.a.createElement(k.a,{onChange:$t.setCurrentAreaId,value:r,style:{width:200}},n.map(function(e){return a.a.createElement(k.a.Option,{key:e.id,value:e.id},e.name)})),e&&a.a.createElement(y.a,{icon:"save",onClick:this.saveAsClicked},"Save as..."))}}]),n}(a.a.Component))||sr,hr=function(e){function n(){var e,t;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(c.a)(this,(e=Object(d.a)(n)).call.apply(e,[this].concat(a)))).nameChanged=function(e){t.props.onFilenameChange(e.currentTarget.value)},t}return Object(p.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){return a.a.createElement(Cn.a,{title:a.a.createElement(a.a.Fragment,null,a.a.createElement(jn.a,{type:"save"})," Save as..."),visible:this.props.isOpen,onOk:this.props.onOk,onCancel:this.props.onCancel},a.a.createElement(Bn.a,{layout:"vertical"},a.a.createElement(Bn.a.Item,{label:"Name"},a.a.createElement(On.a,{autoFocus:!0,maxLength:12,value:this.props.filename,onChange:this.nameChanged}))))}}]),n}(a.a.Component),wr=v(dr),mr=v(function(){return a.a.createElement("section",{className:"ho-HuntOptimizerComponent"},a.a.createElement(f.a,{type:"card"},a.a.createElement(Ln,{tab:"Optimize",key:"optimize"},a.a.createElement(bn,null)),a.a.createElement(Ln,{tab:"Methods",key:"methods"},a.a.createElement(In,null))))}),vr=Object(h.a)(lr=function(e){function n(){var e,t;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(c.a)(this,(e=Object(d.a)(n)).call.apply(e,[this].concat(a)))).state={tool:"questEditor"},t.menuClicked=function(e){t.setState({tool:e.key})},t}return Object(p.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){var e;switch(this.state.tool){case"questEditor":e=a.a.createElement(wr,null);break;case"huntOptimizer":e=a.a.createElement(mr,null)}return a.a.createElement("div",{className:"ApplicationComponent"},a.a.createElement("div",{className:"ApplicationComponent-navbar"},a.a.createElement("h1",{className:"ApplicationComponent-heading"},"Phantasmal World"),a.a.createElement(s.b,{onClick:this.menuClicked,selectedKeys:[this.state.tool],mode:"horizontal"},a.a.createElement(s.b.Item,{key:"questEditor"},"Quest Editor",a.a.createElement("sup",{className:"ApplicationComponent-beta"},"(Beta)")),a.a.createElement(s.b.Item,{key:"huntOptimizer"},"Hunt Optimizer"))),a.a.createElement("div",{className:"ApplicationComponent-main"},e))}}]),n}(a.a.Component))||lr;t(452);i.a.render(a.a.createElement(vr,null),document.getElementById("phantasmal-world-root"))}},[[217,1,2]]]);
//# sourceMappingURL=main.1cff969c.chunk.js.map