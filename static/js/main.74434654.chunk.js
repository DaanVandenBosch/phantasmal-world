(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{227:function(e,t,n){e.exports=n(486)},232:function(e,t,n){},238:function(e,t,n){},241:function(e,t,n){},280:function(e,t,n){},346:function(e,t,n){},347:function(e,t,n){},351:function(e,t,n){},352:function(e,t,n){},353:function(e,t,n){},356:function(e,t,n){},375:function(e,t,n){},376:function(e,t,n){},377:function(e,t,n){},486:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(12),o=n.n(i),s=n(27),l=n.n(s),u=(n(232),n(204),n(87)),c=(n(235),n(121)),d=n(10),p=n(13),h=n(23),m=n(21),w=n(22),v=n(34),f=(n(238),n(239),n(225)),b=(n(241),function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).state={hasError:!1},n}return Object(w.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return this.state.hasError?a.a.createElement("div",{className:"ErrorBoundary-error"},a.a.createElement("div",null,a.a.createElement(f.a,{type:"error",message:"Something went wrong."}))):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(a.a.Component));function y(e){return function(){return a.a.createElement(b,null,a.a.createElement(e,null))}}n(278);var k=n(156),g=(n(280),n(136),n(63)),R=(n(282),n(210)),D=(n(109),n(41)),S=n(38),O=n(24),I=n.n(O),_=n(46),C=n(28),j=n(32),E=n(16),L=n(11),B=(n(52),n(207)),x=n.n(B),M=n(6),A=n(98);function T(e){var t=Object.values(e),n=t.filter(function(e){return"number"===typeof e});return n.length?n:t}var F,G,P,U,z=function(){function e(t,n){Object(d.a)(this,e),this.keys=void 0,this.values=new Map,this.keys=T(t);var r=!0,a=!1,i=void 0;try{for(var o,s=this.keys[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;this.values.set(l,n(l))}}catch(u){a=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}}return Object(p.a)(e,[{key:"get",value:function(e){return this.values.get(e)}}]),e}(),W=function e(t,n,r,a,i,o,s){Object(d.a)(this,e),this.id=t,this.name=n,this.minAtp=r,this.maxAtp=a,this.ata=i,this.maxGrind=o,this.requiredAtp=s},N=function e(t,n,r,a,i,o,s,l,u,c,p){Object(d.a)(this,e),this.id=t,this.name=n,this.atp=r,this.ata=a,this.minEvp=i,this.maxEvp=o,this.minDfp=s,this.maxDfp=l,this.mst=u,this.hp=c,this.lck=p},H=function e(t,n,r,a,i,o,s,l,u,c,p){Object(d.a)(this,e),this.id=t,this.name=n,this.atp=r,this.ata=a,this.minEvp=i,this.maxEvp=o,this.minDfp=s,this.maxDfp=l,this.mst=u,this.hp=c,this.lck=p},V=function e(t,n){Object(d.a)(this,e),this.id=t,this.name=n},q=function e(t,n){Object(d.a)(this,e),this.id=t,this.name=n},Y=(F=function(){function e(t){Object(d.a)(this,e),this.type=t,Object(E.a)(this,"attribute",G,this),Object(E.a)(this,"hit",P,this),Object(E.a)(this,"grind",U,this)}return Object(p.a)(e,[{key:"grindAtp",get:function(){return 2*this.grind}}]),e}(),G=Object(L.a)(F.prototype,"attribute",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=Object(L.a)(F.prototype,"hit",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=Object(L.a)(F.prototype,"grind",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(L.a)(F.prototype,"grindAtp",[M.d],Object.getOwnPropertyDescriptor(F.prototype,"grindAtp"),F.prototype),F),Z=function(){function e(t,n,r,a,i,o,s){if(Object(d.a)(this,e),this.id=void 0,this.code=void 0,this.name=void 0,this.simpleName=void 0,this.ultimateName=void 0,this.episode=void 0,this.enemy=void 0,this.rareType=void 0,!Number.isInteger(t)||t<0)throw new Error("Expected id to be an integer greater than or equal to 0, got ".concat(t,"."));if(!n)throw new Error("code is required.");if(!r)throw new Error("name is required.");if(!a)throw new Error("simpleName is required.");if(!i)throw new Error("ultimateName is required.");if(null!=o&&1!==o&&2!==o&&4!==o)throw new Error("episode should be undefined, 1, 2 or 4, got ".concat(o,"."));if("boolean"!==typeof s)throw new Error("enemy is required.");if(this.id=t,this.code=n,this.simpleName=a,this.ultimateName=i,this.name=r,this.episode=o,this.enemy=s,e.byCodeMap.set(n,this),o){var l=e.byEpAndName[o];l&&(l.set(a,this),l.set(i,this))}}return Object(p.a)(e,null,[{key:"byCode",value:function(e){return this.byCodeMap.get(e)}},{key:"byNameAndEpisode",value:function(e,t){return Ce(t),this.byEpAndName[t].get(e)}}]),e}();Z.byCodeMap=new Map,Z.byEpAndName=[void 0,new Map,new Map,void 0,new Map],Z.Unknown=void 0,Z.FemaleFat=void 0,Z.FemaleMacho=void 0,Z.FemaleTall=void 0,Z.MaleDwarf=void 0,Z.MaleFat=void 0,Z.MaleMacho=void 0,Z.MaleOld=void 0,Z.BlueSoldier=void 0,Z.RedSoldier=void 0,Z.Principal=void 0,Z.Tekker=void 0,Z.GuildLady=void 0,Z.Scientist=void 0,Z.Nurse=void 0,Z.Irene=void 0,Z.ItemShop=void 0,Z.Nurse2=void 0,Z.Hildebear=void 0,Z.Hildeblue=void 0,Z.RagRappy=void 0,Z.AlRappy=void 0,Z.Monest=void 0,Z.Mothmant=void 0,Z.SavageWolf=void 0,Z.BarbarousWolf=void 0,Z.Booma=void 0,Z.Gobooma=void 0,Z.Gigobooma=void 0,Z.Dragon=void 0,Z.GrassAssassin=void 0,Z.PoisonLily=void 0,Z.NarLily=void 0,Z.NanoDragon=void 0,Z.EvilShark=void 0,Z.PalShark=void 0,Z.GuilShark=void 0,Z.PofuillySlime=void 0,Z.PouillySlime=void 0,Z.PanArms=void 0,Z.Migium=void 0,Z.Hidoom=void 0,Z.DeRolLe=void 0,Z.Dubchic=void 0,Z.Gilchic=void 0,Z.Garanz=void 0,Z.SinowBeat=void 0,Z.SinowGold=void 0,Z.Canadine=void 0,Z.Canane=void 0,Z.Dubswitch=void 0,Z.VolOpt=void 0,Z.Delsaber=void 0,Z.ChaosSorcerer=void 0,Z.DarkGunner=void 0,Z.DeathGunner=void 0,Z.ChaosBringer=void 0,Z.DarkBelra=void 0,Z.Dimenian=void 0,Z.LaDimenian=void 0,Z.SoDimenian=void 0,Z.Bulclaw=void 0,Z.Bulk=void 0,Z.Claw=void 0,Z.DarkFalz=void 0,Z.Hildebear2=void 0,Z.Hildeblue2=void 0,Z.RagRappy2=void 0,Z.LoveRappy=void 0,Z.StRappy=void 0,Z.HalloRappy=void 0,Z.EggRappy=void 0,Z.Monest2=void 0,Z.Mothmant2=void 0,Z.PoisonLily2=void 0,Z.NarLily2=void 0,Z.GrassAssassin2=void 0,Z.Dimenian2=void 0,Z.LaDimenian2=void 0,Z.SoDimenian2=void 0,Z.DarkBelra2=void 0,Z.BarbaRay=void 0,Z.SavageWolf2=void 0,Z.BarbarousWolf2=void 0,Z.PanArms2=void 0,Z.Migium2=void 0,Z.Hidoom2=void 0,Z.Dubchic2=void 0,Z.Gilchic2=void 0,Z.Garanz2=void 0,Z.Dubswitch2=void 0,Z.Delsaber2=void 0,Z.ChaosSorcerer2=void 0,Z.GolDragon=void 0,Z.SinowBerill=void 0,Z.SinowSpigell=void 0,Z.Merillia=void 0,Z.Meriltas=void 0,Z.Mericarol=void 0,Z.Mericus=void 0,Z.Merikle=void 0,Z.UlGibbon=void 0,Z.ZolGibbon=void 0,Z.Gibbles=void 0,Z.Gee=void 0,Z.GiGue=void 0,Z.IllGill=void 0,Z.DelLily=void 0,Z.Epsilon=void 0,Z.GalGryphon=void 0,Z.Deldepth=void 0,Z.Delbiter=void 0,Z.Dolmolm=void 0,Z.Dolmdarl=void 0,Z.Morfos=void 0,Z.Recobox=void 0,Z.Recon=void 0,Z.SinowZoa=void 0,Z.SinowZele=void 0,Z.OlgaFlow=void 0,Z.SandRappy=void 0,Z.DelRappy=void 0,Z.Astark=void 0,Z.SatelliteLizard=void 0,Z.Yowie=void 0,Z.MerissaA=void 0,Z.MerissaAA=void 0,Z.Girtablulu=void 0,Z.Zu=void 0,Z.Pazuzu=void 0,Z.Boota=void 0,Z.ZeBoota=void 0,Z.BaBoota=void 0,Z.Dorphon=void 0,Z.DorphonEclair=void 0,Z.Goran=void 0,Z.PyroGoran=void 0,Z.GoranDetonator=void 0,Z.SaintMilion=void 0,Z.Shambertin=void 0,Z.Kondrieu=void 0,function(){var e=0;Z.Unknown=new Z(e++,"Unknown","Unknown","Unknown","Unknown",void 0,!1),Z.FemaleFat=new Z(e++,"FemaleFat","Female Fat","Female Fat","Female Fat",void 0,!1),Z.FemaleMacho=new Z(e++,"FemaleMacho","Female Macho","Female Macho","Female Macho",void 0,!1),Z.FemaleTall=new Z(e++,"FemaleTall","Female Tall","Female Tall","Female Tall",void 0,!1),Z.MaleDwarf=new Z(e++,"MaleDwarf","Male Dwarf","Male Dwarf","Male Dwarf",void 0,!1),Z.MaleFat=new Z(e++,"MaleFat","Male Fat","Male Fat","Male Fat",void 0,!1),Z.MaleMacho=new Z(e++,"MaleMacho","Male Macho","Male Macho","Male Macho",void 0,!1),Z.MaleOld=new Z(e++,"MaleOld","Male Old","Male Old","Male Old",void 0,!1),Z.BlueSoldier=new Z(e++,"BlueSoldier","Blue Soldier","Blue Soldier","Blue Soldier",void 0,!1),Z.RedSoldier=new Z(e++,"RedSoldier","Red Soldier","Red Soldier","Red Soldier",void 0,!1),Z.Principal=new Z(e++,"Principal","Principal","Principal","Principal",void 0,!1),Z.Tekker=new Z(e++,"Tekker","Tekker","Tekker","Tekker",void 0,!1),Z.GuildLady=new Z(e++,"GuildLady","Guild Lady","Guild Lady","Guild Lady",void 0,!1),Z.Scientist=new Z(e++,"Scientist","Scientist","Scientist","Scientist",void 0,!1),Z.Nurse=new Z(e++,"Nurse","Nurse","Nurse","Nurse",void 0,!1),Z.Irene=new Z(e++,"Irene","Irene","Irene","Irene",void 0,!1),Z.ItemShop=new Z(e++,"ItemShop","Item Shop","Item Shop","Item Shop",void 0,!1),Z.Nurse2=new Z(e++,"Nurse2","Nurse (Ep. II)","Nurse","Nurse",2,!1),Z.Hildebear=new Z(e++,"Hildebear","Hildebear","Hildebear","Hildelt",1,!0),Z.Hildeblue=new Z(e++,"Hildeblue","Hildeblue","Hildeblue","Hildetorr",1,!0),Z.Hildebear.rareType=Z.Hildeblue,Z.RagRappy=new Z(e++,"RagRappy","Rag Rappy","Rag Rappy","El Rappy",1,!0),Z.AlRappy=new Z(e++,"AlRappy","Al Rappy","Al Rappy","Pal Rappy",1,!0),Z.RagRappy.rareType=Z.AlRappy,Z.Monest=new Z(e++,"Monest","Monest","Monest","Mothvist",1,!0),Z.Mothmant=new Z(e++,"Mothmant","Mothmant","Mothmant","Mothvert",1,!0),Z.SavageWolf=new Z(e++,"SavageWolf","Savage Wolf","Savage Wolf","Gulgus",1,!0),Z.BarbarousWolf=new Z(e++,"BarbarousWolf","Barbarous Wolf","Barbarous Wolf","Gulgus-Gue",1,!0),Z.Booma=new Z(e++,"Booma","Booma","Booma","Bartle",1,!0),Z.Gobooma=new Z(e++,"Gobooma","Gobooma","Gobooma","Barble",1,!0),Z.Gigobooma=new Z(e++,"Gigobooma","Gigobooma","Gigobooma","Tollaw",1,!0),Z.Dragon=new Z(e++,"Dragon","Dragon","Dragon","Sil Dragon",1,!0),Z.GrassAssassin=new Z(e++,"GrassAssassin","Grass Assassin","Grass Assassin","Crimson Assassin",1,!0),Z.PoisonLily=new Z(e++,"PoisonLily","Poison Lily","Poison Lily","Ob Lily",1,!0),Z.NarLily=new Z(e++,"NarLily","Nar Lily","Nar Lily","Mil Lily",1,!0),Z.PoisonLily.rareType=Z.NarLily,Z.NanoDragon=new Z(e++,"NanoDragon","Nano Dragon","Nano Dragon","Nano Dragon",1,!0),Z.EvilShark=new Z(e++,"EvilShark","Evil Shark","Evil Shark","Vulmer",1,!0),Z.PalShark=new Z(e++,"PalShark","Pal Shark","Pal Shark","Govulmer",1,!0),Z.GuilShark=new Z(e++,"GuilShark","Guil Shark","Guil Shark","Melqueek",1,!0),Z.PofuillySlime=new Z(e++,"PofuillySlime","Pofuilly Slime","Pofuilly Slime","Pofuilly Slime",1,!0),Z.PouillySlime=new Z(e++,"PouillySlime","Pouilly Slime","Pouilly Slime","Pouilly Slime",1,!0),Z.PofuillySlime.rareType=Z.PouillySlime,Z.PanArms=new Z(e++,"PanArms","Pan Arms","Pan Arms","Pan Arms",1,!0),Z.Migium=new Z(e++,"Migium","Migium","Migium","Migium",1,!0),Z.Hidoom=new Z(e++,"Hidoom","Hidoom","Hidoom","Hidoom",1,!0),Z.DeRolLe=new Z(e++,"DeRolLe","De Rol Le","De Rol Le","Dal Ra Lie",1,!0),Z.Dubchic=new Z(e++,"Dubchic","Dubchic","Dubchic","Dubchich",1,!0),Z.Gilchic=new Z(e++,"Gilchic","Gilchic","Gilchic","Gilchich",1,!0),Z.Garanz=new Z(e++,"Garanz","Garanz","Garanz","Baranz",1,!0),Z.SinowBeat=new Z(e++,"SinowBeat","Sinow Beat","Sinow Beat","Sinow Blue",1,!0),Z.SinowGold=new Z(e++,"SinowGold","Sinow Gold","Sinow Gold","Sinow Red",1,!0),Z.Canadine=new Z(e++,"Canadine","Canadine","Canadine","Canabin",1,!0),Z.Canane=new Z(e++,"Canane","Canane","Canane","Canune",1,!0),Z.Dubswitch=new Z(e++,"Dubswitch","Dubswitch","Dubswitch","Dubswitch",1,!0),Z.VolOpt=new Z(e++,"VolOpt","Vol Opt","Vol Opt","Vol Opt ver.2",1,!0),Z.Delsaber=new Z(e++,"Delsaber","Delsaber","Delsaber","Delsaber",1,!0),Z.ChaosSorcerer=new Z(e++,"ChaosSorcerer","Chaos Sorcerer","Chaos Sorcerer","Gran Sorcerer",1,!0),Z.DarkGunner=new Z(e++,"DarkGunner","Dark Gunner","Dark Gunner","Dark Gunner",1,!0),Z.DeathGunner=new Z(e++,"DeathGunner","Death Gunner","Death Gunner","Death Gunner",1,!0),Z.ChaosBringer=new Z(e++,"ChaosBringer","Chaos Bringer","Chaos Bringer","Dark Bringer",1,!0),Z.DarkBelra=new Z(e++,"DarkBelra","Dark Belra","Dark Belra","Indi Belra",1,!0),Z.Dimenian=new Z(e++,"Dimenian","Dimenian","Dimenian","Arlan",1,!0),Z.LaDimenian=new Z(e++,"LaDimenian","La Dimenian","La Dimenian","Merlan",1,!0),Z.SoDimenian=new Z(e++,"SoDimenian","So Dimenian","So Dimenian","Del-D",1,!0),Z.Bulclaw=new Z(e++,"Bulclaw","Bulclaw","Bulclaw","Bulclaw",1,!0),Z.Bulk=new Z(e++,"Bulk","Bulk","Bulk","Bulk",1,!0),Z.Claw=new Z(e++,"Claw","Claw","Claw","Claw",1,!0),Z.DarkFalz=new Z(e++,"DarkFalz","Dark Falz","Dark Falz","Dark Falz",1,!0),Z.Hildebear2=new Z(e++,"Hildebear2","Hildebear (Ep. II)","Hildebear","Hildelt",2,!0),Z.Hildeblue2=new Z(e++,"Hildeblue2","Hildeblue (Ep. II)","Hildeblue","Hildetorr",2,!0),Z.Hildebear2.rareType=Z.Hildeblue2,Z.RagRappy2=new Z(e++,"RagRappy2","Rag Rappy (Ep. II)","Rag Rappy","El Rappy",2,!0),Z.LoveRappy=new Z(e++,"LoveRappy","Love Rappy","Love Rappy","Love Rappy",2,!0),Z.RagRappy2.rareType=Z.LoveRappy,Z.StRappy=new Z(e++,"StRappy","St. Rappy","St. Rappy","St. Rappy",2,!0),Z.HalloRappy=new Z(e++,"HalloRappy","Hallo Rappy","Hallo Rappy","Hallo Rappy",2,!0),Z.EggRappy=new Z(e++,"EggRappy","Egg Rappy","Egg Rappy","Egg Rappy",2,!0),Z.Monest2=new Z(e++,"Monest2","Monest (Ep. II)","Monest","Mothvist",2,!0),Z.Mothmant2=new Z(e++,"Mothmant2","Mothmant","Mothmant","Mothvert",2,!0),Z.PoisonLily2=new Z(e++,"PoisonLily2","Poison Lily (Ep. II)","Poison Lily","Ob Lily",2,!0),Z.NarLily2=new Z(e++,"NarLily2","Nar Lily (Ep. II)","Nar Lily","Mil Lily",2,!0),Z.PoisonLily2.rareType=Z.NarLily2,Z.GrassAssassin2=new Z(e++,"GrassAssassin2","Grass Assassin (Ep. II)","Grass Assassin","Crimson Assassin",2,!0),Z.Dimenian2=new Z(e++,"Dimenian2","Dimenian (Ep. II)","Dimenian","Arlan",2,!0),Z.LaDimenian2=new Z(e++,"LaDimenian2","La Dimenian (Ep. II)","La Dimenian","Merlan",2,!0),Z.SoDimenian2=new Z(e++,"SoDimenian2","So Dimenian (Ep. II)","So Dimenian","Del-D",2,!0),Z.DarkBelra2=new Z(e++,"DarkBelra2","Dark Belra (Ep. II)","Dark Belra","Indi Belra",2,!0),Z.BarbaRay=new Z(e++,"BarbaRay","Barba Ray","Barba Ray","Barba Ray",2,!0),Z.SavageWolf2=new Z(e++,"SavageWolf2","Savage Wolf (Ep. II)","Savage Wolf","Gulgus",2,!0),Z.BarbarousWolf2=new Z(e++,"BarbarousWolf2","Barbarous Wolf (Ep. II)","Barbarous Wolf","Gulgus-Gue",2,!0),Z.PanArms2=new Z(e++,"PanArms2","Pan Arms (Ep. II)","Pan Arms","Pan Arms",2,!0),Z.Migium2=new Z(e++,"Migium2","Migium (Ep. II)","Migium","Migium",2,!0),Z.Hidoom2=new Z(e++,"Hidoom2","Hidoom (Ep. II)","Hidoom","Hidoom",2,!0),Z.Dubchic2=new Z(e++,"Dubchic2","Dubchic (Ep. II)","Dubchic","Dubchich",2,!0),Z.Gilchic2=new Z(e++,"Gilchic2","Gilchic (Ep. II)","Gilchic","Gilchich",2,!0),Z.Garanz2=new Z(e++,"Garanz2","Garanz (Ep. II)","Garanz","Baranz",2,!0),Z.Dubswitch2=new Z(e++,"Dubswitch2","Dubswitch (Ep. II)","Dubswitch","Dubswitch",2,!0),Z.Delsaber2=new Z(e++,"Delsaber2","Delsaber (Ep. II)","Delsaber","Delsaber",2,!0),Z.ChaosSorcerer2=new Z(e++,"ChaosSorcerer2","Chaos Sorcerer (Ep. II)","Chaos Sorcerer","Gran Sorcerer",2,!0),Z.GolDragon=new Z(e++,"GolDragon","Gol Dragon","Gol Dragon","Gol Dragon",2,!0),Z.SinowBerill=new Z(e++,"SinowBerill","Sinow Berill","Sinow Berill","Sinow Berill",2,!0),Z.SinowSpigell=new Z(e++,"SinowSpigell","Sinow Spigell","Sinow Spigell","Sinow Spigell",2,!0),Z.Merillia=new Z(e++,"Merillia","Merillia","Merillia","Merillia",2,!0),Z.Meriltas=new Z(e++,"Meriltas","Meriltas","Meriltas","Meriltas",2,!0),Z.Mericarol=new Z(e++,"Mericarol","Mericarol","Mericarol","Mericarol",2,!0),Z.Mericus=new Z(e++,"Mericus","Mericus","Mericus","Mericus",2,!0),Z.Merikle=new Z(e++,"Merikle","Merikle","Merikle","Merikle",2,!0),Z.UlGibbon=new Z(e++,"UlGibbon","Ul Gibbon","Ul Gibbon","Ul Gibbon",2,!0),Z.ZolGibbon=new Z(e++,"ZolGibbon","Zol Gibbon","Zol Gibbon","Zol Gibbon",2,!0),Z.Gibbles=new Z(e++,"Gibbles","Gibbles","Gibbles","Gibbles",2,!0),Z.Gee=new Z(e++,"Gee","Gee","Gee","Gee",2,!0),Z.GiGue=new Z(e++,"GiGue","Gi Gue","Gi Gue","Gi Gue",2,!0),Z.IllGill=new Z(e++,"IllGill","Ill Gill","Ill Gill","Ill Gill",2,!0),Z.DelLily=new Z(e++,"DelLily","Del Lily","Del Lily","Del Lily",2,!0),Z.Epsilon=new Z(e++,"Epsilon","Epsilon","Epsilon","Epsilon",2,!0),Z.GalGryphon=new Z(e++,"GalGryphon","Gal Gryphon","Gal Gryphon","Gal Gryphon",2,!0),Z.Deldepth=new Z(e++,"Deldepth","Deldepth","Deldepth","Deldepth",2,!0),Z.Delbiter=new Z(e++,"Delbiter","Delbiter","Delbiter","Delbiter",2,!0),Z.Dolmolm=new Z(e++,"Dolmolm","Dolmolm","Dolmolm","Dolmolm",2,!0),Z.Dolmdarl=new Z(e++,"Dolmdarl","Dolmdarl","Dolmdarl","Dolmdarl",2,!0),Z.Morfos=new Z(e++,"Morfos","Morfos","Morfos","Morfos",2,!0),Z.Recobox=new Z(e++,"Recobox","Recobox","Recobox","Recobox",2,!0),Z.Recon=new Z(e++,"Recon","Recon","Recon","Recon",2,!0),Z.SinowZoa=new Z(e++,"SinowZoa","Sinow Zoa","Sinow Zoa","Sinow Zoa",2,!0),Z.SinowZele=new Z(e++,"SinowZele","Sinow Zele","Sinow Zele","Sinow Zele",2,!0),Z.OlgaFlow=new Z(e++,"OlgaFlow","Olga Flow","Olga Flow","Olga Flow",2,!0),Z.SandRappy=new Z(e++,"SandRappy","Sand Rappy","Sand Rappy","Sand Rappy",4,!0),Z.DelRappy=new Z(e++,"DelRappy","Del Rappy","Del Rappy","Del Rappy",4,!0),Z.SandRappy.rareType=Z.DelRappy,Z.Astark=new Z(e++,"Astark","Astark","Astark","Astark",4,!0),Z.SatelliteLizard=new Z(e++,"SatelliteLizard","Satellite Lizard","Satellite Lizard","Satellite Lizard",4,!0),Z.Yowie=new Z(e++,"Yowie","Yowie","Yowie","Yowie",4,!0),Z.MerissaA=new Z(e++,"MerissaA","Merissa A","Merissa A","Merissa A",4,!0),Z.MerissaAA=new Z(e++,"MerissaAA","Merissa AA","Merissa AA","Merissa AA",4,!0),Z.MerissaA.rareType=Z.MerissaAA,Z.Girtablulu=new Z(e++,"Girtablulu","Girtablulu","Girtablulu","Girtablulu",4,!0),Z.Zu=new Z(e++,"Zu","Zu","Zu","Zu",4,!0),Z.Pazuzu=new Z(e++,"Pazuzu","Pazuzu","Pazuzu","Pazuzu",4,!0),Z.Zu.rareType=Z.Pazuzu,Z.Boota=new Z(e++,"Boota","Boota","Boota","Boota",4,!0),Z.ZeBoota=new Z(e++,"ZeBoota","Ze Boota","Ze Boota","Ze Boota",4,!0),Z.BaBoota=new Z(e++,"BaBoota","Ba Boota","Ba Boota","Ba Boota",4,!0),Z.Dorphon=new Z(e++,"Dorphon","Dorphon","Dorphon","Dorphon",4,!0),Z.DorphonEclair=new Z(e++,"DorphonEclair","Dorphon Eclair","Dorphon Eclair","Dorphon Eclair",4,!0),Z.Dorphon.rareType=Z.DorphonEclair,Z.Goran=new Z(e++,"Goran","Goran","Goran","Goran",4,!0),Z.PyroGoran=new Z(e++,"PyroGoran","Pyro Goran","Pyro Goran","Pyro Goran",4,!0),Z.GoranDetonator=new Z(e++,"GoranDetonator","Goran Detonator","Goran Detonator","Goran Detonator",4,!0),Z.SaintMilion=new Z(e++,"SaintMilion","Saint-Milion","Saint-Milion","Saint-Milion",4,!0),Z.Shambertin=new Z(e++,"Shambertin","Shambertin","Shambertin","Shambertin",4,!0),Z.Kondrieu=new Z(e++,"Kondrieu","Kondrieu","Kondrieu","Kondrieu",4,!0),Z.SaintMilion.rareType=Z.Kondrieu,Z.Shambertin.rareType=Z.Kondrieu}();var Q,K,J,X,$,ee,te,ne,re,ae,ie,oe,se,le,ue,ce,de,pe,he,me,we,ve,fe,be,ye,ke=[Z.Unknown,Z.FemaleFat,Z.FemaleMacho,Z.FemaleTall,Z.MaleDwarf,Z.MaleFat,Z.MaleMacho,Z.MaleOld,Z.BlueSoldier,Z.RedSoldier,Z.Principal,Z.Tekker,Z.GuildLady,Z.Scientist,Z.Nurse,Z.Irene,Z.ItemShop,Z.Nurse2,Z.Hildebear,Z.Hildeblue,Z.RagRappy,Z.AlRappy,Z.Monest,Z.Mothmant,Z.SavageWolf,Z.BarbarousWolf,Z.Booma,Z.Gobooma,Z.Gigobooma,Z.Dragon,Z.GrassAssassin,Z.PoisonLily,Z.NarLily,Z.NanoDragon,Z.EvilShark,Z.PalShark,Z.GuilShark,Z.PofuillySlime,Z.PouillySlime,Z.PanArms,Z.Migium,Z.Hidoom,Z.DeRolLe,Z.Dubchic,Z.Gilchic,Z.Garanz,Z.SinowBeat,Z.SinowGold,Z.Canadine,Z.Canane,Z.Dubswitch,Z.VolOpt,Z.Delsaber,Z.ChaosSorcerer,Z.DarkGunner,Z.DeathGunner,Z.ChaosBringer,Z.DarkBelra,Z.Dimenian,Z.LaDimenian,Z.SoDimenian,Z.Bulclaw,Z.Bulk,Z.Claw,Z.DarkFalz,Z.Hildebear2,Z.Hildeblue2,Z.RagRappy2,Z.LoveRappy,Z.StRappy,Z.HalloRappy,Z.EggRappy,Z.Monest2,Z.Mothmant2,Z.PoisonLily2,Z.NarLily2,Z.GrassAssassin2,Z.Dimenian2,Z.LaDimenian2,Z.SoDimenian2,Z.DarkBelra2,Z.BarbaRay,Z.SavageWolf2,Z.BarbarousWolf2,Z.PanArms2,Z.Migium2,Z.Hidoom2,Z.Dubchic2,Z.Gilchic2,Z.Garanz2,Z.Dubswitch2,Z.Delsaber2,Z.ChaosSorcerer2,Z.GolDragon,Z.SinowBerill,Z.SinowSpigell,Z.Merillia,Z.Meriltas,Z.Mericarol,Z.Mericus,Z.Merikle,Z.UlGibbon,Z.ZolGibbon,Z.Gibbles,Z.Gee,Z.GiGue,Z.IllGill,Z.DelLily,Z.Epsilon,Z.GalGryphon,Z.Deldepth,Z.Delbiter,Z.Dolmolm,Z.Dolmdarl,Z.Morfos,Z.Recobox,Z.Recon,Z.SinowZoa,Z.SinowZele,Z.OlgaFlow,Z.SandRappy,Z.DelRappy,Z.Astark,Z.SatelliteLizard,Z.Yowie,Z.MerissaA,Z.MerissaAA,Z.Girtablulu,Z.Zu,Z.Pazuzu,Z.Boota,Z.ZeBoota,Z.BaBoota,Z.Dorphon,Z.DorphonEclair,Z.Goran,Z.PyroGoran,Z.GoranDetonator,Z.SaintMilion,Z.Shambertin,Z.Kondrieu],ge=ke.filter(function(e){return e.enemy}),Re=function(){function e(t,n,r){if(Object(d.a)(this,e),this.id=void 0,this.psoId=void 0,this.name=void 0,!Number.isInteger(t)||t<1)throw new Error("Expected id to be an integer greater than or equal to 1, got ".concat(t,"."));if(null!=n&&(!Number.isInteger(n)||n<0))throw new Error("Expected psoId to be null or an integer greater than or equal to 0, got ".concat(n,"."));if(!r)throw new Error("name is required.");this.id=t,this.psoId=n,this.name=r}return Object(p.a)(e,null,[{key:"fromPsoId",value:function(t){switch(t){default:return e.Unknown;case 0:return e.PlayerSet;case 1:return e.Particle;case 2:return e.Teleporter;case 3:return e.Warp;case 4:return e.LightCollision;case 5:return e.Item;case 6:return e.EnvSound;case 7:return e.FogCollision;case 8:return e.EventCollision;case 9:return e.CharaCollision;case 10:return e.ElementalTrap;case 11:return e.StatusTrap;case 12:return e.HealTrap;case 13:return e.LargeElementalTrap;case 14:return e.ObjRoomID;case 15:return e.Sensor;case 16:return e.UnknownItem16;case 17:return e.Lensflare;case 18:return e.ScriptCollision;case 19:return e.HealRing;case 20:return e.MapCollision;case 21:return e.ScriptCollisionA;case 22:return e.ItemLight;case 23:return e.RadarCollision;case 24:return e.FogCollisionSW;case 25:return e.BossTeleporter;case 26:return e.ImageBoard;case 27:return e.QuestWarp;case 28:return e.Epilogue;case 29:return e.UnknownItem29;case 30:return e.UnknownItem30;case 31:return e.UnknownItem31;case 32:return e.BoxDetectObject;case 33:return e.SymbolChatObject;case 34:return e.TouchPlateObject;case 35:return e.TargetableObject;case 36:return e.EffectObject;case 37:return e.CountDownObject;case 38:return e.UnknownItem38;case 39:return e.UnknownItem39;case 40:return e.UnknownItem40;case 41:return e.UnknownItem41;case 64:return e.MenuActivation;case 65:return e.TelepipeLocation;case 66:return e.BGMCollision;case 67:return e.MainRagolTeleporter;case 68:return e.LobbyTeleporter;case 69:return e.PrincipalWarp;case 70:return e.ShopDoor;case 71:return e.HuntersGuildDoor;case 72:return e.TeleporterDoor;case 73:return e.MedicalCenterDoor;case 74:return e.Elevator;case 75:return e.EasterEgg;case 76:return e.ValentinesHeart;case 77:return e.ChristmasTree;case 78:return e.ChristmasWreath;case 79:return e.HalloweenPumpkin;case 80:return e.TwentyFirstCentury;case 81:return e.Sonic;case 82:return e.WelcomeBoard;case 83:return e.Firework;case 84:return e.LobbyScreenDoor;case 85:return e.MainRagolTeleporterBattleInNextArea;case 86:return e.LabTeleporterDoor;case 87:return e.Pioneer2InvisibleTouchplate;case 128:return e.ForestDoor;case 129:return e.ForestSwitch;case 130:return e.LaserFence;case 131:return e.LaserSquareFence;case 132:return e.ForestLaserFenceSwitch;case 133:return e.LightRays;case 134:return e.BlueButterfly;case 135:return e.Probe;case 136:return e.RandomTypeBox1;case 137:return e.ForestWeatherStation;case 138:return e.Battery;case 139:return e.ForestConsole;case 140:return e.BlackSlidingDoor;case 141:return e.RicoMessagePod;case 142:return e.EnergyBarrier;case 143:return e.ForestRisingBridge;case 144:return e.SwitchNoneDoor;case 145:return e.EnemyBoxGrey;case 146:return e.FixedTypeBox;case 147:return e.EnemyBoxBrown;case 149:return e.EmptyTypeBox;case 150:return e.LaserFenseEx;case 151:return e.LaserSquareFenceEx;case 192:return e.FloorPanel1;case 193:return e.Caves4ButtonDoor;case 194:return e.CavesNormalDoor;case 195:return e.CavesSmashingPillar;case 196:return e.CavesSign1;case 197:return e.CavesSign2;case 198:return e.CavesSign3;case 199:return e.HexagalTank;case 200:return e.BrownPlatform;case 201:return e.WarningLightObject;case 203:return e.Rainbow;case 204:return e.FloatingJelifish;case 205:return e.FloatingDragonfly;case 206:return e.CavesSwitchDoor;case 207:return e.RobotRechargeStation;case 208:return e.CavesCakeShop;case 209:return e.Caves1SmallRedRock;case 210:return e.Caves1MediumRedRock;case 211:return e.Caves1LargeRedRock;case 212:return e.Caves2SmallRock1;case 213:return e.Caves2MediumRock1;case 214:return e.Caves2LargeRock1;case 215:return e.Caves2SmallRock2;case 216:return e.Caves2MediumRock2;case 217:return e.Caves2LargeRock2;case 218:return e.Caves3SmallRock;case 219:return e.Caves3MediumRock;case 220:return e.Caves3LargeRock;case 222:return e.FloorPanel2;case 223:return e.DestructableRockCaves1;case 224:return e.DestructableRockCaves2;case 225:return e.DestructableRockCaves3;case 256:return e.MinesDoor;case 257:return e.FloorPanel3;case 258:return e.MinesSwitchDoor;case 259:return e.LargeCryoTube;case 260:return e.ComputerLikeCalus;case 261:return e.GreenScreenOpeningAndClosing;case 262:return e.FloatingRobot;case 263:return e.FloatingBlueLight;case 264:return e.SelfDestructingObject1;case 265:return e.SelfDestructingObject2;case 266:return e.SelfDestructingObject3;case 267:return e.SparkMachine;case 268:return e.MinesLargeFlashingCrate;case 304:return e.RuinsSeal;case 320:return e.RuinsTeleporter;case 321:return e.RuinsWarpSiteToSite;case 322:return e.RuinsSwitch;case 323:return e.FloorPanel4;case 324:return e.Ruins1Door;case 325:return e.Ruins3Door;case 326:return e.Ruins2Door;case 327:return e.Ruins11ButtonDoor;case 328:return e.Ruins21ButtonDoor;case 329:return e.Ruins31ButtonDoor;case 330:return e.Ruins4ButtonDoor;case 331:return e.Ruins2ButtonDoor;case 332:return e.RuinsSensor;case 333:return e.RuinsFenceSwitch;case 334:return e.RuinsLaserFence4x2;case 335:return e.RuinsLaserFence6x2;case 336:return e.RuinsLaserFence4x4;case 337:return e.RuinsLaserFence6x4;case 338:return e.RuinsPoisonBlob;case 339:return e.RuinsPilarTrap;case 340:return e.PopupTrapNoTech;case 341:return e.RuinsCrystal;case 342:return e.Monument;case 345:return e.RuinsRock1;case 346:return e.RuinsRock2;case 347:return e.RuinsRock3;case 348:return e.RuinsRock4;case 349:return e.RuinsRock5;case 350:return e.RuinsRock6;case 351:return e.RuinsRock7;case 352:return e.Poison;case 353:return e.FixedBoxTypeRuins;case 354:return e.RandomBoxTypeRuins;case 355:return e.EnemyTypeBoxYellow;case 356:return e.EnemyTypeBoxBlue;case 357:return e.EmptyTypeBoxBlue;case 358:return e.DestructableRock;case 359:return e.PopupTrapsTechs;case 368:return e.FlyingWhiteBird;case 369:return e.Tower;case 370:return e.FloatingRocks;case 371:return e.FloatingSoul;case 372:return e.Butterfly;case 384:return e.LobbyGameMenu;case 385:return e.LobbyWarpObject;case 386:return e.Lobby1EventObjectDefaultTree;case 387:return e.UnknownItem387;case 388:return e.UnknownItem388;case 389:return e.UnknownItem389;case 390:return e.LobbyEventObjectStaticPumpkin;case 391:return e.LobbyEventObject3ChristmasWindows;case 392:return e.LobbyEventObjectRedAndWhiteCurtain;case 393:return e.UnknownItem393;case 394:return e.UnknownItem394;case 395:return e.LobbyFishTank;case 396:return e.LobbyEventObjectButterflies;case 400:return e.UnknownItem400;case 401:return e.GreyWallLow;case 402:return e.SpaceshipDoor;case 403:return e.GreyWallHigh;case 416:return e.TempleNormalDoor;case 417:return e.BreakableWallWallButUnbreakable;case 418:return e.BrokenCilinderAndRubble;case 419:return e.ThreeBrokenWallPiecesOnFloor;case 420:return e.HighBrickCilinder;case 421:return e.LyingCilinder;case 422:return e.BrickConeWithFlatTop;case 423:return e.BreakableTempleWall;case 424:return e.TempleMapDetect;case 425:return e.SmallBrownBrickRisingBridge;case 426:return e.LongRisingBridgeWithPinkHighEdges;case 427:return e.FourSwitchTempleDoor;case 448:return e.FourButtonSpaceshipDoor;case 512:return e.ItemBoxCca;case 513:return e.TeleporterEp2;case 514:return e.CCADoor;case 515:return e.SpecialBoxCCA;case 516:return e.BigCCADoor;case 517:return e.BigCCADoorSwitch;case 518:return e.LittleRock;case 519:return e.Little3StoneWall;case 520:return e.Medium3StoneWall;case 521:return e.SpiderPlant;case 522:return e.CCAAreaTeleporter;case 523:return e.UnknownItem523;case 524:return e.WhiteBird;case 525:return e.OrangeBird;case 527:return e.Saw;case 528:return e.LaserDetect;case 529:return e.UnknownItem529;case 530:return e.UnknownItem530;case 531:return e.Seagull;case 544:return e.Fish;case 545:return e.SeabedDoorWithBlueEdges;case 546:return e.SeabedDoorAlwaysOpenNonTriggerable;case 547:return e.LittleCryotube;case 548:return e.WideGlassWallBreakable;case 549:return e.BlueFloatingRobot;case 550:return e.RedFloatingRobot;case 551:return e.Dolphin;case 552:return e.CaptureTrap;case 553:return e.VRLink;case 576:return e.UnknownItem576;case 640:return e.WarpInBarbaRayRoom;case 672:return e.UnknownItem672;case 688:return e.GeeNest;case 689:return e.LabComputerConsole;case 690:return e.LabComputerConsoleGreenScreen;case 691:return e.ChairYelllowPillow;case 692:return e.OrangeWallWithHoleInMiddle;case 693:return e.GreyWallWithHoleInMiddle;case 694:return e.LongTable;case 695:return e.GBAStation;case 696:return e.TalkLinkToSupport;case 697:return e.InstaWarp;case 698:return e.LabInvisibleObject;case 699:return e.LabGlassWindowDoor;case 700:return e.UnknownItem700;case 701:return e.LabCelingWarp;case 768:return e.Ep4LightSource;case 769:return e.Cacti;case 770:return e.BigBrownRock;case 771:return e.BreakableBrownRock;case 832:return e.UnknownItem832;case 833:return e.UnknownItem833;case 896:return e.PoisonPlant;case 897:return e.UnknownItem897;case 898:return e.UnknownItem898;case 899:return e.OozingDesertPlant;case 901:return e.UnknownItem901;case 902:return e.BigBlackRocks;case 903:return e.UnknownItem903;case 904:return e.UnknownItem904;case 905:return e.UnknownItem905;case 906:return e.UnknownItem906;case 907:return e.FallingRock;case 908:return e.DesertPlantHasCollision;case 909:return e.DesertFixedTypeBoxBreakableCrystals;case 910:return e.UnknownItem910;case 911:return e.BeeHive;case 912:return e.UnknownItem912;case 913:return e.Heat;case 960:return e.TopOfSaintMillionEgg;case 961:return e.UnknownItem961}}}]),e}();Re.Unknown=void 0,Re.PlayerSet=void 0,Re.Particle=void 0,Re.Teleporter=void 0,Re.Warp=void 0,Re.LightCollision=void 0,Re.Item=void 0,Re.EnvSound=void 0,Re.FogCollision=void 0,Re.EventCollision=void 0,Re.CharaCollision=void 0,Re.ElementalTrap=void 0,Re.StatusTrap=void 0,Re.HealTrap=void 0,Re.LargeElementalTrap=void 0,Re.ObjRoomID=void 0,Re.Sensor=void 0,Re.UnknownItem16=void 0,Re.Lensflare=void 0,Re.ScriptCollision=void 0,Re.HealRing=void 0,Re.MapCollision=void 0,Re.ScriptCollisionA=void 0,Re.ItemLight=void 0,Re.RadarCollision=void 0,Re.FogCollisionSW=void 0,Re.BossTeleporter=void 0,Re.ImageBoard=void 0,Re.QuestWarp=void 0,Re.Epilogue=void 0,Re.UnknownItem29=void 0,Re.UnknownItem30=void 0,Re.UnknownItem31=void 0,Re.BoxDetectObject=void 0,Re.SymbolChatObject=void 0,Re.TouchPlateObject=void 0,Re.TargetableObject=void 0,Re.EffectObject=void 0,Re.CountDownObject=void 0,Re.UnknownItem38=void 0,Re.UnknownItem39=void 0,Re.UnknownItem40=void 0,Re.UnknownItem41=void 0,Re.MenuActivation=void 0,Re.TelepipeLocation=void 0,Re.BGMCollision=void 0,Re.MainRagolTeleporter=void 0,Re.LobbyTeleporter=void 0,Re.PrincipalWarp=void 0,Re.ShopDoor=void 0,Re.HuntersGuildDoor=void 0,Re.TeleporterDoor=void 0,Re.MedicalCenterDoor=void 0,Re.Elevator=void 0,Re.EasterEgg=void 0,Re.ValentinesHeart=void 0,Re.ChristmasTree=void 0,Re.ChristmasWreath=void 0,Re.HalloweenPumpkin=void 0,Re.TwentyFirstCentury=void 0,Re.Sonic=void 0,Re.WelcomeBoard=void 0,Re.Firework=void 0,Re.LobbyScreenDoor=void 0,Re.MainRagolTeleporterBattleInNextArea=void 0,Re.LabTeleporterDoor=void 0,Re.Pioneer2InvisibleTouchplate=void 0,Re.ForestDoor=void 0,Re.ForestSwitch=void 0,Re.LaserFence=void 0,Re.LaserSquareFence=void 0,Re.ForestLaserFenceSwitch=void 0,Re.LightRays=void 0,Re.BlueButterfly=void 0,Re.Probe=void 0,Re.RandomTypeBox1=void 0,Re.ForestWeatherStation=void 0,Re.Battery=void 0,Re.ForestConsole=void 0,Re.BlackSlidingDoor=void 0,Re.RicoMessagePod=void 0,Re.EnergyBarrier=void 0,Re.ForestRisingBridge=void 0,Re.SwitchNoneDoor=void 0,Re.EnemyBoxGrey=void 0,Re.FixedTypeBox=void 0,Re.EnemyBoxBrown=void 0,Re.EmptyTypeBox=void 0,Re.LaserFenseEx=void 0,Re.LaserSquareFenceEx=void 0,Re.FloorPanel1=void 0,Re.Caves4ButtonDoor=void 0,Re.CavesNormalDoor=void 0,Re.CavesSmashingPillar=void 0,Re.CavesSign1=void 0,Re.CavesSign2=void 0,Re.CavesSign3=void 0,Re.HexagalTank=void 0,Re.BrownPlatform=void 0,Re.WarningLightObject=void 0,Re.Rainbow=void 0,Re.FloatingJelifish=void 0,Re.FloatingDragonfly=void 0,Re.CavesSwitchDoor=void 0,Re.RobotRechargeStation=void 0,Re.CavesCakeShop=void 0,Re.Caves1SmallRedRock=void 0,Re.Caves1MediumRedRock=void 0,Re.Caves1LargeRedRock=void 0,Re.Caves2SmallRock1=void 0,Re.Caves2MediumRock1=void 0,Re.Caves2LargeRock1=void 0,Re.Caves2SmallRock2=void 0,Re.Caves2MediumRock2=void 0,Re.Caves2LargeRock2=void 0,Re.Caves3SmallRock=void 0,Re.Caves3MediumRock=void 0,Re.Caves3LargeRock=void 0,Re.FloorPanel2=void 0,Re.DestructableRockCaves1=void 0,Re.DestructableRockCaves2=void 0,Re.DestructableRockCaves3=void 0,Re.MinesDoor=void 0,Re.FloorPanel3=void 0,Re.MinesSwitchDoor=void 0,Re.LargeCryoTube=void 0,Re.ComputerLikeCalus=void 0,Re.GreenScreenOpeningAndClosing=void 0,Re.FloatingRobot=void 0,Re.FloatingBlueLight=void 0,Re.SelfDestructingObject1=void 0,Re.SelfDestructingObject2=void 0,Re.SelfDestructingObject3=void 0,Re.SparkMachine=void 0,Re.MinesLargeFlashingCrate=void 0,Re.RuinsSeal=void 0,Re.RuinsTeleporter=void 0,Re.RuinsWarpSiteToSite=void 0,Re.RuinsSwitch=void 0,Re.FloorPanel4=void 0,Re.Ruins1Door=void 0,Re.Ruins3Door=void 0,Re.Ruins2Door=void 0,Re.Ruins11ButtonDoor=void 0,Re.Ruins21ButtonDoor=void 0,Re.Ruins31ButtonDoor=void 0,Re.Ruins4ButtonDoor=void 0,Re.Ruins2ButtonDoor=void 0,Re.RuinsSensor=void 0,Re.RuinsFenceSwitch=void 0,Re.RuinsLaserFence4x2=void 0,Re.RuinsLaserFence6x2=void 0,Re.RuinsLaserFence4x4=void 0,Re.RuinsLaserFence6x4=void 0,Re.RuinsPoisonBlob=void 0,Re.RuinsPilarTrap=void 0,Re.PopupTrapNoTech=void 0,Re.RuinsCrystal=void 0,Re.Monument=void 0,Re.RuinsRock1=void 0,Re.RuinsRock2=void 0,Re.RuinsRock3=void 0,Re.RuinsRock4=void 0,Re.RuinsRock5=void 0,Re.RuinsRock6=void 0,Re.RuinsRock7=void 0,Re.Poison=void 0,Re.FixedBoxTypeRuins=void 0,Re.RandomBoxTypeRuins=void 0,Re.EnemyTypeBoxYellow=void 0,Re.EnemyTypeBoxBlue=void 0,Re.EmptyTypeBoxBlue=void 0,Re.DestructableRock=void 0,Re.PopupTrapsTechs=void 0,Re.FlyingWhiteBird=void 0,Re.Tower=void 0,Re.FloatingRocks=void 0,Re.FloatingSoul=void 0,Re.Butterfly=void 0,Re.LobbyGameMenu=void 0,Re.LobbyWarpObject=void 0,Re.Lobby1EventObjectDefaultTree=void 0,Re.UnknownItem387=void 0,Re.UnknownItem388=void 0,Re.UnknownItem389=void 0,Re.LobbyEventObjectStaticPumpkin=void 0,Re.LobbyEventObject3ChristmasWindows=void 0,Re.LobbyEventObjectRedAndWhiteCurtain=void 0,Re.UnknownItem393=void 0,Re.UnknownItem394=void 0,Re.LobbyFishTank=void 0,Re.LobbyEventObjectButterflies=void 0,Re.UnknownItem400=void 0,Re.GreyWallLow=void 0,Re.SpaceshipDoor=void 0,Re.GreyWallHigh=void 0,Re.TempleNormalDoor=void 0,Re.BreakableWallWallButUnbreakable=void 0,Re.BrokenCilinderAndRubble=void 0,Re.ThreeBrokenWallPiecesOnFloor=void 0,Re.HighBrickCilinder=void 0,Re.LyingCilinder=void 0,Re.BrickConeWithFlatTop=void 0,Re.BreakableTempleWall=void 0,Re.TempleMapDetect=void 0,Re.SmallBrownBrickRisingBridge=void 0,Re.LongRisingBridgeWithPinkHighEdges=void 0,Re.FourSwitchTempleDoor=void 0,Re.FourButtonSpaceshipDoor=void 0,Re.ItemBoxCca=void 0,Re.TeleporterEp2=void 0,Re.CCADoor=void 0,Re.SpecialBoxCCA=void 0,Re.BigCCADoor=void 0,Re.BigCCADoorSwitch=void 0,Re.LittleRock=void 0,Re.Little3StoneWall=void 0,Re.Medium3StoneWall=void 0,Re.SpiderPlant=void 0,Re.CCAAreaTeleporter=void 0,Re.UnknownItem523=void 0,Re.WhiteBird=void 0,Re.OrangeBird=void 0,Re.Saw=void 0,Re.LaserDetect=void 0,Re.UnknownItem529=void 0,Re.UnknownItem530=void 0,Re.Seagull=void 0,Re.Fish=void 0,Re.SeabedDoorWithBlueEdges=void 0,Re.SeabedDoorAlwaysOpenNonTriggerable=void 0,Re.LittleCryotube=void 0,Re.WideGlassWallBreakable=void 0,Re.BlueFloatingRobot=void 0,Re.RedFloatingRobot=void 0,Re.Dolphin=void 0,Re.CaptureTrap=void 0,Re.VRLink=void 0,Re.UnknownItem576=void 0,Re.WarpInBarbaRayRoom=void 0,Re.UnknownItem672=void 0,Re.GeeNest=void 0,Re.LabComputerConsole=void 0,Re.LabComputerConsoleGreenScreen=void 0,Re.ChairYelllowPillow=void 0,Re.OrangeWallWithHoleInMiddle=void 0,Re.GreyWallWithHoleInMiddle=void 0,Re.LongTable=void 0,Re.GBAStation=void 0,Re.TalkLinkToSupport=void 0,Re.InstaWarp=void 0,Re.LabInvisibleObject=void 0,Re.LabGlassWindowDoor=void 0,Re.UnknownItem700=void 0,Re.LabCelingWarp=void 0,Re.Ep4LightSource=void 0,Re.Cacti=void 0,Re.BigBrownRock=void 0,Re.BreakableBrownRock=void 0,Re.UnknownItem832=void 0,Re.UnknownItem833=void 0,Re.PoisonPlant=void 0,Re.UnknownItem897=void 0,Re.UnknownItem898=void 0,Re.OozingDesertPlant=void 0,Re.UnknownItem901=void 0,Re.BigBlackRocks=void 0,Re.UnknownItem903=void 0,Re.UnknownItem904=void 0,Re.UnknownItem905=void 0,Re.UnknownItem906=void 0,Re.FallingRock=void 0,Re.DesertPlantHasCollision=void 0,Re.DesertFixedTypeBoxBreakableCrystals=void 0,Re.UnknownItem910=void 0,Re.BeeHive=void 0,Re.UnknownItem912=void 0,Re.Heat=void 0,Re.TopOfSaintMillionEgg=void 0,Re.UnknownItem961=void 0,function(){var e=1;Re.Unknown=new Re(e++,void 0,"Unknown"),Re.PlayerSet=new Re(e++,0,"Player Set"),Re.Particle=new Re(e++,1,"Particle"),Re.Teleporter=new Re(e++,2,"Teleporter"),Re.Warp=new Re(e++,3,"Warp"),Re.LightCollision=new Re(e++,4,"Light Collision"),Re.Item=new Re(e++,5,"Item"),Re.EnvSound=new Re(e++,6,"Env Sound"),Re.FogCollision=new Re(e++,7,"Fog Collision"),Re.EventCollision=new Re(e++,8,"Event Collision"),Re.CharaCollision=new Re(e++,9,"Chara Collision"),Re.ElementalTrap=new Re(e++,10,"Elemental Trap"),Re.StatusTrap=new Re(e++,11,"Status Trap"),Re.HealTrap=new Re(e++,12,"Heal Trap"),Re.LargeElementalTrap=new Re(e++,13,"Large Elemental Trap"),Re.ObjRoomID=new Re(e++,14,"Obj Room ID"),Re.Sensor=new Re(e++,15,"Sensor"),Re.UnknownItem16=new Re(e++,16,"Unknown Item (16)"),Re.Lensflare=new Re(e++,17,"Lensflare"),Re.ScriptCollision=new Re(e++,18,"Script Collision"),Re.HealRing=new Re(e++,19,"Heal Ring"),Re.MapCollision=new Re(e++,20,"Map Collision"),Re.ScriptCollisionA=new Re(e++,21,"Script Collision A"),Re.ItemLight=new Re(e++,22,"Item Light"),Re.RadarCollision=new Re(e++,23,"Radar Collision"),Re.FogCollisionSW=new Re(e++,24,"Fog Collision SW"),Re.BossTeleporter=new Re(e++,25,"Boss Teleporter"),Re.ImageBoard=new Re(e++,26,"Image Board"),Re.QuestWarp=new Re(e++,27,"Quest Warp"),Re.Epilogue=new Re(e++,28,"Epilogue"),Re.UnknownItem29=new Re(e++,29,"Unknown Item (29)"),Re.UnknownItem30=new Re(e++,30,"Unknown Item (30)"),Re.UnknownItem31=new Re(e++,31,"Unknown Item (31)"),Re.BoxDetectObject=new Re(e++,32,"Box Detect Object"),Re.SymbolChatObject=new Re(e++,33,"Symbol Chat Object"),Re.TouchPlateObject=new Re(e++,34,"Touch plate Object"),Re.TargetableObject=new Re(e++,35,"Targetable Object"),Re.EffectObject=new Re(e++,36,"Effect object"),Re.CountDownObject=new Re(e++,37,"Count Down Object"),Re.UnknownItem38=new Re(e++,38,"Unknown Item (38)"),Re.UnknownItem39=new Re(e++,39,"Unknown Item (39)"),Re.UnknownItem40=new Re(e++,40,"Unknown Item (40)"),Re.UnknownItem41=new Re(e++,41,"Unknown Item (41)"),Re.MenuActivation=new Re(e++,64,"Menu activation"),Re.TelepipeLocation=new Re(e++,65,"Telepipe Location"),Re.BGMCollision=new Re(e++,66,"BGM Collision"),Re.MainRagolTeleporter=new Re(e++,67,"Main Ragol Teleporter"),Re.LobbyTeleporter=new Re(e++,68,"Lobby Teleporter"),Re.PrincipalWarp=new Re(e++,69,"Principal warp"),Re.ShopDoor=new Re(e++,70,"Shop Door"),Re.HuntersGuildDoor=new Re(e++,71,"Hunter's Guild Door"),Re.TeleporterDoor=new Re(e++,72,"Teleporter Door"),Re.MedicalCenterDoor=new Re(e++,73,"Medical Center Door"),Re.Elevator=new Re(e++,74,"Elevator"),Re.EasterEgg=new Re(e++,75,"Easter Egg"),Re.ValentinesHeart=new Re(e++,76,"Valentines Heart"),Re.ChristmasTree=new Re(e++,77,"Christmas Tree"),Re.ChristmasWreath=new Re(e++,78,"Christmas Wreath"),Re.HalloweenPumpkin=new Re(e++,79,"Halloween Pumpkin"),Re.TwentyFirstCentury=new Re(e++,80,"21st Century"),Re.Sonic=new Re(e++,81,"Sonic"),Re.WelcomeBoard=new Re(e++,82,"Welcome Board"),Re.Firework=new Re(e++,83,"Firework"),Re.LobbyScreenDoor=new Re(e++,84,"Lobby Screen Door"),Re.MainRagolTeleporterBattleInNextArea=new Re(e++,85,"Main Ragol Teleporter (Battle in next area?)"),Re.LabTeleporterDoor=new Re(e++,86,"Lab Teleporter Door"),Re.Pioneer2InvisibleTouchplate=new Re(e++,87,"Pioneer 2 Invisible Touchplate"),Re.ForestDoor=new Re(e++,128,"Forest Door"),Re.ForestSwitch=new Re(e++,129,"Forest Switch"),Re.LaserFence=new Re(e++,130,"Laser Fence"),Re.LaserSquareFence=new Re(e++,131,"Laser Square Fence"),Re.ForestLaserFenceSwitch=new Re(e++,132,"Forest Laser Fence Switch"),Re.LightRays=new Re(e++,133,"Light rays"),Re.BlueButterfly=new Re(e++,134,"Blue Butterfly"),Re.Probe=new Re(e++,135,"Probe"),Re.RandomTypeBox1=new Re(e++,136,"Random Type Box 1"),Re.ForestWeatherStation=new Re(e++,137,"Forest Weather Station"),Re.Battery=new Re(e++,138,"Battery"),Re.ForestConsole=new Re(e++,139,"Forest Console"),Re.BlackSlidingDoor=new Re(e++,140,"Black Sliding Door"),Re.RicoMessagePod=new Re(e++,141,"Rico Message Pod"),Re.EnergyBarrier=new Re(e++,142,"Energy Barrier"),Re.ForestRisingBridge=new Re(e++,143,"Forest Rising Bridge"),Re.SwitchNoneDoor=new Re(e++,144,"Switch (none door)"),Re.EnemyBoxGrey=new Re(e++,145,"Enemy Box (Grey)"),Re.FixedTypeBox=new Re(e++,146,"Fixed Type Box"),Re.EnemyBoxBrown=new Re(e++,147,"Enemy Box (Brown)"),Re.EmptyTypeBox=new Re(e++,149,"Empty Type Box"),Re.LaserFenseEx=new Re(e++,150,"Laser Fense Ex"),Re.LaserSquareFenceEx=new Re(e++,151,"Laser Square Fence Ex"),Re.FloorPanel1=new Re(e++,192,"Floor Panel 1"),Re.Caves4ButtonDoor=new Re(e++,193,"Caves 4 Button door"),Re.CavesNormalDoor=new Re(e++,194,"Caves Normal door"),Re.CavesSmashingPillar=new Re(e++,195,"Caves Smashing Pillar"),Re.CavesSign1=new Re(e++,196,"Caves Sign 1"),Re.CavesSign2=new Re(e++,197,"Caves Sign 2"),Re.CavesSign3=new Re(e++,198,"Caves Sign 3"),Re.HexagalTank=new Re(e++,199,"Hexagal Tank"),Re.BrownPlatform=new Re(e++,200,"Brown Platform"),Re.WarningLightObject=new Re(e++,201,"Warning Light Object"),Re.Rainbow=new Re(e++,203,"Rainbow"),Re.FloatingJelifish=new Re(e++,204,"Floating Jelifish"),Re.FloatingDragonfly=new Re(e++,205,"Floating Dragonfly"),Re.CavesSwitchDoor=new Re(e++,206,"Caves Switch Door"),Re.RobotRechargeStation=new Re(e++,207,"Robot Recharge Station"),Re.CavesCakeShop=new Re(e++,208,"Caves Cake Shop"),Re.Caves1SmallRedRock=new Re(e++,209,"Caves 1 Small Red Rock"),Re.Caves1MediumRedRock=new Re(e++,210,"Caves 1 Medium Red Rock"),Re.Caves1LargeRedRock=new Re(e++,211,"Caves 1 Large Red Rock"),Re.Caves2SmallRock1=new Re(e++,212,"Caves 2 Small Rock 1"),Re.Caves2MediumRock1=new Re(e++,213,"Caves 2 Medium Rock 1"),Re.Caves2LargeRock1=new Re(e++,214,"Caves 2 Large Rock 1"),Re.Caves2SmallRock2=new Re(e++,215,"Caves 2 Small Rock 2"),Re.Caves2MediumRock2=new Re(e++,216,"Caves 2 Medium Rock 2"),Re.Caves2LargeRock2=new Re(e++,217,"Caves 2 Large Rock 2"),Re.Caves3SmallRock=new Re(e++,218,"Caves 3 Small Rock"),Re.Caves3MediumRock=new Re(e++,219,"Caves 3 Medium Rock"),Re.Caves3LargeRock=new Re(e++,220,"Caves 3 Large Rock"),Re.FloorPanel2=new Re(e++,222,"Floor Panel 2"),Re.DestructableRockCaves1=new Re(e++,223,"Destructable Rock (Caves 1)"),Re.DestructableRockCaves2=new Re(e++,224,"Destructable Rock (Caves 2)"),Re.DestructableRockCaves3=new Re(e++,225,"Destructable Rock (Caves 3)"),Re.MinesDoor=new Re(e++,256,"Mines Door"),Re.FloorPanel3=new Re(e++,257,"Floor Panel 3"),Re.MinesSwitchDoor=new Re(e++,258,"Mines Switch Door"),Re.LargeCryoTube=new Re(e++,259,"Large Cryo-Tube"),Re.ComputerLikeCalus=new Re(e++,260,"Computer (like calus)"),Re.GreenScreenOpeningAndClosing=new Re(e++,261,"Green Screen opening and closing"),Re.FloatingRobot=new Re(e++,262,"Floating Robot"),Re.FloatingBlueLight=new Re(e++,263,"Floating Blue Light"),Re.SelfDestructingObject1=new Re(e++,264,"Self Destructing Object 1"),Re.SelfDestructingObject2=new Re(e++,265,"Self Destructing Object 2"),Re.SelfDestructingObject3=new Re(e++,266,"Self Destructing Object 3"),Re.SparkMachine=new Re(e++,267,"Spark Machine"),Re.MinesLargeFlashingCrate=new Re(e++,268,"Mines Large Flashing Crate"),Re.RuinsSeal=new Re(e++,304,"Ruins Seal"),Re.RuinsTeleporter=new Re(e++,320,"Ruins Teleporter"),Re.RuinsWarpSiteToSite=new Re(e++,321,"Ruins Warp (Site to site)"),Re.RuinsSwitch=new Re(e++,322,"Ruins Switch"),Re.FloorPanel4=new Re(e++,323,"Floor Panel 4"),Re.Ruins1Door=new Re(e++,324,"Ruins 1 Door"),Re.Ruins3Door=new Re(e++,325,"Ruins 3 Door"),Re.Ruins2Door=new Re(e++,326,"Ruins 2 Door"),Re.Ruins11ButtonDoor=new Re(e++,327,"Ruins 1-1 Button Door"),Re.Ruins21ButtonDoor=new Re(e++,328,"Ruins 2-1 Button Door"),Re.Ruins31ButtonDoor=new Re(e++,329,"Ruins 3-1 Button Door"),Re.Ruins4ButtonDoor=new Re(e++,330,"Ruins 4-Button Door"),Re.Ruins2ButtonDoor=new Re(e++,331,"Ruins 2-Button Door"),Re.RuinsSensor=new Re(e++,332,"Ruins Sensor"),Re.RuinsFenceSwitch=new Re(e++,333,"Ruins Fence Switch"),Re.RuinsLaserFence4x2=new Re(e++,334,"Ruins Laser Fence 4x2"),Re.RuinsLaserFence6x2=new Re(e++,335,"Ruins Laser Fence 6x2"),Re.RuinsLaserFence4x4=new Re(e++,336,"Ruins Laser Fence 4x4"),Re.RuinsLaserFence6x4=new Re(e++,337,"Ruins Laser Fence 6x4"),Re.RuinsPoisonBlob=new Re(e++,338,"Ruins poison Blob"),Re.RuinsPilarTrap=new Re(e++,339,"Ruins Pilar Trap"),Re.PopupTrapNoTech=new Re(e++,340,"Popup Trap (No Tech)"),Re.RuinsCrystal=new Re(e++,341,"Ruins Crystal"),Re.Monument=new Re(e++,342,"Monument"),Re.RuinsRock1=new Re(e++,345,"Ruins Rock 1"),Re.RuinsRock2=new Re(e++,346,"Ruins Rock 2"),Re.RuinsRock3=new Re(e++,347,"Ruins Rock 3"),Re.RuinsRock4=new Re(e++,348,"Ruins Rock 4"),Re.RuinsRock5=new Re(e++,349,"Ruins Rock 5"),Re.RuinsRock6=new Re(e++,350,"Ruins Rock 6"),Re.RuinsRock7=new Re(e++,351,"Ruins Rock 7"),Re.Poison=new Re(e++,352,"Poison"),Re.FixedBoxTypeRuins=new Re(e++,353,"Fixed Box Type (Ruins)"),Re.RandomBoxTypeRuins=new Re(e++,354,"Random Box Type (Ruins)"),Re.EnemyTypeBoxYellow=new Re(e++,355,"Enemy Type Box (Yellow)"),Re.EnemyTypeBoxBlue=new Re(e++,356,"Enemy Type Box (Blue)"),Re.EmptyTypeBoxBlue=new Re(e++,357,"Empty Type Box (Blue)"),Re.DestructableRock=new Re(e++,358,"Destructable Rock"),Re.PopupTrapsTechs=new Re(e++,359,"Popup Traps (techs)"),Re.FlyingWhiteBird=new Re(e++,368,"Flying White Bird"),Re.Tower=new Re(e++,369,"Tower"),Re.FloatingRocks=new Re(e++,370,"Floating Rocks"),Re.FloatingSoul=new Re(e++,371,"Floating Soul"),Re.Butterfly=new Re(e++,372,"Butterfly"),Re.LobbyGameMenu=new Re(e++,384,"Lobby Game menu"),Re.LobbyWarpObject=new Re(e++,385,"Lobby Warp Object"),Re.Lobby1EventObjectDefaultTree=new Re(e++,386,"Lobby 1 Event Object (Default Tree)"),Re.UnknownItem387=new Re(e++,387,"Unknown Item (387)"),Re.UnknownItem388=new Re(e++,388,"Unknown Item (388)"),Re.UnknownItem389=new Re(e++,389,"Unknown Item (389)"),Re.LobbyEventObjectStaticPumpkin=new Re(e++,390,"Lobby Event Object (Static Pumpkin)"),Re.LobbyEventObject3ChristmasWindows=new Re(e++,391,"Lobby Event Object (3 Christmas Windows)"),Re.LobbyEventObjectRedAndWhiteCurtain=new Re(e++,392,"Lobby Event Object (Red and White Curtain)"),Re.UnknownItem393=new Re(e++,393,"Unknown Item (393)"),Re.UnknownItem394=new Re(e++,394,"Unknown Item (394)"),Re.LobbyFishTank=new Re(e++,395,"Lobby Fish Tank"),Re.LobbyEventObjectButterflies=new Re(e++,396,"Lobby Event Object (Butterflies)"),Re.UnknownItem400=new Re(e++,400,"Unknown Item (400)"),Re.GreyWallLow=new Re(e++,401,"grey wall low"),Re.SpaceshipDoor=new Re(e++,402,"Spaceship Door"),Re.GreyWallHigh=new Re(e++,403,"grey wall high"),Re.TempleNormalDoor=new Re(e++,416,"Temple Normal Door"),Re.BreakableWallWallButUnbreakable=new Re(e++,417,'"breakable wall wall, but unbreakable"'),Re.BrokenCilinderAndRubble=new Re(e++,418,"Broken cilinder and rubble"),Re.ThreeBrokenWallPiecesOnFloor=new Re(e++,419,"3 broken wall pieces on floor"),Re.HighBrickCilinder=new Re(e++,420,"high brick cilinder"),Re.LyingCilinder=new Re(e++,421,"lying cilinder"),Re.BrickConeWithFlatTop=new Re(e++,422,"brick cone with flat top"),Re.BreakableTempleWall=new Re(e++,423,"breakable temple wall"),Re.TempleMapDetect=new Re(e++,424,"Temple Map Detect"),Re.SmallBrownBrickRisingBridge=new Re(e++,425,"small brown brick rising bridge"),Re.LongRisingBridgeWithPinkHighEdges=new Re(e++,426,"long rising bridge (with pink high edges)"),Re.FourSwitchTempleDoor=new Re(e++,427,"4 switch temple door"),Re.FourButtonSpaceshipDoor=new Re(e++,448,"4 button spaceship door"),Re.ItemBoxCca=new Re(e++,512,"item box cca"),Re.TeleporterEp2=new Re(e++,513,"Teleporter (Ep 2)"),Re.CCADoor=new Re(e++,514,"CCA Door"),Re.SpecialBoxCCA=new Re(e++,515,"Special Box CCA"),Re.BigCCADoor=new Re(e++,516,"Big CCA Door"),Re.BigCCADoorSwitch=new Re(e++,517,"Big CCA Door Switch"),Re.LittleRock=new Re(e++,518,"Little Rock"),Re.Little3StoneWall=new Re(e++,519,"Little 3 Stone Wall"),Re.Medium3StoneWall=new Re(e++,520,"Medium 3 stone wall"),Re.SpiderPlant=new Re(e++,521,"Spider Plant"),Re.CCAAreaTeleporter=new Re(e++,522,"CCA Area Teleporter"),Re.UnknownItem523=new Re(e++,523,"Unknown Item (523)"),Re.WhiteBird=new Re(e++,524,"White Bird"),Re.OrangeBird=new Re(e++,525,"Orange Bird"),Re.Saw=new Re(e++,527,"Saw"),Re.LaserDetect=new Re(e++,528,"Laser Detect"),Re.UnknownItem529=new Re(e++,529,"Unknown Item (529)"),Re.UnknownItem530=new Re(e++,530,"Unknown Item (530)"),Re.Seagull=new Re(e++,531,"Seagull"),Re.Fish=new Re(e++,544,"Fish"),Re.SeabedDoorWithBlueEdges=new Re(e++,545,"Seabed Door (with blue edges)"),Re.SeabedDoorAlwaysOpenNonTriggerable=new Re(e++,546,"Seabed door (always open, non-triggerable)"),Re.LittleCryotube=new Re(e++,547,"Little Cryotube"),Re.WideGlassWallBreakable=new Re(e++,548,"Wide Glass Wall (breakable)"),Re.BlueFloatingRobot=new Re(e++,549,"Blue floating robot"),Re.RedFloatingRobot=new Re(e++,550,"Red floating robot"),Re.Dolphin=new Re(e++,551,"Dolphin"),Re.CaptureTrap=new Re(e++,552,"Capture Trap"),Re.VRLink=new Re(e++,553,"VR link"),Re.UnknownItem576=new Re(e++,576,"Unknown Item (576)"),Re.WarpInBarbaRayRoom=new Re(e++,640,"Warp in Barba Ray Room"),Re.UnknownItem672=new Re(e++,672,"Unknown Item (672)"),Re.GeeNest=new Re(e++,688,"Gee Nest"),Re.LabComputerConsole=new Re(e++,689,"Lab Computer Console"),Re.LabComputerConsoleGreenScreen=new Re(e++,690,"Lab Computer Console (Green Screen)"),Re.ChairYelllowPillow=new Re(e++,691,"Chair, Yelllow Pillow"),Re.OrangeWallWithHoleInMiddle=new Re(e++,692,"orange wall with hole in middle"),Re.GreyWallWithHoleInMiddle=new Re(e++,693,"grey wall with hole in middle"),Re.LongTable=new Re(e++,694,"long table"),Re.GBAStation=new Re(e++,695,"GBA Station"),Re.TalkLinkToSupport=new Re(e++,696,"Talk (link to support)"),Re.InstaWarp=new Re(e++,697,"insta-warp"),Re.LabInvisibleObject=new Re(e++,698,"Lab Invisible Object"),Re.LabGlassWindowDoor=new Re(e++,699,"Lab Glass window Door"),Re.UnknownItem700=new Re(e++,700,"Unknown Item (700)"),Re.LabCelingWarp=new Re(e++,701,"Lab Celing Warp"),Re.Ep4LightSource=new Re(e++,768,"Ep4 Light Source"),Re.Cacti=new Re(e++,769,"cacti"),Re.BigBrownRock=new Re(e++,770,"Big Brown Rock"),Re.BreakableBrownRock=new Re(e++,771,"Breakable Brown Rock"),Re.UnknownItem832=new Re(e++,832,"Unknown Item (832)"),Re.UnknownItem833=new Re(e++,833,"Unknown Item (833)"),Re.PoisonPlant=new Re(e++,896,"Poison Plant"),Re.UnknownItem897=new Re(e++,897,"Unknown Item (897)"),Re.UnknownItem898=new Re(e++,898,"Unknown Item (898)"),Re.OozingDesertPlant=new Re(e++,899,"Oozing Desert Plant"),Re.UnknownItem901=new Re(e++,901,"Unknown Item (901)"),Re.BigBlackRocks=new Re(e++,902,"big black rocks"),Re.UnknownItem903=new Re(e++,903,"Unknown Item (903)"),Re.UnknownItem904=new Re(e++,904,"Unknown Item (904)"),Re.UnknownItem905=new Re(e++,905,"Unknown Item (905)"),Re.UnknownItem906=new Re(e++,906,"Unknown Item (906)"),Re.FallingRock=new Re(e++,907,"Falling Rock"),Re.DesertPlantHasCollision=new Re(e++,908,"Desert Plant (has collision)"),Re.DesertFixedTypeBoxBreakableCrystals=new Re(e++,909,"Desert Fixed Type Box (Breakable Crystals)"),Re.UnknownItem910=new Re(e++,910,"Unknown Item (910)"),Re.BeeHive=new Re(e++,911,"Bee Hive"),Re.UnknownItem912=new Re(e++,912,"Unknown Item (912)"),Re.Heat=new Re(e++,913,"Heat"),Re.TopOfSaintMillionEgg=new Re(e++,960,"Top of saint million egg"),Re.UnknownItem961=new Re(e++,961,"Unknown Item (961)")}();var De,Se=1/512,Oe=.1;!function(e){e.Ephinea="Ephinea"}(De||(De={}));var Ie;T(De);!function(e){e[e.I=1]="I",e[e.II=2]="II",e[e.IV=4]="IV"}(Ie||(Ie={}));var _e;T(Ie);function Ce(e){if(!Ie[e])throw new Error("Invalid episode ".concat(e,"."))}!function(e){e[e.Viridia=0]="Viridia",e[e.Greenill=1]="Greenill",e[e.Skyly=2]="Skyly",e[e.Bluefull=3]="Bluefull",e[e.Purplenum=4]="Purplenum",e[e.Pinkal=5]="Pinkal",e[e.Redria=6]="Redria",e[e.Oran=7]="Oran",e[e.Yellowboze=8]="Yellowboze",e[e.Whitill=9]="Whitill"}(_e||(_e={}));var je,Ee=T(_e);!function(e){e[e.Normal=0]="Normal",e[e.Hard=1]="Hard",e[e.VHard=2]="VHard",e[e.Ultimate=3]="Ultimate"}(je||(je={}));var Le,Be,xe,Me,Ae,Te,Fe,Ge,Pe=T(je),Ue=function(){function e(t,n,r){Object(d.a)(this,e),this.x=void 0,this.y=void 0,this.z=void 0,this.x=t||0,this.y=n||0,this.z=r||0}return Object(p.a)(e,[{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"clone",value:function(t,n,r){return new e("number"===typeof t?t:this.x,"number"===typeof n?n:this.y,"number"===typeof r?r:this.z)}}]),e}(),ze=(Q=function(){function e(t,n,r){if(Object(d.a)(this,e),this.id=void 0,Object(E.a)(this,"position",K,this),Object(E.a)(this,"yAxisRotation",J,this),!Number.isInteger(t)||t<-1)throw new Error("Expected id to be an integer greater than or equal to -1, got ".concat(t,"."));if(!n)throw new Error("position is required.");if("number"!==typeof r)throw new Error("yAxisRotation is required.");this.id=t,this.position=n,this.yAxisRotation=r}return Object(p.a)(e,[{key:"sinYAxisRotation",get:function(){return Math.sin(this.yAxisRotation)}},{key:"cosYAxisRotation",get:function(){return Math.cos(this.yAxisRotation)}}]),e}(),K=Object(L.a)(Q.prototype,"position",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=Object(L.a)(Q.prototype,"yAxisRotation",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(L.a)(Q.prototype,"sinYAxisRotation",[M.d],Object.getOwnPropertyDescriptor(Q.prototype,"sinYAxisRotation"),Q.prototype),Object(L.a)(Q.prototype,"cosYAxisRotation",[M.d],Object.getOwnPropertyDescriptor(Q.prototype,"cosYAxisRotation"),Q.prototype),Q),We=(X=function e(t,n,r,a,i,o,s,l,u,c){if(Object(d.a)(this,e),Object(E.a)(this,"name",$,this),Object(E.a)(this,"shortDescription",ee,this),Object(E.a)(this,"longDescription",te,this),Object(E.a)(this,"questNo",ne,this),Object(E.a)(this,"episode",re,this),Object(E.a)(this,"areaVariants",ae,this),Object(E.a)(this,"objects",ie,this),Object(E.a)(this,"npcs",oe,this),this.datUnkowns=void 0,this.binData=void 0,null!=a&&(!Number.isInteger(a)||a<0))throw new Error("questNo should be null or a non-negative integer.");if(Ce(i),!s||!(s instanceof Array))throw new Error("objs is required.");if(!l||!(l instanceof Array))throw new Error("npcs is required.");this.name=t,this.shortDescription=n,this.longDescription=r,this.questNo=a,this.episode=i,this.areaVariants=o,this.objects=s,this.npcs=l,this.datUnkowns=u,this.binData=c},$=Object(L.a)(X.prototype,"name",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=Object(L.a)(X.prototype,"shortDescription",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=Object(L.a)(X.prototype,"longDescription",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=Object(L.a)(X.prototype,"questNo",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=Object(L.a)(X.prototype,"episode",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=Object(L.a)(X.prototype,"areaVariants",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=Object(L.a)(X.prototype,"objects",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=Object(L.a)(X.prototype,"npcs",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X),Ne=(se=function(){function e(t,n,r,a){if(Object(d.a)(this,e),Object(E.a)(this,"areaId",le,this),this._sectionId=void 0,Object(E.a)(this,"section",ue,this),Object(E.a)(this,"position",ce,this),Object(E.a)(this,"rotation",de,this),this.object3d=void 0,Object.getPrototypeOf(this)===Object.getPrototypeOf(e))throw new Error("Abstract class should not be instantiated directly.");if(!Number.isInteger(t)||t<0)throw new Error("Expected areaId to be a non-negative integer, got ".concat(t,"."));if(!Number.isInteger(n)||n<0)throw new Error("Expected sectionId to be a non-negative integer, got ".concat(n,"."));if(!r)throw new Error("position is required.");if(!a)throw new Error("rotation is required.");this.areaId=t,this._sectionId=n,this.position=r,this.rotation=a}return Object(p.a)(e,[{key:"sectionId",get:function(){return this.section?this.section.id:this._sectionId}},{key:"sectionPosition",get:function(){var e=this.position,t=e.x,n=e.y,r=e.z;if(this.section){var a=t-this.section.position.x,i=n-this.section.position.y,o=r-this.section.position.z,s=-this.section.sinYAxisRotation,l=this.section.cosYAxisRotation;t=l*a+s*o,n=i,r=-s*a+l*o}return new Ue(t,n,r)},set:function(e){var t=e.x,n=e.y,r=e.z;if(this.section){var a=-this.section.sinYAxisRotation,i=this.section.cosYAxisRotation,o=a*t+i*r,s=i*t-a*r+this.section.position.x,l=n+this.section.position.y,u=o+this.section.position.z;this.position=new Ue(s,l,u)}}}]),e}(),le=Object(L.a)(se.prototype,"areaId",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(L.a)(se.prototype,"sectionId",[M.d],Object.getOwnPropertyDescriptor(se.prototype,"sectionId"),se.prototype),ue=Object(L.a)(se.prototype,"section",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=Object(L.a)(se.prototype,"position",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=Object(L.a)(se.prototype,"rotation",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(L.a)(se.prototype,"sectionPosition",[M.d],Object.getOwnPropertyDescriptor(se.prototype,"sectionPosition"),se.prototype),se),He=(pe=function(e){function t(e,n,r,a,i,o){var s;if(Object(d.a)(this,t),s=Object(h.a)(this,Object(m.a)(t).call(this,e,n,r,a)),Object(E.a)(s,"type",he,Object(A.a)(s)),s.dat=void 0,!i)throw new Error("type is required.");return s.type=i,s.dat=o,s}return Object(w.a)(t,e),t}(Ne),he=Object(L.a)(pe.prototype,"type",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe),Ve=(me=function(e){function t(e,n,r,a,i,o){var s;if(Object(d.a)(this,t),s=Object(h.a)(this,Object(m.a)(t).call(this,e,n,r,a)),Object(E.a)(s,"type",we,Object(A.a)(s)),s.dat=void 0,!i)throw new Error("type is required.");return s.type=i,s.dat=o,s}return Object(w.a)(t,e),t}(Ne),we=Object(L.a)(me.prototype,"type",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me),qe=function e(t,n,r,a){if(Object(d.a)(this,e),this.id=void 0,this.name=void 0,this.order=void 0,this.areaVariants=void 0,!Number.isInteger(t)||t<0)throw new Error("Expected id to be a non-negative integer, got ".concat(t,"."));if(!n)throw new Error("name is required.");if(!a)throw new Error("areaVariants is required.");this.id=t,this.name=n,this.order=r,this.areaVariants=a},Ye=(ve=function e(t,n){if(Object(d.a)(this,e),this.id=t,this.area=n,Object(E.a)(this,"sections",fe,this),!Number.isInteger(t)||t<0)throw new Error("Expected id to be a non-negative integer, got ".concat(t,"."))},fe=Object(L.a)(ve.prototype,"sections",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ve),Ze=function e(t,n,r,a,i,o){Object(d.a)(this,e),this.difficulty=t,this.sectionId=n,this.npcType=r,this.itemType=a,this.anythingRate=i,this.rareRate=o,this.rate=void 0,this.rate=i*o},Qe=(be=function(){function e(t,n,r,a){if(Object(d.a)(this,e),this.id=void 0,this.name=void 0,this.episode=void 0,this.quest=void 0,this.enemyCounts=void 0,this.defaultTime=void 0,Object(E.a)(this,"userTime",ye,this),!t)throw new Error("id is required.");if(a<=0)throw new Error("defaultTime must be greater than zero.");if(!n)throw new Error("name is required.");if(!r)throw new Error("quest is required.");this.id=t,this.name=n,this.episode=r.episode,this.quest=r,this.enemyCounts=r.enemyCounts,this.defaultTime=a}return Object(p.a)(e,[{key:"time",get:function(){return null!=this.userTime?this.userTime:this.defaultTime}}]),e}(),ye=Object(L.a)(be.prototype,"userTime",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(L.a)(be.prototype,"time",[M.d],Object.getOwnPropertyDescriptor(be.prototype,"time"),be.prototype),be),Ke=function e(t,n,r,a){if(Object(d.a)(this,e),this.id=t,this.name=n,this.episode=r,this.enemyCounts=a,!t)throw new Error("id is required.");if(!n)throw new Error("name is required.");if(!a)throw new Error("enemyCounts is required.")},Je=new(Le=function e(){Object(d.a)(this,e),Object(E.a)(this,"currentServer",Be,this)},Be=Object(L.a)(Le.prototype,"currentServer",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return De.Ephinea}}),Le),Xe=n(101);!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Nominal=2]="Nominal",e[e.Error=3]="Error",e[e.Reloading=4]="Reloading"}(Ge||(Ge={}));var $e,et,tt,nt,rt,at,it,ot,st,lt,ut,ct,dt,pt,ht,mt=(xe=function(){function e(t,n){Object(d.a)(this,e),Object(E.a)(this,"_value",Me,this),Object(E.a)(this,"_promise",Ae,this),Object(E.a)(this,"_state",Te,this),this._load=void 0,Object(E.a)(this,"_error",Fe,this),this._value=t,this._load=n}return Object(p.a)(e,[{key:"load",value:function(){return this.loadValue()}},{key:"loadValue",value:function(){var e=Object(j.a)(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isLoading){e.next=2;break}return e.abrupt("return",this._promise);case 2:if(this._state=Ge.Initializing,e.prev=3,!this._load){e.next=9;break}return this._promise=this._load(),e.next=8,this._promise;case 8:this._value=e.sent;case 9:return this._state=Ge.Nominal,this._error=void 0,e.abrupt("return",this._value);case 14:throw e.prev=14,e.t0=e.catch(3),this._state=Ge.Error,this._error=e.t0,e.t0;case 19:case"end":return e.stop()}},e,this,[[3,14]])}));return function(){return e.apply(this,arguments)}}()},{key:"value",get:function(){var e=this;return this._state===Ge.Uninitialized&&Object(Xe.defer)(function(){return e.loadValue()}),this._value},set:function(e){this._value=e}},{key:"promise",get:function(){return this._state===Ge.Uninitialized?this.loadValue():this._promise}},{key:"state",get:function(){return this._state}},{key:"isInitialized",get:function(){return this._state!==Ge.Uninitialized}},{key:"isLoading",get:function(){switch(this._state){case Ge.Initializing:case Ge.Reloading:return!0;default:return!1}}},{key:"error",get:function(){return this._error}}]),e}(),Me=Object(L.a)(xe.prototype,"_value",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=Object(L.a)(xe.prototype,"_promise",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return new Promise(function(t){return t(e._value)})}}),Te=Object(L.a)(xe.prototype,"_state",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ge.Uninitialized}}),Fe=Object(L.a)(xe.prototype,"_error",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(L.a)(xe.prototype,"value",[M.d],Object.getOwnPropertyDescriptor(xe.prototype,"value"),xe.prototype),Object(L.a)(xe.prototype,"state",[M.d],Object.getOwnPropertyDescriptor(xe.prototype,"state"),xe.prototype),Object(L.a)(xe.prototype,"isInitialized",[M.d],Object.getOwnPropertyDescriptor(xe.prototype,"isInitialized"),xe.prototype),Object(L.a)(xe.prototype,"isLoading",[M.d],Object.getOwnPropertyDescriptor(xe.prototype,"isLoading"),xe.prototype),Object(L.a)(xe.prototype,"error",[M.d],Object.getOwnPropertyDescriptor(xe.prototype,"error"),xe.prototype),xe),wt=($e=function(e){function t(e){return Object(d.a)(this,t),Object(h.a)(this,Object(m.a)(t).call(this,De,e))}return Object(w.a)(t,e),Object(p.a)(t,[{key:"current",get:function(){return this.get(Je.currentServer)}}]),t}(z),Object(L.a)($e.prototype,"current",[M.d],Object.getOwnPropertyDescriptor($e.prototype,"current"),$e.prototype),$e),vt=l.a.get("stores/HuntMethodStore"),ft=new(et=function(){function e(){var t=this;Object(d.a)(this,e),Object(E.a)(this,"methods",tt,this),this.storageDisposer=void 0,this.loadFromLocalStorage=function(e,n){try{var r=localStorage.getItem("HuntMethodStore.methodUserTimes.".concat(De[n]));if(r){var a=JSON.parse(r),i=!0,o=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;c.userTime=a[c.id]}}catch(d){o=!0,s=d}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}}t.storageDisposer&&t.storageDisposer(),t.storageDisposer=Object(M.c)(function(){return t.storeInLocalStorage(e,n)})}catch(p){vt.error(p)}},this.storeInLocalStorage=function(e,t){try{var n={},r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;null!=l.userTime&&(n[l.id]=l.userTime)}}catch(u){a=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}localStorage.setItem("HuntMethodStore.methodUserTimes.".concat(De[t]),JSON.stringify(n))}catch(c){vt.error(c)}}}return Object(p.a)(e,[{key:"loadHuntMethods",value:function(){var e=Object(j.a)(I.a.mark(function e(t){var n,r,a,i,o,s,l,u,c,d,p,h,m,w,v,f,b,y;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("","/quests.").concat(De[t].toLowerCase(),".json"));case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,a=new Array,i=!0,o=!1,s=void 0,e.prev=10,l=r[Symbol.iterator]();case 12:if(i=(u=l.next()).done){e.next=25;break}for(c=u.value,d=0,p=new Map,h=0,m=Object.entries(c.enemyCounts);h<m.length;h++)w=m[h],v=Object(C.a)(w,2),f=v[0],b=v[1],(y=Z.byCode(f))?(p.set(y,b),d+=b):vt.error("No NpcType found for code ".concat(f,"."));e.t0=c.id,e.next=31===e.t0?20:34===e.t0?20:1305===e.t0?20:1306===e.t0?20:1307===e.t0?20:313===e.t0?20:314===e.t0?20:21;break;case 20:return e.abrupt("continue",22);case 21:a.push(new Qe("q".concat(c.id),c.name,new Ke(c.id,c.name,c.episode,p),/^\d-\d.*/.test(c.name)?.75:d>400?.75:.5));case 22:i=!0,e.next=12;break;case 25:e.next=31;break;case 27:e.prev=27,e.t1=e.catch(10),o=!0,s=e.t1;case 31:e.prev=31,e.prev=32,i||null==l.return||l.return();case 34:if(e.prev=34,!o){e.next=37;break}throw s;case 37:return e.finish(34);case 38:return e.finish(31);case 39:return this.loadFromLocalStorage(a,t),e.abrupt("return",a);case 41:case"end":return e.stop()}},e,this,[[10,27,31,39],[32,,34,38]])}));return function(t){return e.apply(this,arguments)}}()}]),e}(),tt=Object(L.a)(et.prototype,"methods",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return new wt(function(t){return new mt([],function(){return e.loadHuntMethods(t)})})}}),et),bt=(nt=function(){function e(){var t=this;Object(d.a)(this,e),this.idToItemType=[],Object(E.a)(this,"itemTypes",rt,this),this.load=function(){var e=Object(j.a)(I.a.mark(function e(n){var r,a,i,o,s,l,u,c,d,p;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("","/itemTypes.").concat(De[n].toLowerCase(),".json"));case 2:return r=e.sent,e.next=5,r.json();case 5:a=e.sent,i=new Array,o=!0,s=!1,l=void 0,e.prev=10,u=a[Symbol.iterator]();case 12:if(o=(c=u.next()).done){e.next=34;break}d=c.value,p=void 0,e.t0=d.class,e.next="weapon"===e.t0?18:"armor"===e.t0?20:"shield"===e.t0?22:"unit"===e.t0?24:"tool"===e.t0?26:28;break;case 18:return p=new W(d.id,d.name,d.minAtp,d.maxAtp,d.ata,d.maxGrind,d.requiredAtp),e.abrupt("break",29);case 20:return p=new N(d.id,d.name,d.atp,d.ata,d.minEvp,d.maxEvp,d.minDfp,d.maxDfp,d.mst,d.hp,d.lck),e.abrupt("break",29);case 22:return p=new H(d.id,d.name,d.atp,d.ata,d.minEvp,d.maxEvp,d.minDfp,d.maxDfp,d.mst,d.hp,d.lck),e.abrupt("break",29);case 24:return p=new V(d.id,d.name),e.abrupt("break",29);case 26:return p=new q(d.id,d.name),e.abrupt("break",29);case 28:return e.abrupt("continue",31);case 29:t.idToItemType[p.id]=p,i.push(p);case 31:o=!0,e.next=12;break;case 34:e.next=40;break;case 36:e.prev=36,e.t1=e.catch(10),s=!0,l=e.t1;case 40:e.prev=40,e.prev=41,o||null==u.return||u.return();case 43:if(e.prev=43,!s){e.next=46;break}throw l;case 46:return e.finish(43);case 47:return e.finish(40);case 48:return t.itemTypes=i,e.abrupt("return",t);case 50:case"end":return e.stop()}},e,null,[[10,36,40,48],[41,,43,47]])}));return function(t){return e.apply(this,arguments)}}()}return Object(p.a)(e,[{key:"getById",value:function(e){return this.idToItemType[e]}}]),e}(),rt=Object(L.a)(nt.prototype,"itemTypes",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nt),yt=new wt(function(e){var t=new bt;return new mt(t,function(){return t.load(e)})}),kt=l.a.get("stores/ItemDropStore"),gt=function(){function e(){Object(d.a)(this,e),this.table=new Array(Pe.length*Ee.length*ke.length),this.itemTypeToDrops=[]}return Object(p.a)(e,[{key:"getDrop",value:function(e,t,n){return this.table[e*Ee.length*ke.length+t*ke.length+n.id]}},{key:"setDrop",value:function(e,t,n,r){this.table[e*Ee.length*ke.length+t*ke.length+n.id]=r;var a=this.itemTypeToDrops[r.itemType.id];a||(a=[],this.itemTypeToDrops[r.itemType.id]=a),a.push(r)}},{key:"getDropsForItemType",value:function(e){return this.itemTypeToDrops[e]||[]}}]),e}(),Rt=(at=function e(){var t=this;Object(d.a)(this,e),Object(E.a)(this,"enemyDrops",it,this),this.load=function(){var e=Object(j.a)(I.a.mark(function e(n){var r,a,i,o,s,l,u,c,d,p,h,m,w,v;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt.current.promise;case 2:return r=e.sent,e.next=5,fetch("".concat("","/enemyDrops.").concat(De[n].toLowerCase(),".json"));case 5:return a=e.sent,e.next=8,a.json();case 8:i=e.sent,o=new gt,s=!0,l=!1,u=void 0,e.prev=13,c=i[Symbol.iterator]();case 15:if(s=(d=c.next()).done){e.next=34;break}if(p=d.value,h=Z.byCode(p.enemy)){e.next=21;break}return kt.warn("Couldn't determine NpcType of episode ".concat(p.episode," ").concat(p.enemy,".")),e.abrupt("continue",31);case 21:if(m=je[p.difficulty],w=r.getById(p.itemTypeId)){e.next=26;break}return kt.warn("Couldn't find item kind ".concat(p.itemTypeId,".")),e.abrupt("continue",31);case 26:if(null!=(v=_e[p.sectionId])){e.next=30;break}return kt.warn("Couldn't find section ID ".concat(p.sectionId,".")),e.abrupt("continue",31);case 30:o.setDrop(m,v,h,new Ze(m,v,h,w,p.dropRate,p.rareRate));case 31:s=!0,e.next=15;break;case 34:e.next=40;break;case 36:e.prev=36,e.t0=e.catch(13),l=!0,u=e.t0;case 40:e.prev=40,e.prev=41,s||null==c.return||c.return();case 43:if(e.prev=43,!l){e.next=46;break}throw u;case 46:return e.finish(43);case 47:return e.finish(40);case 48:return t.enemyDrops=o,e.abrupt("return",t);case 50:case"end":return e.stop()}},e,null,[[13,36,40,48],[41,,43,47]])}));return function(t){return e.apply(this,arguments)}}()},it=Object(L.a)(at.prototype,"enemyDrops",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new gt}}),at),Dt=new wt(function(e){var t=new Rt;return new mt(t,function(){return t.load(e)})}),St=l.a.get("stores/HuntOptimizerStore"),Ot=(ot=function e(t,n){Object(d.a)(this,e),Object(E.a)(this,"itemType",st,this),Object(E.a)(this,"amount",lt,this),this.itemType=t,this.amount=n},st=Object(L.a)(ot.prototype,"itemType",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=Object(L.a)(ot.prototype,"amount",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot),It=function e(t,n){Object(d.a)(this,e),this.wantedItems=t,this.optimalMethods=n},_t=function e(t,n,r,a,i,o,s){Object(d.a)(this,e),this.difficulty=t,this.sectionIds=n,this.methodName=r,this.methodEpisode=a,this.methodTime=i,this.runs=o,this.itemCounts=s,this.totalTime=void 0,this.totalTime=o*i},Ct=new(ut=function(){function e(){var t=this;Object(d.a)(this,e),Object(E.a)(this,"wantedItems",ct,this),Object(E.a)(this,"result",dt,this),this.optimize=Object(j.a)(I.a.mark(function e(){var n,r,a,i,o,s,l,u,c,d,p,h,m,w,v,f,b,y,k,g,R,D,S,O,j,E,L,B,M,A,T,F,G,P,U,z,W,N,H,V,q,Y,Q,K,J,X,$,ee,te,ne,re,ae,ie,oe,se,le,ue,ce,de,pe,he,me,we,ve,fe,be,ye,ke,ge,Re,De,Ie,_e,Ce,je,Le,Be,xe,Me,Ae,Te,Fe,Ge,Ue,ze,We,Ne,He,Ve,qe,Ye,Ze,Qe,Ke,Je,Xe,$e,et,tt,nt,rt,at,it,ot,st;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.wantedItems.length){e.next=3;break}return t.result=void 0,e.abrupt("return");case 3:return n=new Set(t.wantedItems.filter(function(e){return e.amount>0}).map(function(e){return e.itemType})),e.next=6,ft.methods.current.promise;case 6:return r=e.sent,e.next=9,Dt.current.promise;case 9:for(a=e.sent.enemyDrops,i={},o=!0,s=!1,l=void 0,e.prev=14,u=t.wantedItems[Symbol.iterator]();!(o=(c=u.next()).done);o=!0)d=c.value,i[d.itemType.name]={min:d.amount};e.next=22;break;case 18:e.prev=18,e.t0=e.catch(14),s=!0,l=e.t0;case 22:e.prev=22,e.prev=23,o||null==u.return||u.return();case 25:if(e.prev=25,!s){e.next=28;break}throw l;case 28:return e.finish(25);case 29:return e.finish(22);case 30:p={},h=new Map,m=!0,w=!1,v=void 0,e.prev=35,f=r[Symbol.iterator]();case 37:if(m=(b=f.next()).done){e.next=144;break}for(y=b.value,k=new Map,g=!0,R=!1,D=void 0,e.prev=43,S=y.enemyCounts.entries()[Symbol.iterator]();!(g=(O=S.next()).done);g=!0)j=O.value,E=Object(C.a)(j,2),L=E[0],B=E[1],M=k.get(L)||0,null==L.rareType?k.set(L,M+B):(A=void 0,T=void 0,L.rareType===Z.Kondrieu?(A=1-Oe,T=Oe):(A=1-Se,T=Se),k.set(L,M+B*A),k.set(L.rareType,(k.get(L.rareType)||0)+B*T));e.next=51;break;case 47:e.prev=47,e.t1=e.catch(43),R=!0,D=e.t1;case 51:e.prev=51,e.prev=52,g||null==S.return||S.return();case 54:if(e.prev=54,!R){e.next=57;break}throw D;case 57:return e.finish(54);case 58:return e.finish(51);case 59:F=[k],(G=k.get(Z.PanArms))&&((P=new Map(k)).delete(Z.PanArms),P.set(Z.Migium,G),P.set(Z.Hidoom,G),F.push(P)),(U=k.get(Z.PanArms2))&&((z=new Map(k)).delete(Z.PanArms2),z.set(Z.Migium2,U),z.set(Z.Hidoom2,U),F.push(z)),W=0;case 65:if(!(W<F.length)){e.next=141;break}N=F[W],H=1===W,V=!0,q=!1,Y=void 0,e.prev=71,Q=Pe[Symbol.iterator]();case 73:if(V=(K=Q.next()).done){e.next=124;break}J=K.value,X=!0,$=!1,ee=void 0,e.prev=78,te=Ee[Symbol.iterator]();case 80:if(X=(ne=te.next()).done){e.next=107;break}for(re=ne.value,ae={time:y.time},ie=!1,oe=!0,se=!1,le=void 0,e.prev=87,ue=N.entries()[Symbol.iterator]();!(oe=(ce=ue.next()).done);oe=!0)de=ce.value,pe=Object(C.a)(de,2),he=pe[0],me=pe[1],(we=a.getDrop(J,re,he))&&n.has(we.itemType)&&(ve=ae[we.itemType.name]||0,ae[we.itemType.name]=ve+me*we.rate,ie=!0);e.next=95;break;case 91:e.prev=91,e.t2=e.catch(87),se=!0,le=e.t2;case 95:e.prev=95,e.prev=96,oe||null==ue.return||ue.return();case 98:if(e.prev=98,!se){e.next=101;break}throw le;case 101:return e.finish(98);case 102:return e.finish(95);case 103:ie&&(fe=t.fullMethodName(J,re,y,H),p[fe]=ae,h.set(fe,{method:y,difficulty:J,sectionId:re,splitPanArms:H}));case 104:X=!0,e.next=80;break;case 107:e.next=113;break;case 109:e.prev=109,e.t3=e.catch(78),$=!0,ee=e.t3;case 113:e.prev=113,e.prev=114,X||null==te.return||te.return();case 116:if(e.prev=116,!$){e.next=119;break}throw ee;case 119:return e.finish(116);case 120:return e.finish(113);case 121:V=!0,e.next=73;break;case 124:e.next=130;break;case 126:e.prev=126,e.t4=e.catch(71),q=!0,Y=e.t4;case 130:e.prev=130,e.prev=131,V||null==Q.return||Q.return();case 133:if(e.prev=133,!q){e.next=136;break}throw Y;case 136:return e.finish(133);case 137:return e.finish(130);case 138:W++,e.next=65;break;case 141:m=!0,e.next=37;break;case 144:e.next=150;break;case 146:e.prev=146,e.t5=e.catch(35),w=!0,v=e.t5;case 150:e.prev=150,e.prev=151,m||null==f.return||f.return();case 153:if(e.prev=153,!w){e.next=156;break}throw v;case 156:return e.finish(153);case 157:return e.finish(150);case 158:if((be=x.a.Solve({optimize:"time",opType:"min",constraints:i,variables:p})).feasible){e.next=162;break}return t.result=void 0,e.abrupt("return");case 162:ye=[],ke=0,ge=Object.entries(be);case 164:if(!(ke<ge.length)){e.next=257;break}if(Re=ge[ke],De=Object(C.a)(Re,2),Ie=De[0],_e=De[1],!(Ce=h.get(Ie))){e.next=254;break}je=Ce.method,Le=Ce.difficulty,Be=Ce.sectionId,xe=Ce.splitPanArms,Me=_e,Ae=p[Ie],Te=new Map,Fe=0,Ge=Object.entries(Ae);case 176:if(!(Fe<Ge.length)){e.next=211;break}Ue=Ge[Fe],ze=Object(C.a)(Ue,2),We=ze[0],Ne=ze[1],He=!0,Ve=!1,qe=void 0,e.prev=184,Ye=n[Symbol.iterator]();case 186:if(He=(Ze=Ye.next()).done){e.next=194;break}if(Qe=Ze.value,We!==Qe.name){e.next=191;break}return Te.set(Qe,Me*Ne),e.abrupt("break",194);case 191:He=!0,e.next=186;break;case 194:e.next=200;break;case 196:e.prev=196,e.t6=e.catch(184),Ve=!0,qe=e.t6;case 200:e.prev=200,e.prev=201,He||null==Ye.return||Ye.return();case 203:if(e.prev=203,!Ve){e.next=206;break}throw qe;case 206:return e.finish(203);case 207:return e.finish(200);case 208:Fe++,e.next=176;break;case 211:Ke=[],Je=!0,Xe=!1,$e=void 0,e.prev=215,et=Ee[Symbol.iterator]();case 217:if(Je=(tt=et.next()).done){e.next=239;break}if(nt=tt.value,rt=!0,nt===Be){e.next=235;break}if(at=p[t.fullMethodName(Le,nt,je,xe)]){e.next=226;break}rt=!1,e.next=235;break;case 226:it=0,ot=Object.keys(Ae);case 227:if(!(it<ot.length)){e.next=235;break}if(st=ot[it],Ae[st]===at[st]){e.next=232;break}return rt=!1,e.abrupt("break",235);case 232:it++,e.next=227;break;case 235:rt&&Ke.push(nt);case 236:Je=!0,e.next=217;break;case 239:e.next=245;break;case 241:e.prev=241,e.t7=e.catch(215),Xe=!0,$e=e.t7;case 245:e.prev=245,e.prev=246,Je||null==et.return||et.return();case 248:if(e.prev=248,!Xe){e.next=251;break}throw $e;case 251:return e.finish(248);case 252:return e.finish(245);case 253:ye.push(new _t(Le,Ke,je.name+(xe?" (Split Pan Arms)":""),je.episode,je.time,Me,Te));case 254:ke++,e.next=164;break;case 257:t.result=new It(Object(_.a)(n),ye);case 258:case"end":return e.stop()}},e,null,[[14,18,22,30],[23,,25,29],[35,146,150,158],[43,47,51,59],[52,,54,58],[71,126,130,138],[78,109,113,121],[87,91,95,103],[96,,98,102],[114,,116,120],[131,,133,137],[151,,153,157],[184,196,200,208],[201,,203,207],[215,241,245,253],[246,,248,252]])})),this.initialize=Object(j.a)(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.loadFromLocalStorage();case 3:Object(M.c)(t.storeInLocalStorage),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),St.error(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),this.loadFromLocalStorage=Object(j.a)(I.a.mark(function e(){var n,r,a,i,o,s,l,u,c,d,p,h,m,w;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=localStorage.getItem("HuntOptimizerStore.wantedItems.".concat(De[Je.currentServer])))){e.next=27;break}return e.next=4,yt.current.promise;case 4:for(r=e.sent,a=JSON.parse(n),i=[],o=!0,s=!1,l=void 0,e.prev=10,u=a[Symbol.iterator]();!(o=(c=u.next()).done);o=!0)d=c.value,p=d.itemTypeId,h=d.itemKindId,m=d.amount,(w=null!=p?r.getById(p):r.getById(h))&&i.push(new Ot(w,m));e.next=18;break;case 14:e.prev=14,e.t0=e.catch(10),s=!0,l=e.t0;case 18:e.prev=18,e.prev=19,o||null==u.return||u.return();case 21:if(e.prev=21,!s){e.next=24;break}throw l;case 24:return e.finish(21);case 25:return e.finish(18);case 26:t.wantedItems.replace(i);case 27:case"end":return e.stop()}},e,null,[[10,14,18,26],[19,,21,25]])})),this.storeInLocalStorage=function(){try{localStorage.setItem("HuntOptimizerStore.wantedItems.".concat(De[Je.currentServer]),JSON.stringify(t.wantedItems.map(function(e){var t=e.itemType,n=e.amount;return{itemTypeId:t.id,amount:n}})))}catch(e){St.error(e)}},this.initialize()}return Object(p.a)(e,[{key:"huntableItemTypes",get:function(){var e=Dt.current.value;return yt.current.value.itemTypes.filter(function(t){return e.enemyDrops.getDropsForItemType(t.id).length})}}]),Object(p.a)(e,[{key:"fullMethodName",value:function(e,t,n,r){var a="".concat(e,"\t").concat(t,"\t").concat(n.id);return r&&(a+="\tspa"),a}}]),e}(),Object(L.a)(ut.prototype,"huntableItemTypes",[M.d],Object.getOwnPropertyDescriptor(ut.prototype,"huntableItemTypes"),ut.prototype),ct=Object(L.a)(ut.prototype,"wantedItems",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.k.array()}}),dt=Object(L.a)(ut.prototype,"result",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut),jt=n(208),Et=n.n(jt),Lt=(n(346),function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return a.a.createElement(Et.a,Object.assign({className:"BigSelect"},this.props))}}]),t}(r.PureComponent)),Bt=(n(347),Object(v.a)(pt=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={helpVisible:!1},n.addWanted=function(e){if(e&&!Ct.wantedItems.find(function(t){return t.itemType.id===e.value})){var t=yt.current.value.getById(e.value);Ct.wantedItems.push(new Ot(t,1))}},n.removeWanted=function(e){return function(){var t=Ct.wantedItems.findIndex(function(t){return t===e});-1!==t&&Ct.wantedItems.splice(t,1)}},n.tableRemoveCellRenderer=function(e){var t=e.rowData;return a.a.createElement(D.a,{type:"link",icon:"delete",onClick:n.removeWanted(t)})},n.noRowsRenderer=function(){return a.a.createElement("div",{className:"ho-WantedItemsComponent-no-rows"},a.a.createElement("p",null,'Add some items with the above drop down and click "Optimize" to see the result on the right.'))},n.onHelpVisibleChange=function(e){n.setState({helpVisible:e})},n}return Object(w.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return Ct.wantedItems.slice(0,0),a.a.createElement("section",{className:"ho-WantedItemsComponent"},a.a.createElement("h3",null,"Wanted Items",a.a.createElement(R.a,{content:a.a.createElement(xt,null),trigger:"click",visible:this.state.helpVisible,onVisibleChange:this.onHelpVisibleChange},a.a.createElement(D.a,{icon:"info-circle",type:"link"}))),a.a.createElement("div",{className:"ho-WantedItemsComponent-top-bar"},a.a.createElement(Lt,{placeholder:"Add an item",value:void 0,style:{width:200},options:Ct.huntableItemTypes.map(function(e){return{label:e.name,value:e.id}}),onChange:this.addWanted}),a.a.createElement(D.a,{onClick:Ct.optimize,style:{marginLeft:10}},"Optimize")),a.a.createElement("div",{className:"ho-WantedItemsComponent-table"},a.a.createElement(S.a,null,function(t){var n=t.width,r=t.height;return a.a.createElement(S.e,{width:n,height:r,headerHeight:30,rowHeight:30,rowCount:Ct.wantedItems.length,rowGetter:function(e){var t=e.index;return Ct.wantedItems[t]},noRowsRenderer:e.noRowsRenderer},a.a.createElement(S.b,{label:"Amount",dataKey:"amount",width:70,cellRenderer:function(e){var t=e.rowData;return a.a.createElement(Mt,{wantedItem:t})}}),a.a.createElement(S.b,{label:"Item",dataKey:"item",width:150,flexGrow:1,cellDataGetter:function(e){return e.rowData.itemType.name}}),a.a.createElement(S.b,{dataKey:"remove",width:30,cellRenderer:e.tableRemoveCellRenderer}))})))}}]),t}(a.a.Component))||pt);function xt(){return a.a.createElement("div",{className:"ho-WantedItemsComponent-help"},a.a.createElement("p",null,'Add some items with the drop down and click "Optimize" to see the optimal combination of hunt methods on the right.'),a.a.createElement("p",null,'At the moment a method is simply a quest run-through. Partial quest run-throughs are coming. View the list of methods on the "Methods" tab. Each method takes a certain amount of time, which affects the optimization result. Make sure the times are correct for you.'),a.a.createElement("p",null,"Only enemy drops are considered. Box drops are coming."),a.a.createElement("p",null,"The optimal result is calculated using linear optimization. The optimizer takes rare enemies and the fact that pan arms can be split in two into account."))}var Mt=Object(v.a)(ht=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).wantedAmountChanged=function(e){null!=e&&e>=0&&(n.props.wantedItem.amount=e)},n}return Object(w.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.wantedItem;return a.a.createElement(g.a,{min:0,max:10,value:e.amount,onChange:this.wantedAmountChanged,size:"small",style:{width:"100%"}})}}]),t}(a.a.Component))||ht,At=(n(351),function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).sortColumns=new Array,n.columnWidth=function(e){var t=e.index;return n.props.columns[t].width},n.cellRenderer=function(e){var t,r,i,o=e.columnIndex,s=e.rowIndex,l=e.style,u=n.props.columns[o],c=["DataTable-cell"];if(o===n.props.columns.length-1&&c.push("last-in-row"),0===s){if(t=i=u.name,u.sortable){c.push("sortable");var d=n.sortColumns[0];d&&d.column===u&&(r=d.direction===S.d.ASC?a.a.createElement("svg",{className:"DataTable-sort-indictator",width:"18",height:"18",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M7 14l5-5 5 5z"}),a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})):a.a.createElement("svg",{className:"DataTable-sort-indictator",width:"18",height:"18",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M7 10l5 5 5-5z"}),a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})))}}else if(u.className&&c.push(u.className),n.props.footer&&s===1+n.props.rowCount)c.push("footer-cell"),t=null==u.footerValue?"":u.footerValue,i=null==u.footerTooltip?"":u.footerTooltip;else{var p=n.props.record({index:s-1});t=u.cellRenderer(p),u.tooltip&&(i=u.tooltip(p))}"string"!==typeof t&&c.push("custom");var h=0===s&&u.sortable?function(){return n.headerClicked(u)}:void 0;return a.a.createElement("div",{className:c.join(" "),key:"".concat(o,", ").concat(s),style:l,title:i,onClick:h},"string"===typeof t?a.a.createElement("span",{className:"DataTable-cell-text"},t):t,r)},n.headerClicked=function(e){var t=n.sortColumns.findIndex(function(t){return t.column===e}),r=-1===t?void 0:n.sortColumns.splice(t,1)[0],a=0===t&&r.direction===S.d.ASC?S.d.DESC:S.d.ASC;n.sortColumns.unshift({column:e,direction:a}),n.sortColumns.splice(10),n.props.sort&&n.props.sort(n.sortColumns)},n}return Object(w.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"DataTable",style:{width:this.props.width,height:this.props.height}},a.a.createElement(S.c,{width:this.props.width,height:this.props.height,rowHeight:26,rowCount:this.props.rowCount+1+(this.props.footer?1:0),fixedRowCount:1,overscanRowCount:this.props.overscanRowCount,columnWidth:this.columnWidth,columnCount:this.props.columns.length,fixedColumnCount:this.props.fixedColumnCount,overscanColumnCount:this.props.overscanColumnCount,cellRenderer:this.cellRenderer,classNameTopLeftGrid:"DataTable-header",classNameTopRightGrid:"DataTable-header",updateTigger:this.props.updateTrigger}))}}]),t}(a.a.Component));function Tt(e){var t=e.sectionId,n=e.size,r=void 0===n?28:n,i=e.title;return a.a.createElement("div",{title:i,style:{display:"inline-block",width:r,height:r,backgroundImage:"url(".concat("","/images/sectionids/").concat(_e[t],".png)"),backgroundSize:r}})}n(352);var Ft,Gt,Pt=Object(v.a)((Gt=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).record=function(e){var t=e.index;return Ct.result.optimalMethods[t]},n}return Object(w.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;this.updateTrigger;var t=Ct.result;return a.a.createElement("section",{className:"ho-OptimizationResultComponent"},a.a.createElement("h3",null,"Optimization Result"),a.a.createElement("div",{className:"ho-OptimizationResultComponent-table"},a.a.createElement(S.a,null,function(n){var r=n.width,i=n.height;return a.a.createElement(At,{width:r,height:i,rowCount:t?t.optimalMethods.length:0,columns:e.columns,fixedColumnCount:4,record:e.record,footer:null!=t,updateTrigger:e.updateTrigger})})))}},{key:"columns",get:function(){var e=Ct.result,t=e?e.optimalMethods:[],n=0,r=0,i=!0,o=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;n+=c.runs,r+=c.totalTime}}catch(b){o=!0,s=b}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}var d=[{name:"Difficulty",width:75,cellRenderer:function(e){return je[e.difficulty]},footerValue:"Totals:"},{name:"Method",width:200,cellRenderer:function(e){return e.methodName},tooltip:function(e){return e.methodName}},{name:"Ep.",width:34,cellRenderer:function(e){return Ie[e.methodEpisode]}},{name:"Section ID",width:80,cellRenderer:function(e){return a.a.createElement("div",{className:"ho-OptimizationResultComponent-sid-col"},e.sectionIds.map(function(e){return a.a.createElement(Tt,{sectionId:e,key:e,size:20})}))},tooltip:function(e){return e.sectionIds.map(function(e){return _e[e]}).join(", ")}},{name:"Time/Run",width:80,cellRenderer:function(e){return function(e){var t=Math.floor(e),n=Math.round(60*(e-t));return"".concat(t.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"))}(e.methodTime)},className:"number"},{name:"Runs",width:60,cellRenderer:function(e){return e.runs.toFixed(1)},tooltip:function(e){return e.runs.toString()},footerValue:n.toFixed(1),footerTooltip:n.toString(),className:"number"},{name:"Total Hours",width:90,cellRenderer:function(e){return e.totalTime.toFixed(1)},tooltip:function(e){return e.totalTime.toString()},footerValue:r.toFixed(1),footerTooltip:r.toString(),className:"number"}];if(e){var p=!0,h=!1,m=void 0;try{for(var w,v=function(){var e=w.value,n=0,r=!0,a=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){n+=o.value.itemCounts.get(e)||0}}catch(b){a=!0,i=b}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}d.push({name:e.name,width:80,cellRenderer:function(t){var n=t.itemCounts.get(e);return n?n.toFixed(2):""},tooltip:function(t){var n=t.itemCounts.get(e);return n?n.toString():""},className:"number",footerValue:n.toFixed(2),footerTooltip:n.toString()})},f=e.wantedItems[Symbol.iterator]();!(p=(w=f.next()).done);p=!0)v()}catch(b){h=!0,m=b}finally{try{p||null==f.return||f.return()}finally{if(h)throw m}}}return d}},{key:"updateTrigger",get:function(){return Ct.result}}]),t}(a.a.Component),Object(L.a)(Gt.prototype,"columns",[M.d],Object.getOwnPropertyDescriptor(Gt.prototype,"columns"),Gt.prototype),Object(L.a)(Gt.prototype,"updateTrigger",[M.d],Object.getOwnPropertyDescriptor(Gt.prototype,"updateTrigger"),Gt.prototype),Ft=Gt))||Ft;n(353);function Ut(){return a.a.createElement("section",{className:"ho-OptimizerComponent"},a.a.createElement(Bt,null),a.a.createElement(Pt,null))}n(354);var zt,Wt,Nt,Ht,Vt=n(224),qt=n(49),Yt=n.n(qt),Zt=(n(356),Object(v.a)((Nt=Wt=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).record=function(e){var t=e.index;return ft.methods.current.value[t]},n.sort=function(e){var t=ft.methods.current.value.slice();t.sort(function(t,n){var r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value,u=l.column,c=l.direction,d=0;if("name"===u.key)d=t.name.localeCompare(n.name);else if("episode"===u.key)d=t.episode-n.episode;else if("time"===u.key)d=t.time-n.time;else if(u.key){var p=Z.byCode(u.key);p&&(d=(t.enemyCounts.get(p)||0)-(n.enemyCounts.get(p)||0))}if(0!==d)return c===S.d.ASC?d:-d}}catch(h){a=!0,i=h}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return 0}),ft.methods.current.value=t},n}return Object(w.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,n=ft.methods.current.value;return a.a.createElement("section",{className:"ho-MethodsComponent"},a.a.createElement(S.a,null,function(r){var i=r.width,o=r.height;return a.a.createElement(At,{width:i,height:o,rowCount:n.length,columns:t.columns,fixedColumnCount:3,record:e.record,sort:e.sort,updateTrigger:ft.methods.current.value})}))}}]),t}(a.a.Component),Wt.columns=function(){var e=[{key:"name",name:"Method",width:250,cellRenderer:function(e){return e.name},sortable:!0},{key:"episode",name:"Ep.",width:34,cellRenderer:function(e){return Ie[e.episode]},sortable:!0},{key:"time",name:"Time",width:50,cellRenderer:function(e){return a.a.createElement(Qt,{method:e})},className:"integrated",sortable:!0}],t=!0,n=!1,r=void 0;try{for(var i,o=function(){var t=i.value;e.push({key:t.code,name:t.name,width:75,cellRenderer:function(e){var n=e.enemyCounts.get(t);return null==n?"":n.toString()},className:"number",sortable:!0})},s=ge[Symbol.iterator]();!(t=(i=s.next()).done);t=!0)o()}catch(l){n=!0,r=l}finally{try{t||null==s.return||s.return()}finally{if(n)throw r}}return e}(),zt=Nt))||zt),Qt=Object(v.a)(Ht=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).change=function(e){n.props.method.userTime=e.hour()+e.minute()/60},n}return Object(w.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.method.time,t=Math.floor(e),n=Math.round(60*(e-t));return a.a.createElement(Vt.a,{className:"ho-MethodsComponent-timepicker",value:Yt()({hour:t,minute:n}),format:"HH:mm",size:"small",allowClear:!1,suffixIcon:a.a.createElement("span",null),onChange:this.change})}}]),t}(a.a.Component))||Ht,Kt=k.a.TabPane;n(363);var Jt=n(222),Xt=(n(487),n(155)),$t=(n(367),n(223)),en=(n(369),n(15)),tn=(n(488),n(221)),nn=n(75),rn=new nn.TextDecoder("ascii"),an=new nn.TextDecoder("utf-16be"),on=new nn.TextDecoder("utf-16le"),sn=new nn.TextEncoder("ascii"),ln=new nn.TextEncoder("utf-16be"),un=new nn.TextEncoder("utf-16le"),cn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Object(d.a)(this,e),this._size=0,this.position=void 0,this.littleEndian=void 0,this.buffer=void 0,this.dv=void 0,this.uint8Array=void 0,this.utf16Decoder=void 0,this.utf16Encoder=void 0,"number"===typeof t)this.buffer=new ArrayBuffer(t),this.size=0;else{if(!(t instanceof ArrayBuffer))throw new Error("buffer_or_capacity should be an ArrayBuffer or a number.");this.buffer=t,this.size=this.buffer.byteLength}this.littleEndian=n,this.position=0,this.dv=new DataView(this.buffer),this.uint8Array=new Uint8Array(this.buffer,0,this.size),this.utf16Decoder=n?on:an,this.utf16Encoder=n?un:ln}return Object(p.a)(e,[{key:"size",get:function(){return this._size},set:function(e){if(e<0)throw new Error("Size should be non-negative.");this.ensureCapacity(e),this._size=e}},{key:"bytesLeft",get:function(){return this.size-this.position}},{key:"capacity",get:function(){return this.buffer.byteLength}}]),Object(p.a)(e,[{key:"seek",value:function(e){return this.seekStart(this.position+e)}},{key:"seekStart",value:function(e){if(e<0||e>this.size)throw new Error("Offset ".concat(e," is out of bounds."));return this.position=e,this}},{key:"seekEnd",value:function(e){if(e<0||e>this.size)throw new Error("Offset ".concat(e," is out of bounds."));return this.position=this.size-e,this}},{key:"u8",value:function(){return this.dv.getUint8(this.position++)}},{key:"u16",value:function(){var e=this.dv.getUint16(this.position,this.littleEndian);return this.position+=2,e}},{key:"u32",value:function(){var e=this.dv.getUint32(this.position,this.littleEndian);return this.position+=4,e}},{key:"i8",value:function(){return this.dv.getInt8(this.position++)}},{key:"i16",value:function(){var e=this.dv.getInt16(this.position,this.littleEndian);return this.position+=2,e}},{key:"i32",value:function(){var e=this.dv.getInt32(this.position,this.littleEndian);return this.position+=4,e}},{key:"f32",value:function(){var e=this.dv.getFloat32(this.position,this.littleEndian);return this.position+=4,e}},{key:"u8Array",value:function(e){for(var t=[],n=0;n<e;++n)t.push(this.dv.getUint8(this.position++));return t}},{key:"u16Array",value:function(e){for(var t=[],n=0;n<e;++n)t.push(this.dv.getUint16(this.position,this.littleEndian)),this.position+=2;return t}},{key:"u32Array",value:function(e){for(var t=[],n=0;n<e;++n)t.push(this.dv.getUint32(this.position,this.littleEndian)),this.position+=4;return t}},{key:"take",value:function(t){if(t<0||t>this.size-this.position)throw new Error("Size ".concat(t," out of bounds."));return this.position+=t,new e(this.buffer.slice(this.position-t,this.position),this.littleEndian)}},{key:"stringAscii",value:function(e,t,n){var r=t?this.indexOfU8(0,e)-this.position:e,a=rn.decode(new DataView(this.buffer,this.position,r));return this.position+=n?e:Math.min(r+1,e),a}},{key:"stringUtf16",value:function(e,t,n){var r=t?this.indexOfU16(0,e)-this.position:2*Math.floor(e/2),a=this.utf16Decoder.decode(new DataView(this.buffer,this.position,r));return this.position+=n?e:Math.min(r+2,e),a}},{key:"writeU8",value:function(e){return this.ensureCapacity(this.position+1),this.dv.setUint8(this.position++,e),this.position>this.size&&(this.size=this.position),this}},{key:"writeU16",value:function(e){return this.ensureCapacity(this.position+2),this.dv.setUint16(this.position,e,this.littleEndian),this.position+=2,this.position>this.size&&(this.size=this.position),this}},{key:"writeU32",value:function(e){return this.ensureCapacity(this.position+4),this.dv.setUint32(this.position,e,this.littleEndian),this.position+=4,this.position>this.size&&(this.size=this.position),this}},{key:"writeI32",value:function(e){return this.ensureCapacity(this.position+4),this.dv.setInt32(this.position,e,this.littleEndian),this.position+=4,this.position>this.size&&(this.size=this.position),this}},{key:"writeF32",value:function(e){return this.ensureCapacity(this.position+4),this.dv.setFloat32(this.position,e,this.littleEndian),this.position+=4,this.position>this.size&&(this.size=this.position),this}},{key:"writeU8Array",value:function(e){return this.ensureCapacity(this.position+e.length),new Uint8Array(this.buffer,this.position).set(new Uint8Array(e)),this.position+=e.length,this.position>this.size&&(this.size=this.position),this}},{key:"writeCursor",value:function(e){return this.ensureCapacity(this.position+e.size),new Uint8Array(this.buffer,this.position).set(new Uint8Array(e.buffer)),this.position+=e.size,this.position>this.size&&(this.size=this.position),this}},{key:"writeStringAscii",value:function(e,t){var n=0,r=!0,a=!1,i=void 0;try{for(var o,s=sn.encode(e)[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;n<t&&(this.writeU8(l),++n)}}catch(u){a=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}for(;n<t;)this.writeU8(0),++n}},{key:"uint8ArrayView",value:function(){return this.uint8Array}},{key:"indexOfU8",value:function(e,t){for(var n=Math.min(this.position+t,this.size),r=this.position;r<n;++r)if(this.dv.getUint8(r)===e)return r;return this.position+t}},{key:"indexOfU16",value:function(e,t){for(var n=Math.min(this.position+t,this.size),r=this.position;r<n;r+=2)if(this.dv.getUint16(r,this.littleEndian)===e)return r;return this.position+t}},{key:"ensureCapacity",value:function(e){if(e>this.capacity){var t=this.capacity||e;do{t*=2}while(t<e);var n=new ArrayBuffer(t);new Uint8Array(n).set(new Uint8Array(this.buffer,0,this.size)),this.buffer=n,this.dv=new DataView(this.buffer),this.uint8Array=new Uint8Array(this.buffer,0,e)}}}]),e}();function dn(){return(dn=Object(j.a)(I.a.mark(function e(t){var n,r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=fn(t),e.next=3,mn(n);case 3:return r=e.sent,e.abrupt("return",{url:n,data:r});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pn(){return(pn=Object(j.a)(I.a.mark(function e(t){var n,r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=bn(t),e.next=3,mn(n);case 3:return r=e.sent,e.abrupt("return",{url:n,data:r});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var hn=new Map;function mn(e){var t=hn.get(e);if(t)return t;var n=fetch(""+e).then(function(e){return e.arrayBuffer()});return hn.set(e,n),n}var wn=[[["city00_00",1],["forest01",1],["forest02",1],["cave01_",6],["cave02_",5],["cave03_",6],["machine01_",6],["machine02_",6],["ancient01_",5],["ancient02_",5],["ancient03_",5],["boss01",1],["boss02",1],["boss03",1],["darkfalz00",1]],[["labo00_00",1],["ruins01_",3],["ruins02_",3],["space01_",3],["space02_",3],["jungle01_00",1],["jungle02_00",1],["jungle03_00",1],["jungle04_",3],["jungle05_00",1],["seabed01_",3],["seabed02_",3],["boss05",1],["boss06",1],["boss07",1],["boss08",1],["jungle06_00",1],["jungle07_",5]],[],[["city02_00",1],["wilds01_00",1],["wilds01_01",1],["wilds01_02",1],["wilds01_03",1],["crater01_00",1],["desert01_",3],["desert02_",3],["desert03_",3],["boss09_00",1]]];function vn(e,t,n,r){try{return mn(function(e,t,n){var r=wn[e-1];if(0<=t&&t<r.length){var a=Object(C.a)(r[t],2),i=a[0],o=a[1];if(0<=n&&n<o){var s;if(1===o)s="";else for(s=String(n);s.length<2;)s="0"+s;return"/maps/map_".concat(i).concat(s)}throw new Error("Unknown variant ".concat(n," of area ").concat(t," in episode ").concat(e,"."))}throw new Error("Unknown episode ".concat(e," area ").concat(t,"."))}(e,t,n)+("render"===r?"n.rel":"c.rel"))}catch(a){return Promise.reject(a)}}function fn(e){switch(e){case Z.Dubswitch:return"/npcs/".concat(e.code,".xj");case Z.Hildebear2:return fn(Z.Hildebear);case Z.Hildeblue2:return fn(Z.Hildeblue);case Z.RagRappy2:return fn(Z.RagRappy);case Z.Monest2:return fn(Z.Monest);case Z.PoisonLily2:return fn(Z.PoisonLily);case Z.NarLily2:return fn(Z.NarLily);case Z.GrassAssassin2:return fn(Z.GrassAssassin);case Z.Dimenian2:return fn(Z.Dimenian);case Z.LaDimenian2:return fn(Z.LaDimenian);case Z.SoDimenian2:return fn(Z.SoDimenian);case Z.DarkBelra2:return fn(Z.DarkBelra);case Z.SavageWolf2:return fn(Z.SavageWolf);case Z.BarbarousWolf2:return fn(Z.BarbarousWolf);case Z.PanArms2:return fn(Z.PanArms);case Z.Dubchic2:return fn(Z.Dubchic);case Z.Gilchic2:return fn(Z.Gilchic);case Z.Garanz2:return fn(Z.Garanz);case Z.Dubswitch2:return fn(Z.Dubswitch);case Z.Delsaber2:return fn(Z.Delsaber);case Z.ChaosSorcerer2:return fn(Z.ChaosSorcerer);default:return"/npcs/".concat(e.code,".nj")}}function bn(e){switch(e){case Re.EasterEgg:case Re.ChristmasTree:case Re.ChristmasWreath:case Re.TwentyFirstCentury:case Re.Sonic:case Re.WelcomeBoard:case Re.FloatingJelifish:case Re.RuinsSeal:case Re.Dolphin:case Re.Cacti:case Re.BigBrownRock:case Re.PoisonPlant:case Re.BigBlackRocks:case Re.FallingRock:case Re.DesertFixedTypeBoxBreakableCrystals:case Re.BeeHive:return"/objects/".concat(String(e.psoId),".nj");default:return"/objects/".concat(String(e.psoId),".xj")}}var yn=n(8),kn=l.a.get("bin-data/parsing/geometry");function gn(e){for(var t=new DataView(e),n=new yn.Object3D,r=[new yn.MeshBasicMaterial({color:8437968,transparent:!0,opacity:.25}),new yn.MeshLambertMaterial({color:5296336,side:yn.DoubleSide}),new yn.MeshLambertMaterial({color:5288048,side:yn.DoubleSide}),new yn.MeshLambertMaterial({color:6307968,side:yn.DoubleSide})],a=[new yn.MeshBasicMaterial({color:9490656,wireframe:!0,transparent:!0,opacity:.3}),new yn.MeshBasicMaterial({color:6353136,wireframe:!0}),new yn.MeshBasicMaterial({color:6340736,wireframe:!0}),new yn.MeshBasicMaterial({color:7360656,wireframe:!0})],i=t.getUint32(t.byteLength-16,!0),o=t.getUint32(i,!0),s=o;s===o||0!==t.getUint32(s);s+=24){for(var l=new yn.Geometry,u=t.getUint32(s,!0),c=t.getUint32(u,!0),d=t.getUint32(u+4,!0),p=d+12*c,h=t.getUint32(u+8,!0),m=t.getUint32(u+12,!0),w=m+36*h,v=d;v<p;v+=12){var f=t.getFloat32(v,!0),b=t.getFloat32(v+4,!0),y=t.getFloat32(v+8,!0);l.vertices.push(new yn.Vector3(f,b,y))}for(var k=m;k<w;k+=36){var g=t.getUint16(k,!0),R=t.getUint16(k+2,!0),D=t.getUint16(k+4,!0),S=t.getUint16(k+6,!0),O=new yn.Vector3(t.getFloat32(k+8,!0),t.getFloat32(k+12,!0),t.getFloat32(k+16,!0)),I=64&S?3:16&S?2:1&S?1:0;l.faces.push(new yn.Face3(g,R,D,O,void 0,I))}var _=new yn.Mesh(l,r);_.renderOrder=1,n.add(_);var C=new yn.Mesh(l,a);C.renderOrder=2,n.add(C)}return n}function Rn(e){for(var t=new DataView(e),n=new Map,r=new yn.Object3D,a=t.getUint32(t.byteLength-16,!0),i=t.getUint32(a+8,!0),o=t.getUint32(a+16,!0),s=function(e){var a=t.getInt32(e,!0),i=t.getFloat32(e+4,!0),o=t.getFloat32(e+8,!0),s=t.getFloat32(e+12,!0),l=t.getInt32(e+20,!0)/65535*2*Math.PI,u=new ze(a,new Ue(i,o,s),l);n.set(a,u);for(var c=[],d=[],p=[],h=t.getUint32(e+32,!0),m=t.getUint32(e+40,!0),w=h;w<h+16*m;w+=16){var v=t.getUint32(w,!0);4&t.getUint32(w+12,!0)&&(v=t.getUint32(v,!0));var f=t.getUint32(v+4,!0);if(f>0){for(var b=t.getUint32(f+4,!0),y=t.getUint32(f+8,!0),k=t.getUint32(f+12,!0),g=t.getUint32(f+16,!0),R=[],D=k;D<k+20*g;D+=20){for(var S=t.getUint32(D+8,!0),O=t.getUint32(D+12,!0),I=[],_=S;_<S+2*O;_+=2)I.push(t.getUint16(_,!0));R.push(I)}y>1&&kn.warn("Vertex info count of ".concat(y," was larger than expected."));for(var C=t.getUint32(b+4,!0),j=t.getUint32(b+8,!0),E=t.getUint32(b+12,!0),L=[],B=[],x=C;x<C+E*j;x+=j){var M=void 0,A=void 0,T=void 0;switch(j){case 16:case 24:M=0,A=1,T=0;break;case 28:case 36:M=t.getFloat32(x+12,!0),A=t.getFloat32(x+16,!0),T=t.getFloat32(x+20,!0);break;default:kn.error("Unexpected vertex size of ".concat(j,"."));continue}var F=t.getFloat32(x,!0),G=t.getFloat32(x+4,!0),P=t.getFloat32(x+8,!0),U=u.cosYAxisRotation*F+u.sinYAxisRotation*P,z=-u.sinYAxisRotation*F+u.cosYAxisRotation*P;L.push(i+U),L.push(o+G),L.push(s+z),B.push(M),B.push(A),B.push(T)}c.push(R),d.push(L),p.push(B)}}for(var W=function(e){var t=d[e],n=p[e];c[e].forEach(function(e){var a=new yn.BufferGeometry;a.addAttribute("position",new yn.BufferAttribute(new Float32Array(t),3)),a.addAttribute("normal",new yn.BufferAttribute(new Float32Array(n),3)),a.setIndex(new yn.BufferAttribute(new Uint16Array(e),1));var i=new yn.Mesh(a,new yn.MeshLambertMaterial({color:4500223,opacity:.25,side:yn.DoubleSide}));i.setDrawMode(yn.TriangleStripDrawMode),i.userData.section=u,r.add(i)})},N=0;N<d.length;++N)W(N)},l=o;l<o+52*i;l+=52)s(l);return{sections:Object(_.a)(n.values()).sort(function(e,t){return e.id-t.id}),object3d:r}}var Dn=new Map,Sn=new Map,On=new Map;function In(e,t,n){var r=Dn.get("".concat(e,"-").concat(t,"-").concat(n));return r||Cn(e,t,n).then(function(e){return e.sections})}function _n(e,t,n){var r=On.get("".concat(e,"-").concat(t,"-").concat(n));if(r)return r;var a=function(e,t,n){return vn(e,t,n,"collision")}(e,t,n).then(gn);return On.set("".concat(t,"-").concat(n),a),a}function Cn(e,t,n){var r=function(e,t,n){return vn(e,t,n,"render")}(e,t,n).then(Rn),a=new Promise(function(e,t){r.then(function(t){var n=t.sections;return e(n)}).catch(t)}),i=new Promise(function(e,t){r.then(function(t){var n=t.object3d;return e(n)}).catch(t)});return Dn.set("".concat(e,"-").concat(t,"-").concat(n),a),Sn.set("".concat(e,"-").concat(t,"-").concat(n),i),r}var jn=n(154),En=l.a.get("bin-data/parsing/ninja/nj");function Ln(e,t,n){for(var r=[],a=!0;a;){var i=e.u8(),o=e.u8(),s=e.position,l="UNKOWN",u=null,c=null,d=0;0===i?l="NULL":1<=i&&i<=5?(l="BITS",4===i?(u="CACHE_POLYGON_LIST",t[(c={storeIndex:o,offset:e.position}).storeIndex]=c.offset,a=!1):5===i&&(u="DRAW_POLYGON_LIST",c={storeIndex:o},e.seekStart(t[c.storeIndex]),r.splice.apply(r,[r.length,0].concat(Object(_.a)(Ln(e,t,n)))))):8<=i&&i<=9?(l="TINY",d=2):17<=i&&i<=31?(l="MATERIAL",d=2+2*e.u16()):32<=i&&i<=50?(l="VERTEX",d=2+4*e.u16(),c=Bn(e,i,o)):56<=i&&i<=58?(l="VOLUME",d=2+2*e.u16()):64<=i&&i<=75?(l="STRIP",d=2+2*e.u16(),c=xn(e,i)):255===i?(l="END",d=n?2:0,a=!1):(En.warn("Unknown chunk type: ".concat(i,".")),d=2+2*e.u16()),e.seekStart(s+d),r.push({chunkType:l,chunkSubType:u,chunkTypeId:i,data:c})}return r}function Bn(e,t,n){if(0!==(3&n))return[];for(var r=e.u16(),a=e.u16(),i=[],o=0;o<a;++o){var s={index:r+o,position:[e.f32(),e.f32(),e.f32()]};32===t?e.seek(4):33===t?(e.seek(4),s.normal=[e.f32(),e.f32(),e.f32()],e.seek(4)):35<=t&&t<=40?37===t?(s.index=r+e.u16(),e.seek(2)):e.seek(4):41<=t&&t<=47?(s.normal=[e.f32(),e.f32(),e.f32()],t>=42&&(44===t?(s.index=r+e.u16(),e.seek(2)):e.seek(4))):t>=48&&(e.seek(4),t>=49&&e.seek(4)),i.push(s)}return i}function xn(e,t){var n,r=e.u16(),a=r>>>14,i=16383&r;switch(t){case 64:n=[!1,!1,!1,!1];break;case 65:case 66:n=[!0,!1,!1,!1];break;case 67:n=[!1,!1,!0,!1];break;case 68:case 69:n=[!0,!1,!0,!1];break;case 70:n=[!1,!0,!1,!1];break;case 71:case 72:n=[!0,!0,!1,!1];break;case 73:n=[!1,!1,!1,!1];break;case 74:case 75:n=[!0,!1,!1,!0];break;default:throw new Error("Unexpected chunk type ID: ".concat(t,"."))}for(var o=n,s=Object(C.a)(o,4),l=s[0],u=s[1],c=s[2],d=s[3],p=[],h=0;h<i;++h){for(var m=e.i16(),w=m<1,v=Math.abs(m),f=[],b=0;b<v;++b)f.push(e.u16()),l&&e.seek(4),u&&e.seek(4),c&&e.seek(6),d&&e.seek(8),b>=2&&e.seek(2*a);p.push({clockwiseWinding:w,indices:f})}return p}function Mn(e,t,n,r,a,i,o){for(var s=0;s<n;++s){e.seekStart(t+20*s),e.seek(8);var l=e.u32(),u=e.u32();e.seekStart(l);for(var c=e.u16Array(u),d=!0,p=2;p<c.length;++p){var h=o+c[p-2],m=o+c[p-1],w=o+c[p],v=new yn.Vector3(r[3*h],r[3*h+1],r[3*h+2]),f=new yn.Vector3(r[3*m],r[3*m+1],r[3*m+2]),b=new yn.Vector3(r[3*w],r[3*w+1],r[3*w+2]),y=new yn.Vector3(a[3*h],a[3*h+1],a[3*h+2]),k=new yn.Vector3(a[3*h],a[3*h+1],a[3*h+2]),g=new yn.Vector3(a[3*h],a[3*h+1],a[3*h+2]),R=f.clone().sub(v).cross(b.clone().sub(v));d&&R.negate(),(R.dot(y)<0?1:0)+(R.dot(k)<0?1:0)+(R.dot(g)<0?1:0)>=2&&(d=!d),d?(i.push(m),i.push(h),i.push(w)):(i.push(h),i.push(m),i.push(w)),d=!d}}}function An(e){return Fn(e,"nj")}function Tn(e){return Fn(e,"xj")}function Fn(e,t){for(;e.bytesLeft;){var n=e.stringAscii(4,!1,!1),r=e.u32();if("NJCM"===n)return Gn(e.take(r),t);e.seek(r)}}function Gn(e,t){var n;if(e.bytesLeft)return n="nj"===t?{format:t,positions:[],normals:[],cachedChunkOffsets:[],vertices:[]}:{format:t,positions:[],normals:[],indices:[]},function e(t,n,r){var a=t.u32();var i=0!==(1&a);var o=0!==(2&a);var s=0!==(4&a);var l=0!==(8&a);var u=0!==(16&a);var c=0!==(32&a);var d=t.u32();var p=t.f32();var h=t.f32();var m=t.f32();var w=t.i32()*(2*Math.PI/65535);var v=t.i32()*(2*Math.PI/65535);var f=t.i32()*(2*Math.PI/65535);var b=t.f32();var y=t.f32();var k=t.f32();var g=t.u32();var R=t.u32();var D=new yn.Euler(w,v,f,c?"ZXY":"ZYX");var S=(new yn.Matrix4).compose(i?new yn.Vector3:new yn.Vector3(p,h,m),o?new yn.Quaternion(0,0,0,1):(new yn.Quaternion).setFromEuler(D),s?new yn.Vector3(1,1,1):new yn.Vector3(b,y,k)).premultiply(n);d&&!l&&(t.seekStart(d),function(e,t,n){"nj"===n.format?function(e,t,n){var r=n.positions,a=n.normals,i=n.cachedChunkOffsets,o=n.vertices,s=e.u32(),l=e.u32(),u=(new yn.Matrix3).getNormalMatrix(t);if(s){e.seekStart(s);var c=!0,d=!1,p=void 0;try{for(var h,m=Ln(e,i,!0)[Symbol.iterator]();!(c=(h=m.next()).done);c=!0){var w=h.value;if("VERTEX"===w.chunkType){var v=w.data,f=!0,b=!1,y=void 0;try{for(var k,g=v[Symbol.iterator]();!(f=(k=g.next()).done);f=!0){var R=k.value,D=Object(jn.a)(yn.Vector3,Object(_.a)(R.position)).applyMatrix4(t),S=R.normal?Object(jn.a)(yn.Vector3,Object(_.a)(R.normal)).applyMatrix3(u):new yn.Vector3(0,1,0);o[R.index]={position:D,normal:S}}}catch(H){b=!0,y=H}finally{try{f||null==g.return||g.return()}finally{if(b)throw y}}}}}catch(H){d=!0,p=H}finally{try{c||null==m.return||m.return()}finally{if(d)throw p}}}if(l){e.seekStart(l);var O=!0,I=!1,C=void 0;try{for(var j,E=Ln(e,i,!1)[Symbol.iterator]();!(O=(j=E.next()).done);O=!0){var L=j.value;if("STRIP"===L.chunkType){var B=!0,x=!1,M=void 0;try{for(var A,T=L.data[Symbol.iterator]();!(B=(A=T.next()).done);B=!0)for(var F=A.value,G=F.clockwiseWinding,P=F.indices,U=2;U<P.length;++U){var z=o[P[U-2]],W=o[P[U-1]],N=o[P[U]];z&&W&&N&&(U%2===(G?1:0)?(r.splice(r.length,0,z.position.x,z.position.y,z.position.z),r.splice(r.length,0,W.position.x,W.position.y,W.position.z),r.splice(r.length,0,N.position.x,N.position.y,N.position.z),a.splice(a.length,0,z.normal.x,z.normal.y,z.normal.z),a.splice(a.length,0,W.normal.x,W.normal.y,W.normal.z),a.splice(a.length,0,N.normal.x,N.normal.y,N.normal.z)):(r.splice(r.length,0,W.position.x,W.position.y,W.position.z),r.splice(r.length,0,z.position.x,z.position.y,z.position.z),r.splice(r.length,0,N.position.x,N.position.y,N.position.z),a.splice(a.length,0,W.normal.x,W.normal.y,W.normal.z),a.splice(a.length,0,z.normal.x,z.normal.y,z.normal.z),a.splice(a.length,0,N.normal.x,N.normal.y,N.normal.z)))}}catch(H){x=!0,M=H}finally{try{B||null==T.return||T.return()}finally{if(x)throw M}}}}}catch(H){I=!0,C=H}finally{try{O||null==E.return||E.return()}finally{if(I)throw C}}}}(e,t,n):function(e,t,n){var r=n.positions,a=n.normals,i=n.indices;e.seek(4);var o=e.u32();e.seek(4);var s=e.u32(),l=e.u32(),u=e.u32(),c=e.u32();e.seek(16);var d=(new yn.Matrix3).getNormalMatrix(t),p=r.length/3;if(o){e.seekStart(o),e.seek(4);for(var h=e.u32(),m=e.u32(),w=e.u32(),v=0;v<w;++v){e.seekStart(h+v*m);var f=new yn.Vector3(e.f32(),e.f32(),e.f32()).applyMatrix4(t),b=void 0;b=28===m||32===m||36===m?new yn.Vector3(e.f32(),e.f32(),e.f32()).applyMatrix3(d):new yn.Vector3(0,1,0),r.push(f.x),r.push(f.y),r.push(f.z),a.push(b.x),a.push(b.y),a.push(b.z)}}s&&Mn(e,s,l,r,a,i,p),u&&Mn(e,u,c,r,a,i,p)}(e,t,n)}(t,S,r));g&&!u&&(t.seekStart(g),e(t,S,r));R&&(t.seekStart(R),e(t,n,r))}(e,new yn.Matrix4,n),function(e){var t=new yn.BufferGeometry;t.addAttribute("position",new yn.BufferAttribute(new Float32Array(e.positions),3)),t.addAttribute("normal",new yn.BufferAttribute(new Float32Array(e.normals),3)),"indices"in e&&t.setIndex(new yn.BufferAttribute(new Uint16Array(e.indices),1));return t}(n)}var Pn=new Map,Un=new Map;function zn(e){var t=Pn.get(String(e.id));return t||(t=function(e){return dn.apply(this,arguments)}(e).then(function(e){var t=e.url,n=e.data,r=new cn(n,!0),a=t.endsWith(".nj")?An(r):Tn(r);if(a)return a;throw new Error("File could not be parsed into a BufferGeometry.")}),Pn.set(String(e.id),t),t)}function Wn(e){var t=Un.get(String(e.id));return t||(t=function(e){return pn.apply(this,arguments)}(e).then(function(e){var t=e.url,n=e.data,r=new cn(n,!0),a=t.endsWith(".nj")?An(r):Tn(r);if(a)return a;throw new Error("File could not be parsed into a BufferGeometry.")}),Un.set(String(e.id),t),t)}function Nn(e){var t=new Yn(e),n=new Zn;if(t.src.size<=3)for(;t.src.bytesLeft;)t.setBit(1),t.copyLiteral();else{for(n.put(n.hash(t.src),0),t.src.seek(1),n.put(n.hash(t.src),1),t.src.seek(-1),t.setBit(1),t.copyLiteral(),t.setBit(1),t.copyLiteral();t.src.bytesLeft>1;){var r=t.findLongestMatch(n,!1),a=Object(C.a)(r,2),i=a[0],o=a[1];if(o>0){t.src.seek(1);var s=t.findLongestMatch(n,!0),l=Object(C.a)(s,2),u=l[0],c=l[1];if(t.src.seek(-1),c>o){var d=!0;if(o>=2&&o<=5&&u<i&&i>=-256&&u<-256&&c-o<3&&(d=!1),d){t.setBit(1),t.copyLiteral();continue}}if(o>=2&&o<=5&&i>=-256){t.setBit(0),t.setBit(0),t.setBit(o-2&2),t.setBit(o-2&1),t.writeLiteral(255&i),t.addIntermediates(n,o);continue}if(o>=3&&o<=9){t.setBit(0),t.setBit(1),t.writeLiteral((31&i)<<3|o-2&7),t.writeLiteral(i>>5),t.addIntermediates(n,o);continue}if(o>9){o>256&&(o=256),t.setBit(0),t.setBit(1),t.writeLiteral((31&i)<<3),t.writeLiteral(i>>5),t.writeLiteral(o-1),t.addIntermediates(n,o);continue}}t.setBit(1),t.copyLiteral()}t.src.bytesLeft&&(t.setBit(1),t.copyLiteral())}return t.writeEof(),t.dst.seekStart(0)}var Hn=8192,Vn=Hn-1,qn=256,Yn=function(){function e(t){Object(d.a)(this,e),this.src=void 0,this.dst=void 0,this.flags=void 0,this.flagBitsLeft=void 0,this.flagOffset=void 0,this.src=t,this.dst=new cn(t.size,t.littleEndian),this.flags=0,this.flagBitsLeft=0,this.flagOffset=0}return Object(p.a)(e,[{key:"setBit",value:function(e){if(!this.flagBitsLeft--){var t=this.dst.position;this.dst.seekStart(this.flagOffset).writeU8(this.flags).seekStart(t).writeU8(0),this.flagOffset=t,this.flagBitsLeft=7}this.flags>>>=1,e&&(this.flags|=128)}},{key:"copyLiteral",value:function(){this.dst.writeU8(this.src.u8())}},{key:"writeLiteral",value:function(e){this.dst.writeU8(e)}},{key:"writeFinalFlags",value:function(){this.flags>>>=this.flagBitsLeft;var e=this.dst.position;this.dst.seekStart(this.flagOffset).writeU8(this.flags).seekStart(e)}},{key:"writeEof",value:function(){this.setBit(0),this.setBit(1),this.writeFinalFlags(),this.writeLiteral(0),this.writeLiteral(0)}},{key:"matchLength",value:function(e){for(var t=this.src.uint8ArrayView(),n=0,r=this.src.position;r<t.byteLength&&t[r]===t[e];)++n,++r,++e;return n}},{key:"findLongestMatch",value:function(e,t){if(!this.src.bytesLeft)return[0,0];var n=e.hash(this.src),r=e.get(n);if(null===r)return t||e.put(n,this.src.position),[0,0];if(this.src.position-r>Hn)return e.hashToOffset[n]=null,t||e.put(n,this.src.position),[0,0];for(var a=0,i=0;null!=r;){var o=this.matchLength(r);(o>a||o>=256)&&(a=o,i=r);var s=e.prev(r);null!==s&&this.src.position-s>Hn&&(e.setPrev(r,null),s=null),r=s}return t||e.put(n,this.src.position),[a>0?i-this.src.position:0,a]}},{key:"addIntermediates",value:function(e,t){this.src.seek(1);for(var n=1;n<t;++n){var r=e.hash(this.src);e.put(r,this.src.position),this.src.seek(1)}}}]),e}(),Zn=function(){function e(){Object(d.a)(this,e),this.hashToOffset=new Array(qn).fill(null),this.maskedOffsetToPrev=new Array(Hn).fill(null)}return Object(p.a)(e,[{key:"hash",value:function(e){var t=e.u8();return e.bytesLeft&&(t^=e.u8(),e.seek(-1)),e.seek(-1),t}},{key:"get",value:function(e){return this.hashToOffset[e]}},{key:"put",value:function(e,t){this.setPrev(t,this.hashToOffset[e]),this.hashToOffset[e]=t}},{key:"prev",value:function(e){return this.maskedOffsetToPrev[e&Vn]}},{key:"setPrev",value:function(e,t){this.maskedOffsetToPrev[e&Vn]=t}}]),e}(),Qn=l.a.get("bin-data/compression/prs/decompress");function Kn(e){for(var t=new Jn(e);;)if(1===t.readFlagBit())t.copyU8();else{var n=void 0,r=void 0;if(0===t.readFlagBit())n=t.readFlagBit()<<1,n|=t.readFlagBit(),n+=2,r=t.readU8()-256;else{if(0===(r=t.readU16()))break;n=7&r,r>>>=3,0===n?(n=t.readU8(),n+=1):n+=2,r-=8192}t.offsetCopy(r,n)}return t.dst.seekStart(0)}var Jn=function(){function e(t){Object(d.a)(this,e),this.src=void 0,this.dst=void 0,this.flags=void 0,this.flagBitsLeft=void 0,this.src=t,this.dst=new cn(4*t.size,t.littleEndian),this.flags=0,this.flagBitsLeft=0}return Object(p.a)(e,[{key:"readFlagBit",value:function(){0===this.flagBitsLeft&&(this.flags=this.readU8(),this.flagBitsLeft=8);var e=1&this.flags;return this.flags>>>=1,this.flagBitsLeft-=1,e}},{key:"copyU8",value:function(){this.dst.writeU8(this.readU8())}},{key:"readU8",value:function(){return this.src.u8()}},{key:"readU16",value:function(){return this.src.u16()}},{key:"offsetCopy",value:function(e,t){(e<-8192||e>0)&&Qn.error("offset was ".concat(e,", should be between -8192 and 0.")),(t<1||t>256)&&Qn.error("length was ".concat(t,", should be between 1 and 256."));var n=Math.min(-e,t);this.dst.seek(e);var r=this.dst.take(n);this.dst.seek(-e-n);for(var a=0;a<Math.floor(t/n);++a)this.dst.writeCursor(r);this.dst.writeCursor(r.take(t%n))}}]),e}(),Xn=l.a.get("bin-data/parsing/quest/dat"),$n=68,er=72;var tr=l.a.get("bin-data/parsing/quest/bin");function nr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.u32(),r=e.u32(),a=e.u32();e.seek(4);var i=e.u32(),o=e.u32(),s=e.stringUtf16(64,!0,!0),l=e.stringUtf16(256,!0,!0),u=e.stringUtf16(576,!0,!0);a!==e.size&&tr.warn("Value ".concat(a," in bin size field does not match actual size ").concat(e.size,"."));var c=Math.floor((e.size-r)/4);e.seekStart(r);for(var d=[],p=0;p<c;++p)d.push(e.i32());return{questNumber:i,language:o,questName:s,shortDescription:l,longDescription:u,functionOffsets:d,instructions:function(e,t){var n=[];try{for(;e.bytesLeft;){var r=e.u8(),a=void 0,i=void 0,o=void 0;switch(r){case 248:a=e.u8(),i=2,o=ir;break;case 249:a=e.u8(),i=2,o=or;break;default:a=r,i=1,o=ar}var s=Object(C.a)(o[a],3),l=s[1],u=s[2],c=rr(e,u);if(!c){tr.error("Parameters unknown for opcode 0x".concat(a.toString(16).toUpperCase(),"."));break}n.push({opcode:a,mnemonic:l,args:c.args,size:i+c.size})}}catch(d){if(!t)throw d;tr.error("Couldn't fully parse object code.",d)}return n}(e.seekStart(n).take(r-n),t),data:e.seekStart(0).take(e.size)}}function rr(e,t){if(null!=t){var n=e.position,r=[],a=0;e:for(var i=0;i<t.length;++i)switch(t.charAt(i)){case"p":break;case"a":break e;case"B":r.push(e.u8()),a+=1;break;case"W":r.push(e.u16()),a+=2;break;case"L":r.push(e.u32()),a+=4;break;case"I":r.push(e.i32()),a+=4;break;case"f":case"F":r.push(e.f32()),a+=4;break;case"R":case"r":a+=1;break;case"b":r.push(e.u8()),a+=1;break;case"w":r.push(e.u16()),a+=2;break;case"l":r.push(e.u32()),a+=4;break;case"i":r.push(e.i32()),a+=4;break;case"j":case"J":a+=1+2*e.seek(a).u8();break;case"t":case"T":a+=1+e.seek(a).u8();break;case"s":case"S":for(;e.u16();)a+=2;a+=2;break;default:throw new Error("Unknown mask part ".concat(t.charAt(i),"."))}return e.seekStart(n+a),{args:r,size:a}}}var ar=[[0,"nop",""],[1,"ret",""],[2,"sync",""],[3,"exit","aL"],[4,"thread","W"],[5,"va_start",""],[6,"va_end",""],[7,"va_call","W"],[8,"let","RR"],[9,"leti","RI"],[10,"unknown",null],[11,"unknown",null],[12,"unknown",null],[13,"unknown",null],[14,"unknown",null],[15,"unknown",null],[16,"set","R"],[17,"clear","R"],[18,"rev","R"],[19,"gset","w"],[20,"gclear","w"],[21,"grev","w"],[22,"glet","w"],[23,"gget","wR"],[24,"add","RR"],[25,"addi","RI"],[26,"sub","RR"],[27,"subi","RI"],[28,"mul","RR"],[29,"muli","RI"],[30,"div","RR"],[31,"divi","RI"],[32,"and","RR"],[33,"andi","RI"],[34,"or","RR"],[35,"ori","RI"],[36,"xor","RR"],[37,"xori","RI"],[38,"mod","RR"],[39,"modi","RI"],[40,"jmp","W"],[41,"call","W"],[42,"jmp_on","Wt"],[43,"jmp_off","Wt"],[44,"jmp_=","RRW"],[45,"jmpi_=","RIW"],[46,"jmp_!=","RRW"],[47,"jmpi_!=","RIW"],[48,"ujmp_>","RRW"],[49,"ujmpi_>","RLW"],[50,"jmp_>","RRW"],[51,"jmpi_>","RIW"],[52,"ujmp_<","RRW"],[53,"ujmpi_<","RLW"],[54,"jmp_<","RRW"],[55,"jmpi_<","RIW"],[56,"ujmp_>=","RRW"],[57,"ujmpi_>=","RLW"],[58,"jmp_>=","RRW"],[59,"jmpi_>=","RIW"],[60,"ujmp_<=","RRW"],[61,"ujmpi_<=","RLW"],[62,"jmp_<=","RRW"],[63,"jmpi_<=","RIW"],[64,"switch_jmp","Rj"],[65,"switch_call","Rj"],[66,"stack_push","R"],[67,"stack_pop","R"],[68,"stack_pushm","RL"],[69,"stack_popm","RL"],[70,"unknown",null],[71,"unknown",null],[72,"arg_pushr","pR"],[73,"arg_pushl","pI"],[74,"arg_pushb","pB"],[75,"arg_pushw","pW"],[76,"unknown",null],[77,"unknown",null],[78,"arg_pushs","ps"],[79,"unknown4F","RR"],[80,"message","aLs"],[81,"list","aRs"],[82,"fadein",""],[83,"fadeout",""],[84,"se","aL"],[85,"bgm","aL"],[86,"unknown",null],[87,"unknown",null],[88,"enable","aL"],[89,"disable","aL"],[90,"window_msg","as"],[91,"add_msg","as"],[92,"mesend",""],[93,"gettime","R"],[94,"winend",""],[95,"unknown",null],[96,"npc_crt_V3","R"],[97,"npc_stop","aR"],[98,"npc_play","aL"],[99,"npc_kill","aR"],[100,"npc_nont",""],[101,"npc_talk",""],[102,"npc_crp_V3","R"],[103,"unknown",null],[104,"create_pipe","aL"],[105,"p_hpstat_V3","aRL"],[106,"p_dead_V3","aRL"],[107,"p_disablewarp",""],[108,"p_enablewarp",""],[109,"p_move_V3","R"],[110,"p_look","aL"],[111,"unknown",null],[112,"p_action_disable",""],[113,"p_action_enable",""],[114,"disable_movement1","aR"],[115,"enable_movement1","aR"],[116,"p_noncol",""],[117,"p_col",""],[118,"p_setpos","aRR"],[119,"p_return_guild",""],[120,"p_talk_guild","aL"],[121,"npc_talk_pl_V3","R"],[122,"npc_talk_kill","aL"],[123,"npc_crtpk_V3","R"],[124,"npc_crppk_V3","R"],[125,"npc_crptalk_v3","R"],[126,"p_look_at_V1","aLL"],[127,"npc_crp_id_V3","R"],[128,"cam_quake",""],[129,"cam_adj",""],[130,"cam_zmin",""],[131,"cam_zmout",""],[132,"cam_pan_V3","R"],[133,"game_lev_super",""],[134,"game_lev_reset",""],[135,"pos_pipe_V3","R"],[136,"if_zone_clear","RR"],[137,"chk_ene_num","R"],[138,"unhide_obj","R"],[139,"unhide_ene","R"],[140,"at_coords_call","R"],[141,"at_coords_talk","R"],[142,"col_npcin","R"],[143,"col_npcinr","R"],[144,"switch_on","aL"],[145,"switch_off","aL"],[146,"playbgm_epi","aL"],[147,"set_mainwarp","aL"],[148,"set_obj_param","RR"],[149,"set_floor_handler","aLW"],[150,"clr_floor_handler","aL"],[151,"col_plinaw","R"],[152,"hud_hide",""],[153,"hud_show",""],[154,"cine_enable",""],[155,"cine_disable",""],[156,"unknown",null],[157,"unknown",null],[158,"unknown",null],[159,"unknown",null],[160,"unknown",null],[161,"set_qt_failure","W"],[162,"set_qt_success","W"],[163,"clr_qt_failure",""],[164,"clr_qt_success",""],[165,"set_qt_cancel","W"],[166,"clr_qt_cancel",""],[167,"unknown",null],[168,"pl_walk_V3","R"],[169,"unknown",null],[170,"unknown",null],[171,"unknown",null],[172,"unknown",null],[173,"unknown",null],[174,"unknown",null],[175,"unknown",null],[176,"pl_add_meseta","aLL"],[177,"thread_stg","W"],[178,"del_obj_param","R"],[179,"item_create","RR"],[180,"item_create2","RR"],[181,"item_delete","RR"],[182,"item_delete2","RR"],[183,"item_check","RR"],[184,"setevt","aL"],[185,"get_difflvl","R"],[186,"set_qt_exit","W"],[187,"clr_qt_exit",""],[188,"unknown",null],[189,"unknown",null],[190,"unknown",null],[191,"unknown",null],[192,"particle_V3","R"],[193,"npc_text","aLs"],[194,"npc_chkwarp",""],[195,"pl_pkoff",""],[196,"map_designate","R"],[197,"masterkey_on",""],[198,"masterkey_off",""],[199,"window_time",""],[200,"winend_time",""],[201,"winset_time","R"],[202,"getmtime","R"],[203,"set_quest_board_handler","aLWs"],[204,"clear_quest_board_handler","aL"],[205,"particle_id_V3","R"],[206,"npc_crptalk_id_V3","R"],[207,"npc_lang_clean",""],[208,"pl_pkon",""],[209,"pl_chk_item2","RR"],[210,"enable_mainmenu",""],[211,"disable_mainmenu",""],[212,"start_battlebgm",""],[213,"end_battlebgm",""],[214,"disp_msg_qb","as"],[215,"close_msg_qb",""],[216,"set_eventflag_v3","aLL"],[217,"sync_leti",null],[218,"set_returnhunter",""],[219,"set_returncity",""],[220,"load_pvr",""],[221,"load_midi",""],[222,"unknown",null],[223,"npc_param_V3","aRL"],[224,"pad_dragon",""],[225,"clear_mainwarp","aL"],[226,"pcam_param_V3","R"],[227,"start_setevt_v3","aRL"],[228,"warp_on",""],[229,"warp_off",""],[230,"get_slotnumber","R"],[231,"get_servernumber","R"],[232,"set_eventflag2","aLR"],[233,"res","RR"],[234,"unknownEA","RL"],[235,"enable_bgmctrl","aL"],[236,"sw_send","R"],[237,"create_bgmctrl",""],[238,"pl_add_meseta2","aL"],[239,"sync_register","aRL"],[240,"send_regwork",null],[241,"leti_fixed_camera_V3","R"],[242,"default_camera_pos1",""],[243,"unknown",null],[244,"unknown",null],[245,"unknown",null],[246,"unknown",null],[247,"unknown",null],[248,"unknownF8","R"],[249,"unknown",null],[250,"get_gc_number","R"],[251,"unknownFB","W"],[252,"unknown",null],[253,"unknown",null],[254,"unknown",null],[255,"unknownFF",""]],ir=[[0,"unknown",null],[1,"set_chat_callback?","aRs"],[2,"unknown",null],[3,"unknown",null],[4,"unknown",null],[5,"unknown",null],[6,"unknown",null],[7,"unknown",null],[8,"get_difficulty_level2","R"],[9,"get_number_of_player1","R"],[10,"get_coord_of_player","RR"],[11,"unknownF80B",""],[12,"unknownF80C",""],[13,"map_designate_ex","R"],[14,"unknownF80E","aL"],[15,"unknownF80F","aL"],[16,"ba_initial_floor","aL"],[17,"set_ba_rules",""],[18,"unknownF812","aL"],[19,"unknownF813","aL"],[20,"unknownF814","aL"],[21,"unknownF815","aL"],[22,"unknownF816","aL"],[23,"unknownF817","aL"],[24,"unknownF818","aL"],[25,"unknownF819","aL"],[26,"unknownF81A","aL"],[27,"unknownF81B","aL"],[28,"ba_disp_msg","as"],[29,"death_lvl_up","aL"],[30,"death_tech_lvl_up","aL"],[31,"unknown",null],[32,"cmode_stage","aL"],[33,"unknown",null],[34,"unknown",null],[35,"unknownF823","aL"],[36,"unknownF824","aL"],[37,"exp_multiplication","R"],[38,"exp_division?","R"],[39,"get_user_is_dead?","R"],[40,"go_floor","RR"],[41,"unknown",null],[42,"unknown",null],[43,"unlock_door2","aLL"],[44,"lock_door2","aLL"],[45,"if_switch_not_pressed","R"],[46,"if_switch_pressed","R"],[47,"unknownF82F","aLL"],[48,"control_dragon","R"],[49,"release_dragon",""],[50,"unknown",null],[51,"unknown",null],[52,"unknown",null],[53,"unknown",null],[54,"unknown",null],[55,"unknown",null],[56,"shrink","R"],[57,"unshrink","R"],[58,"unknown",null],[59,"unknown",null],[60,"display_clock2?","R"],[61,"unknownF83D","aL"],[62,"delete_area_title?","aL"],[63,"unknown",null],[64,"load_npc_data",""],[65,"get_npc_data","W"],[66,"unknown",null],[67,"unknown",null],[68,"unknown",null],[69,"unknown",null],[70,"unknown",null],[71,"unknown",null],[72,"give_damage_score","R"],[73,"take_damage_score","R"],[74,"unk_score_F84A","R"],[75,"unk_score_F84B","R"],[76,"kill_score","R"],[77,"death_score","R"],[78,"unk_score_F84E","R"],[79,"enemy_death_score","R"],[80,"meseta_score","R"],[81,"unknownF851","R"],[82,"unknownF852","aL"],[83,"reverse_warps",""],[84,"unreverse_warps",""],[85,"set_ult_map",""],[86,"unset_ult_map",""],[87,"set_area_title","as"],[88,"unknownF858",""],[89,"unknown",null],[90,"equip_item","R"],[91,"unequip_item","aLL"],[92,"unknown",null],[93,"unknown",null],[94,"unknownF85E","aL"],[95,"unknownF85F","aL"],[96,"unknownF860",""],[97,"unknownF861","aL"],[98,"unknown",null],[99,"unknown",null],[100,"cmode_rank","aLs"],[101,"award_item_name?",""],[102,"award_item_select?",""],[103,"award_item_give_to?","R"],[104,"unknownF868","RR"],[105,"unknownF869","RR"],[106,"item_create_cmode","RR"],[107,"unknownF86B","R"],[108,"award_item_ok?","R"],[109,"unknownF86D",""],[110,"unknownF86E",""],[111,"ba_set_lives","aL"],[112,"ba_set_tech_lvl","aL"],[113,"ba_set_lvl","aL"],[114,"ba_set_time_limit","aL"],[115,"boss_is_dead?","R"],[116,"unknown",null],[117,"unknown",null],[118,"unknown",null],[119,"enable_techs","R"],[120,"disable_techs","R"],[121,"get_gender","RR"],[122,"get_chara_class","RR"],[123,"take_slot_meseta","RR"],[124,"unknown",null],[125,"unknown",null],[126,"unknown",null],[127,"read_guildcard_flag","RR"],[128,"unknownF880","R"],[129,"get_pl_name?","R"],[130,"unknown",null],[131,"unknownF883","RR"],[132,"unknown",null],[133,"unknown",null],[134,"unknown",null],[135,"unknown",null],[136,"ba_close_msg",""],[137,"unknown",null],[138,"get_player_status","RR"],[139,"send_mail","aRs"],[140,"online_check","R"],[141,"chl_set_timerecord?","R"],[142,"chl_get_timerecord?","R"],[143,"unknownF88F","R"],[144,"unknownF890",""],[145,"load_enemy_data","aL"],[146,"get_physical_data","W"],[147,"get_attack_data","W"],[148,"get_resist_data","W"],[149,"get_movement_data","W"],[150,"unknown",null],[151,"unknown",null],[152,"shift_left","RR"],[153,"shift_right","RR"],[154,"get_random","RR"],[155,"reset_map",""],[156,"disp_chl_retry_menu","R"],[157,"chl_reverser?",""],[158,"unknownF89E","aL"],[159,"unknownF89F","R"],[160,"unknownF8A0",""],[161,"unknownF8A1",""],[162,"unknown",null],[163,"unknown",null],[164,"unknown",null],[165,"unknown",null],[166,"unknown",null],[167,"unknown",null],[168,"unknownF8A8","aL"],[169,"unknownF8A9","R"],[170,"unknown",null],[171,"unknown",null],[172,"unknown",null],[173,"get_number_of_player2","R"],[174,"unknown",null],[175,"unknown",null],[176,"unknown",null],[177,"unknown",null],[178,"unknown",null],[179,"unknown",null],[180,"unknown",null],[181,"unknown",null],[182,"unknown",null],[183,"unknown",null],[184,"unknownF8B8",""],[185,"chl_recovery?",""],[186,"unknown",null],[187,"unknown",null],[188,"set_episode","L"],[189,"unknown",null],[190,"unknown",null],[191,"unknown",null],[192,"file_dl_req","aLs"],[193,"get_dl_status","R"],[194,"gba_unknown4?",""],[195,"get_gba_state?","R"],[196,"unknownF8C4","R"],[197,"unknownF8C5","R"],[198,"QEXIT",""],[199,"use_animation","RR"],[200,"stop_animation","R"],[201,"run_to_coord","RR"],[202,"set_slot_invincible","RR"],[203,"unknownF8CB","R"],[204,"set_slot_poison","R"],[205,"set_slot_paralyze","R"],[206,"set_slot_shock","R"],[207,"set_slot_freeze","R"],[208,"set_slot_slow","R"],[209,"set_slot_confuse","R"],[210,"set_slot_shifta","R"],[211,"set_slot_deband","R"],[212,"set_slot_jellen","R"],[213,"set_slot_zalure","R"],[214,"fleti_fixed_camera","aR"],[215,"fleti_locked_camera","aLR"],[216,"default_camera_pos2",""],[217,"set_motion_blur",""],[218,"set_screen_b&w",""],[219,"unknownF8DB","aLLLLRW"],[220,"NPC_action_string","RRW"],[221,"get_pad_cond","RR"],[222,"get_button_cond","RR"],[223,"freeze_enemies",""],[224,"unfreeze_enemies",""],[225,"freeze_everything",""],[226,"unfreeze_everything",""],[227,"restore_hp","R"],[228,"restore_tp","R"],[229,"close_chat_bubble","R"],[230,"unknownF8E6","RR"],[231,"unknownF8E7","RR"],[232,"unknownF8E8","RR"],[233,"unknownF8E9","RR"],[234,"unknownF8EA","RR"],[235,"unknownF8EB","RR"],[236,"unknownF8EC","RR"],[237,"animation_check","RR"],[238,"call_image_data","aLW"],[239,"unknownF8EF",""],[240,"turn_off_bgm_p2",""],[241,"turn_on_bgm_p2",""],[242,"load_unk_data","aLLLLRW"],[243,"particle2","aRLf"],[244,"unknown",null],[245,"unknown",null],[246,"unknown",null],[247,"unknown",null],[248,"unknown",null],[249,"unknown",null],[250,"unknown",null],[251,"unknown",null],[252,"unknown",null],[253,"unknown",null],[254,"unknown",null],[255,"unknown",null]],or=[[0,"unknown",null],[1,"dec2float","RR"],[2,"float2dec","RR"],[3,"flet","RR"],[4,"fleti","RF"],[5,"unknown",null],[6,"unknown",null],[7,"unknown",null],[8,"fadd","RR"],[9,"faddi","RF"],[10,"fsub","RR"],[11,"fsubi","RF"],[12,"fmul","RR"],[13,"fmuli","RF"],[14,"fdiv","RR"],[15,"fdivi","RF"],[16,"get_unknown_count?","aLR"],[17,"get_stackable_item_count","RR"],[18,"freeze_and_hide_equip",""],[19,"thaw_and_show_equip",""],[20,"set_paletteX_callback","aRW"],[21,"activate_paletteX","aR"],[22,"enable_paletteX","aR"],[23,"restore_paletteX","aL"],[24,"disable_paletteX","aL"],[25,"get_paletteX_activated","aLR"],[26,"get_unknown_paletteX_status?","aLR"],[27,"disable_movement2","aR"],[28,"enable_movement2","aR"],[29,"get_time_played","R"],[30,"get_guildcard_total","R"],[31,"get_slot_meseta","R"],[32,"get_player_level","aLR"],[33,"get_Section_ID","aLR"],[34,"get_player_hp","aRR"],[35,"get_floor_number","aRR"],[36,"get_coord_player_detect","RR"],[37,"read_global_flag","abR"],[38,"write_global_flag","abR"],[39,"unknownF927","RR"],[40,"floor_player_detect","R"],[41,"read_disk_file?","as"],[42,"open_pack_select",""],[43,"item_select","R"],[44,"get_item_id","R"],[45,"color_change","aRRRRR"],[46,"send_statistic?","aLLLLLLLL"],[47,"unknownF92F","aLL"],[48,"chat_box","aLLLLLs"],[49,"chat_bubble","aLs"],[50,"unknown",null],[51,"unknownF933","R"],[52,"scroll_text","aLLLLLfRs"],[53,"gba_unknown1",""],[54,"gba_unknown2",""],[55,"gba_unknown3",""],[56,"add_damage_to?","aLL"],[57,"item_delete2","aL"],[58,"get_item_info","aLR"],[59,"item_packing1","aL"],[60,"item_packing2","aLL"],[61,"get_lang_setting?","aR"],[62,"prepare_statistic?","aLWW"],[63,"keyword_detect",""],[64,"Keyword","aRLs"],[65,"get_guildcard_num","aLR"],[66,"unknown",null],[67,"unknown",null],[68,"get_wrap_status","aLR"],[69,"initial_floor","aL"],[70,"sin","aRL"],[71,"cos","aRL"],[72,"unknown",null],[73,"unknown",null],[74,"boss_is_dead2?","R"],[75,"unknownF94B","R"],[76,"unknownF94C","R"],[77,"is_there_cardbattle","R"],[78,"unknown",null],[79,"unknown",null],[80,"BB_p2_menu","aL"],[81,"BB_Map_Designate","BWBB"],[82,"BB_get_number_in_pack","R"],[83,"BB_swap_item","aLLLLLLWW"],[84,"BB_check_wrap","aRR"],[85,"BB_exchange_PD_item","aRRRWW"],[86,"BB_exchange_PD_srank","aRRRRRWW"],[87,"BB_exchange_PD_special","aRRRRRLWW"],[88,"BB_exchange_PD_percent","aRRRRRLWW"],[89,"unknownF959","aL"],[90,"unknown",null],[91,"unknown",null],[92,"BB_exchange_SLT","aLRWW"],[93,"BB_exchange_PC",""],[94,"BB_box_create_BP","aLff"],[95,"BB_exchange_PT","aRRLWW"],[96,"unknownF960","aL"],[97,"unknownF961",""],[98,"unknown",null],[99,"unknown",null],[100,"unknown",null],[101,"unknown",null],[102,"unknown",null],[103,"unknown",null],[104,"unknown",null],[105,"unknown",null],[106,"unknown",null],[107,"unknown",null],[108,"unknown",null],[109,"unknown",null],[110,"unknown",null],[111,"unknown",null],[112,"unknown",null],[113,"unknown",null],[114,"unknown",null],[115,"unknown",null],[116,"unknown",null],[117,"unknown",null],[118,"unknown",null],[119,"unknown",null],[120,"unknown",null],[121,"unknown",null],[122,"unknown",null],[123,"unknown",null],[124,"unknown",null],[125,"unknown",null],[126,"unknown",null],[127,"unknown",null],[128,"unknown",null],[129,"unknown",null],[130,"unknown",null],[131,"unknown",null],[132,"unknown",null],[133,"unknown",null],[134,"unknown",null],[135,"unknown",null],[136,"unknown",null],[137,"unknown",null],[138,"unknown",null],[139,"unknown",null],[140,"unknown",null],[141,"unknown",null],[142,"unknown",null],[143,"unknown",null],[144,"unknown",null],[145,"unknown",null],[146,"unknown",null],[147,"unknown",null],[148,"unknown",null],[149,"unknown",null],[150,"unknown",null],[151,"unknown",null],[152,"unknown",null],[153,"unknown",null],[154,"unknown",null],[155,"unknown",null],[156,"unknown",null],[157,"unknown",null],[158,"unknown",null],[159,"unknown",null],[160,"unknown",null],[161,"unknown",null],[162,"unknown",null],[163,"unknown",null],[164,"unknown",null],[165,"unknown",null],[166,"unknown",null],[167,"unknown",null],[168,"unknown",null],[169,"unknown",null],[170,"unknown",null],[171,"unknown",null],[172,"unknown",null],[173,"unknown",null],[174,"unknown",null],[175,"unknown",null],[176,"unknown",null],[177,"unknown",null],[178,"unknown",null],[179,"unknown",null],[180,"unknown",null],[181,"unknown",null],[182,"unknown",null],[183,"unknown",null],[184,"unknown",null],[185,"unknown",null],[186,"unknown",null],[187,"unknown",null],[188,"unknown",null],[189,"unknown",null],[190,"unknown",null],[191,"unknown",null],[192,"unknown",null],[193,"unknown",null],[194,"unknown",null],[195,"unknown",null],[196,"unknown",null],[197,"unknown",null],[198,"unknown",null],[199,"unknown",null],[200,"unknown",null],[201,"unknown",null],[202,"unknown",null],[203,"unknown",null],[204,"unknown",null],[205,"unknown",null],[206,"unknown",null],[207,"unknown",null],[208,"unknown",null],[209,"unknown",null],[210,"unknown",null],[211,"unknown",null],[212,"unknown",null],[213,"unknown",null],[214,"unknown",null],[215,"unknown",null],[216,"unknown",null],[217,"unknown",null],[218,"unknown",null],[219,"unknown",null],[220,"unknown",null],[221,"unknown",null],[222,"unknown",null],[223,"unknown",null],[224,"unknown",null],[225,"unknown",null],[226,"unknown",null],[227,"unknown",null],[228,"unknown",null],[229,"unknown",null],[230,"unknown",null],[231,"unknown",null],[232,"unknown",null],[233,"unknown",null],[234,"unknown",null],[235,"unknown",null],[236,"unknown",null],[237,"unknown",null],[238,"unknown",null],[239,"unknown",null],[240,"unknown",null],[241,"unknown",null],[242,"unknown",null],[243,"unknown",null],[244,"unknown",null],[245,"unknown",null],[246,"unknown",null],[247,"unknown",null],[248,"unknown",null],[249,"unknown",null],[250,"unknown",null],[251,"unknown",null],[252,"unknown",null],[253,"unknown",null],[254,"unknown",null],[255,"unknown",null]],sr=l.a.get("bin-data/parsing/quest/qst");function lr(e){var t="PC",n=e.u8();e.seek(1);var r=e.u8();if(68===n?t="Dreamcast/GameCube":88===n?68===r&&(t="Blue Burst"):166===n&&(t="Dreamcast download"),"Blue Burst"===t){e.seekStart(0);var a=function(e){for(var t=[],n=0;n<2;++n){e.seek(4);var r=e.u16();e.seek(38);var a=e.stringAscii(16,!0,!0),i=e.u32(),o=e.stringAscii(24,!0,!0);t.push({questNo:r,fileName:a,fileName2:o,size:i})}return t}(e),i=function(e,t){var n=new Map;for(;e.bytesLeft>=1056;){var r=e.position,a=e.seek(4).u8(),i=e.seek(3).stringAscii(16,!0,!0),o=n.get(i);if(!o){var s=t.get(i);n.set(i,o={name:i,expectedSize:s,data:new cn(s||10240,!0),chunkNos:new Set})}o.chunkNos.has(a)?sr.warn("File chunk number ".concat(a," of file ").concat(i," was already encountered, overwriting previous chunk.")):o.chunkNos.add(a);var l=e.seek(1024).u32();e.seek(-1028),l>1024&&(sr.warn("Data segment size of ".concat(l," is larger than expected maximum size, reading just 1024 bytes.")),l=1024);var u=e.take(l),c=1024*a;if(o.data.size=Math.max(c+l,o.data.size),o.data.seekStart(c).writeCursor(u),e.seek(1032-u.size),e.position!==r+1056)throw new Error("Read ".concat(e.position-r," file chunk message bytes instead of expected 1056."))}e.bytesLeft&&sr.warn("".concat(e.bytesLeft," Bytes left in file."));var d=!0,p=!1,h=void 0;try{for(var m,w=n.values()[Symbol.iterator]();!(d=(m=w.next()).done);d=!0){var v=m.value;v.data.seekStart(0),v.chunkNos=new Set(Array.from(v.chunkNos.values()).sort(function(e,t){return e-t})),null!=v.expectedSize&&v.data.size!==v.expectedSize&&sr.warn("File ".concat(v.name," has an actual size of ").concat(v.data.size," instead of the expected size ").concat(v.expectedSize,"."));for(var f=Math.max(v.data.size,v.expectedSize||0),b=0;b<Math.ceil(f/1024);++b)v.chunkNos.has(b)||sr.warn("File ".concat(v.name," is missing chunk ").concat(b,"."))}}catch(y){p=!0,h=y}finally{try{d||null==w.return||w.return()}finally{if(p)throw h}}return Array.from(n.values())}(e,new Map(a.map(function(e){return[e.fileName,e.size]}))),o=!0,s=!1,l=void 0;try{for(var u,c=function(){var e=u.value,t=a.find(function(t){return t.fileName===e.name});t&&(e.questNo=t.questNo,e.name2=t.fileName2)},d=i[Symbol.iterator]();!(o=(u=d.next()).done);o=!0)c()}catch(p){s=!0,l=p}finally{try{o||null==d.return||d.return()}finally{if(s)throw l}}return{version:t,files:i}}sr.error("Can't parse ".concat(t," QST files."))}function ur(e){var t=e.files,n=t.map(function(e){return 88+1056*Math.ceil(e.data.size/1024)}).reduce(function(e,t){return e+t}),r=new cn(n,!0);if(function(e,t){var n=!0,r=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;if(s.name.length>16)throw Error("File ".concat(s.name," has a name longer than 16 characters."));e.writeU16(88),e.writeU16(68),e.writeU16(s.questNo||0);for(var l=0;l<38;++l)e.writeU8(0);e.writeStringAscii(s.name,16),e.writeU32(s.data.size);var u=void 0;if(null==s.name2){var c=s.name.lastIndexOf(".");u=-1===c?s.name+"_j":s.name.slice(0,c)+"_j"+s.name.slice(c)}else u=s.name2;if(u.length>24)throw Error("File ".concat(s.name," has a fileName2 length (").concat(u,") longer than 24 characters."));e.writeStringAscii(u,24)}}catch(d){r=!0,a=d}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}}(r,t),function(e,t){t=t.slice();var n=new Array(t.length).fill(0);for(;t.length;)for(var r=0;r<t.length;)cr(e,t[r].data,n[r]++,t[r].name)?++r:(t.splice(r,1),n.splice(r,1))}(r,t),r.size!==n)throw new Error("Expected a final file size of ".concat(n,", but got ").concat(r.size,"."));return r.seekStart(0)}function cr(e,t,n,r){e.writeU8Array([28,4,19,0]),e.writeU8(n),e.writeU8Array([0,0,0]),e.writeStringAscii(r,16);var a=Math.min(1024,t.bytesLeft);e.writeCursor(t.take(a));for(var i=a;i<1024;++i)e.writeU8(0);return e.writeU32(a),e.writeU32(0),!!t.bytesLeft}function dr(e,t,n,r){var a,i=new qe(e,t,n,[]),o=Array(r).fill(null).map(function(e,t){return new Ye(t,i)});return(a=i.areaVariants).splice.apply(a,[0,0].concat(Object(_.a)(o))),i}var pr=new(function(){function e(){Object(d.a)(this,e),this.areas=void 0,this.areas=[];var t=0;this.areas[1]=[dr(0,"Pioneer II",t++,1),dr(1,"Forest 1",t++,1),dr(2,"Forest 2",t++,1),dr(11,"Under the Dome",t++,1),dr(3,"Cave 1",t++,6),dr(4,"Cave 2",t++,5),dr(5,"Cave 3",t++,6),dr(12,"Underground Channel",t++,1),dr(6,"Mine 1",t++,6),dr(7,"Mine 2",t++,6),dr(13,"Monitor Room",t++,1),dr(8,"Ruins 1",t++,5),dr(9,"Ruins 2",t++,5),dr(10,"Ruins 3",t++,5),dr(14,"Dark Falz",t++,1),dr(15,"BA Ruins",t++,3),dr(16,"BA Spaceship",t++,3),dr(17,"Lobby",t++,15)],t=0,this.areas[2]=[dr(0,"Lab",t++,1),dr(1,"VR Temple Alpha",t++,3),dr(2,"VR Temple Beta",t++,3),dr(14,"VR Temple Final",t++,1),dr(3,"VR Spaceship Alpha",t++,3),dr(4,"VR Spaceship Beta",t++,3),dr(15,"VR Spaceship Final",t++,1),dr(5,"Central Control Area",t++,1),dr(6,"Jungle Area East",t++,1),dr(7,"Jungle Area North",t++,1),dr(8,"Mountain Area",t++,3),dr(9,"Seaside Area",t++,1),dr(12,"Cliffs of Gal Da Val",t++,1),dr(10,"Seabed Upper Levels",t++,3),dr(11,"Seabed Lower Levels",t++,3),dr(13,"Test Subject Disposal Area",t++,1),dr(16,"Seaside Area at Night",t++,1),dr(17,"Control Tower",t++,5)],t=0,this.areas[4]=[dr(0,"Pioneer II (Ep. IV)",t++,1),dr(1,"Crater Route 1",t++,1),dr(2,"Crater Route 2",t++,1),dr(3,"Crater Route 3",t++,1),dr(4,"Crater Route 4",t++,1),dr(5,"Crater Interior",t++,1),dr(6,"Subterranean Desert 1",t++,3),dr(7,"Subterranean Desert 2",t++,3),dr(8,"Subterranean Desert 3",t++,3),dr(9,"Meteor Impact Site",t++,1)]}return Object(p.a)(e,[{key:"getVariant",value:function(e,t,n){if(1!==e&&2!==e&&4!==e)throw new Error("Expected episode to be 1, 2 or 4, got ".concat(e,"."));var r=this.areas[e].find(function(e){return e.id===t});if(!r)throw new Error("Area id ".concat(t," for episode ").concat(e," is invalid."));var a=r.areaVariants[n];if(!a)throw new Error("Area variant id ".concat(n," for area ").concat(t," of episode ").concat(e," is invalid."));return a}}]),e}()),hr=l.a.get("bin-data/parsing/quest");function mr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=lr(e);if(n){var r=null,a=null,i=!0,o=!1,s=void 0;try{for(var l,u=n.files[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value,d=c.name.trim().toLowerCase();d.endsWith(".dat")?r=c:d.endsWith(".bin")&&(a=c)}}catch(f){o=!0,s=f}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}if(r){if(a){var p=function(e){for(var t=[],n=[],r=[];e.bytesLeft;){var a=e.u32(),i=e.u32(),o=e.u32(),s=e.u32();if(0===a)break;if(s!==i-16)throw Error("Malformed DAT file. Expected an entities size of ".concat(i-16,", got ").concat(s,"."));if(1===a){for(var l=Math.floor(s/$n),u=e.position,c=0;c<l;++c){var d=e.u16(),p=e.u8Array(10),h=e.u16(),m=e.u8Array(2),w=e.f32(),v=e.f32(),f=e.f32(),b=e.i32()/65535*2*Math.PI,y=e.i32()/65535*2*Math.PI,k=e.i32()/65535*2*Math.PI,g=e.u8Array(28);t.push({typeId:d,sectionId:h,position:{x:w,y:v,z:f},rotation:{x:b,y:y,z:k},areaId:o,unknown:[p,m,g]})}var R=e.position-u;R!==s&&(Xn.warn("Read ".concat(R," bytes instead of expected ").concat(s," for entity type ").concat(a," (Object).")),e.seek(s-R))}else if(2===a){for(var D=Math.floor(s/er),S=e.position,O=0;O<D;++O){var I=e.u16(),_=e.u8Array(10),C=e.u16(),j=e.u8Array(6),E=e.f32(),L=e.f32(),B=e.f32(),x=e.i32()/65535*2*Math.PI,M=e.i32()/65535*2*Math.PI,A=e.i32()/65535*2*Math.PI,T=e.u8Array(4),F=e.u32(),G=e.u8Array(12),P=e.u32(),U=e.u8Array(4);n.push({typeId:I,sectionId:C,position:{x:E,y:L,z:B},rotation:{x:x,y:M,z:A},skin:P,areaId:o,flags:F,unknown:[_,j,T,G,U]})}var z=e.position-S;z!==s&&(Xn.warn("Read ".concat(z," bytes instead of expected ").concat(s," for entity type ").concat(a," (NPC).")),e.seek(s-z))}else r.push({entityType:a,totalSize:i,areaId:o,entitiesSize:s,data:e.u8Array(s)})}return{objs:t,npcs:n,unknowns:r}}(Kn(r.data)),h=nr(Kn(a.data),t),m=1,w=[];if(h.functionOffsets.length){var v=function(e,t){var n=0,r=!1,a=[],i=!0,o=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;if(n===t&&(r=!0),r&&(a.push(c),1===c.opcode))break;n+=c.size}}catch(f){o=!0,s=f}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}return r?a:null}(h.instructions,h.functionOffsets[0]);v?w=function(e,t,n){var r=new Map,a=t.filter(function(e){return"BB_Map_Designate"===e.mnemonic}),i=!0,o=!1,s=void 0;try{for(var l,u=a[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value,d=c.args[0],p=c.args[2];r.set(d,p)}}catch(f){o=!0,s=f}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}var h=new Array,m=!0,w=!1,v=void 0;try{for(var b,y=r.entries()[Symbol.iterator]();!(m=(b=y.next()).done);m=!0){var k=b.value,g=Object(C.a)(k,2),R=g[0],D=g[1];try{h.push(pr.getVariant(e,R,D))}catch(S){if(!n)throw S;hr.error("Unknown area variant.",S)}}}catch(f){w=!0,v=f}finally{try{m||null==y.return||y.return()}finally{if(w)throw v}}return h.sort(function(e,t){return e.area.order-t.area.order||e.id-t.id})}(m=function(e){var t=e.find(function(e){return"set_episode"===e.mnemonic});if(!t)return hr.debug("Function 0 has no set_episode instruction."),1;switch(t.args[0]){default:case 0:return 1;case 1:return 2;case 2:return 4}}(v),v,t):hr.warn("Function 0 offset ".concat(h.functionOffsets[0]," is invalid."))}else hr.warn("File contains no functions.");return new We(h.questName,h.shortDescription,h.longDescription,r.questNo,m,w,p.objs.map(function(e){var t=e.position,n=t.x,r=t.y,a=t.z,i=e.rotation;return new He(e.areaId,e.sectionId,new Ue(n,r,a),new Ue(i.x,i.y,i.z),Re.fromPsoId(e.typeId),e)}),function(e,t){return t.map(function(t){var n=t.position,r=n.x,a=n.y,i=n.z,o=t.rotation;return new Ve(t.areaId,t.sectionId,new Ue(r,a,i),new Ue(o.x,o.y,o.z),function(e,t){var n=t.typeId,r=t.flags,a=t.skin,i=t.areaId,o=0===(8388608&r);switch("".concat(n,", ").concat(a%3,", ").concat(e)){case"".concat(68,", 0, 1"):return Z.Booma;case"".concat(68,", 1, 1"):return Z.Gobooma;case"".concat(68,", 2, 1"):return Z.Gigobooma;case"".concat(99,", 0, 1"):return Z.EvilShark;case"".concat(99,", 1, 1"):return Z.PalShark;case"".concat(99,", 2, 1"):return Z.GuilShark;case"".concat(166,", 0, 1"):return Z.Dimenian;case"".concat(166,", 0, 2"):return Z.Dimenian2;case"".concat(166,", 1, 1"):return Z.LaDimenian;case"".concat(166,", 1, 2"):return Z.LaDimenian2;case"".concat(166,", 2, 1"):return Z.SoDimenian;case"".concat(166,", 2, 2"):return Z.SoDimenian2;case"".concat(214,", 0, 2"):return Z.Mericarol;case"".concat(214,", 1, 2"):return Z.Mericus;case"".concat(214,", 2, 2"):return Z.Merikle;case"".concat(277,", 0, 4"):return Z.Boota;case"".concat(277,", 1, 4"):return Z.ZeBoota;case"".concat(277,", 2, 4"):return Z.BaBoota;case"".concat(279,", 0, 4"):return Z.Goran;case"".concat(279,", 1, 4"):return Z.PyroGoran;case"".concat(279,", 2, 4"):return Z.GoranDetonator}switch("".concat(n,", ").concat(a%2,", ").concat(e)){case"".concat(64,", 0, 1"):return Z.Hildebear;case"".concat(64,", 0, 2"):return Z.Hildebear2;case"".concat(64,", 1, 1"):return Z.Hildeblue;case"".concat(64,", 1, 2"):return Z.Hildeblue2;case"".concat(65,", 0, 1"):return Z.RagRappy;case"".concat(65,", 0, 2"):return Z.RagRappy2;case"".concat(65,", 0, 4"):return Z.SandRappy;case"".concat(65,", 1, 1"):return Z.AlRappy;case"".concat(65,", 1, 2"):return Z.LoveRappy;case"".concat(65,", 1, 4"):return Z.DelRappy;case"".concat(97,", 0, 1"):return i>15?Z.DelLily:Z.PoisonLily;case"".concat(97,", 0, 2"):return i>15?Z.DelLily:Z.PoisonLily2;case"".concat(97,", 1, 1"):return i>15?Z.DelLily:Z.NarLily;case"".concat(97,", 1, 2"):return i>15?Z.DelLily:Z.NarLily2;case"".concat(128,", 0, 1"):return Z.Dubchic;case"".concat(128,", 0, 2"):return Z.Dubchic2;case"".concat(128,", 1, 1"):return Z.Gilchic;case"".concat(128,", 1, 2"):return Z.Gilchic2;case"".concat(212,", 0, 2"):return Z.SinowBerill;case"".concat(212,", 1, 2"):return Z.SinowSpigell;case"".concat(213,", 0, 2"):return Z.Merillia;case"".concat(213,", 1, 2"):return Z.Meriltas;case"".concat(215,", 0, 2"):return Z.UlGibbon;case"".concat(215,", 1, 2"):return Z.ZolGibbon;case"".concat(221,", 0, 2"):return Z.Dolmolm;case"".concat(221,", 1, 2"):return Z.Dolmdarl;case"".concat(224,", 0, 2"):return i>15?Z.Epsilon:Z.SinowZoa;case"".concat(224,", 1, 2"):return i>15?Z.Epsilon:Z.SinowZele;case"".concat(274,", 0, 4"):return Z.MerissaA;case"".concat(274,", 1, 4"):return Z.MerissaAA;case"".concat(276,", 0, 4"):return Z.Zu;case"".concat(276,", 1, 4"):return Z.Pazuzu;case"".concat(278,", 0, 4"):return Z.Dorphon;case"".concat(278,", 1, 4"):return Z.DorphonEclair;case"".concat(281,", 0, 4"):return o?Z.SaintMilion:Z.Kondrieu;case"".concat(281,", 1, 4"):return o?Z.Shambertin:Z.Kondrieu}switch("".concat(n,", ").concat(e)){case"".concat(66,", 1"):return Z.Monest;case"".concat(66,", 2"):return Z.Monest2;case"".concat(67,", 1"):return o?Z.SavageWolf:Z.BarbarousWolf;case"".concat(67,", 2"):return o?Z.SavageWolf2:Z.BarbarousWolf2;case"".concat(96,", 1"):return Z.GrassAssassin;case"".concat(96,", 2"):return Z.GrassAssassin2;case"".concat(98,", 1"):return Z.NanoDragon;case"".concat(100,", 1"):return o?Z.PofuillySlime:Z.PouillySlime;case"".concat(101,", 1"):return Z.PanArms;case"".concat(101,", 2"):return Z.PanArms2;case"".concat(129,", 1"):return Z.Garanz;case"".concat(129,", 2"):return Z.Garanz2;case"".concat(130,", 1"):return o?Z.SinowBeat:Z.SinowGold;case"".concat(131,", 1"):return Z.Canadine;case"".concat(132,", 1"):return Z.Canane;case"".concat(133,", 1"):return Z.Dubswitch;case"".concat(133,", 2"):return Z.Dubswitch2;case"".concat(160,", 1"):return Z.Delsaber;case"".concat(160,", 2"):return Z.Delsaber2;case"".concat(161,", 1"):return Z.ChaosSorcerer;case"".concat(161,", 2"):return Z.ChaosSorcerer2;case"".concat(162,", 1"):return Z.DarkGunner;case"".concat(164,", 1"):return Z.ChaosBringer;case"".concat(165,", 1"):return Z.DarkBelra;case"".concat(165,", 2"):return Z.DarkBelra2;case"".concat(167,", 1"):return Z.Bulclaw;case"".concat(168,", 1"):return Z.Claw;case"".concat(192,", 1"):return Z.Dragon;case"".concat(192,", 2"):return Z.GalGryphon;case"".concat(193,", 1"):return Z.DeRolLe;case"".concat(197,", 1"):return Z.VolOpt;case"".concat(200,", 1"):return Z.DarkFalz;case"".concat(202,", 2"):return Z.OlgaFlow;case"".concat(203,", 2"):return Z.BarbaRay;case"".concat(204,", 2"):return Z.GolDragon;case"".concat(216,", 2"):return Z.Gibbles;case"".concat(217,", 2"):return Z.Gee;case"".concat(218,", 2"):return Z.GiGue;case"".concat(219,", 2"):return Z.Deldepth;case"".concat(220,", 2"):return Z.Delbiter;case"".concat(222,", 2"):return Z.Morfos;case"".concat(223,", 2"):return Z.Recobox;case"".concat(225,", 2"):return Z.IllGill;case"".concat(272,", 4"):return Z.Astark;case"".concat(273,", 4"):return o?Z.SatelliteLizard:Z.Yowie;case"".concat(275,", 4"):return Z.Girtablulu}switch(n){case 4:return Z.FemaleFat;case 5:return Z.FemaleMacho;case 7:return Z.FemaleTall;case 10:return Z.MaleDwarf;case 11:return Z.MaleFat;case 12:return Z.MaleMacho;case 13:return Z.MaleOld;case 25:return Z.BlueSoldier;case 26:return Z.RedSoldier;case 27:return Z.Principal;case 28:return Z.Tekker;case 29:return Z.GuildLady;case 30:return Z.Scientist;case 31:return Z.Nurse;case 32:return Z.Irene;case 241:return Z.ItemShop;case 254:return Z.Nurse2}return Z.Unknown}(e,t),t)})}(m,p.npcs),p.unknowns,h.data)}hr.error("File contains no BIN file.")}else hr.error("File contains no DAT file.")}}function wr(e,t){var n,r,a=function(e){var t=e.objs,n=e.npcs,r=e.unknowns,a=new cn(t.length*$n+n.length*er+1e3*r.length,!0),i=Object(Xe.groupBy)(t,function(e){return e.areaId}),o=Object.keys(i).map(function(e){return parseInt(e,10)}).sort(function(e,t){return e-t}),s=!0,l=!1,u=void 0;try{for(var c,d=o[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var p=c.value,h=i[p],m=h.length*$n;a.writeU32(1),a.writeU32(m+16),a.writeU32(p),a.writeU32(m);var w=!0,v=!1,f=void 0;try{for(var b,y=h[Symbol.iterator]();!(w=(b=y.next()).done);w=!0){var k=b.value;a.writeU16(k.typeId),a.writeU8Array(k.unknown[0]),a.writeU16(k.sectionId),a.writeU8Array(k.unknown[1]),a.writeF32(k.position.x),a.writeF32(k.position.y),a.writeF32(k.position.z),a.writeI32(Math.round(k.rotation.x/(2*Math.PI)*65535)),a.writeI32(Math.round(k.rotation.y/(2*Math.PI)*65535)),a.writeI32(Math.round(k.rotation.z/(2*Math.PI)*65535)),a.writeU8Array(k.unknown[2])}}catch(N){v=!0,f=N}finally{try{w||null==y.return||y.return()}finally{if(v)throw f}}}}catch(N){l=!0,u=N}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}var g=Object(Xe.groupBy)(n,function(e){return e.areaId}),R=Object.keys(g).map(function(e){return parseInt(e,10)}).sort(function(e,t){return e-t}),D=!0,S=!1,O=void 0;try{for(var I,_=R[Symbol.iterator]();!(D=(I=_.next()).done);D=!0){var C=I.value,j=g[C],E=j.length*er;a.writeU32(2),a.writeU32(E+16),a.writeU32(C),a.writeU32(E);var L=!0,B=!1,x=void 0;try{for(var M,A=j[Symbol.iterator]();!(L=(M=A.next()).done);L=!0){var T=M.value;a.writeU16(T.typeId),a.writeU8Array(T.unknown[0]),a.writeU16(T.sectionId),a.writeU8Array(T.unknown[1]),a.writeF32(T.position.x),a.writeF32(T.position.y),a.writeF32(T.position.z),a.writeI32(Math.round(T.rotation.x/(2*Math.PI)*65535)),a.writeI32(Math.round(T.rotation.y/(2*Math.PI)*65535)),a.writeI32(Math.round(T.rotation.z/(2*Math.PI)*65535)),a.writeU8Array(T.unknown[2]),a.writeU32(T.flags),a.writeU8Array(T.unknown[3]),a.writeU32(T.skin),a.writeU8Array(T.unknown[4])}}catch(N){B=!0,x=N}finally{try{L||null==A.return||A.return()}finally{if(B)throw x}}}}catch(N){S=!0,O=N}finally{try{D||null==_.return||_.return()}finally{if(S)throw O}}var F=!0,G=!1,P=void 0;try{for(var U,z=r[Symbol.iterator]();!(F=(U=z.next()).done);F=!0){var W=U.value;a.writeU32(W.entityType),a.writeU32(W.totalSize),a.writeU32(W.areaId),a.writeU32(W.entitiesSize),a.writeU8Array(W.data)}}catch(N){G=!0,P=N}finally{try{F||null==z.return||z.return()}finally{if(G)throw P}}return a.writeU32(0),a.writeU32(0),a.writeU32(0),a.writeU32(0),a.seekStart(0),a}({objs:(r=e.objects,r.map(function(e){return{typeId:e.type.psoId,sectionId:e.sectionId,position:e.sectionPosition,rotation:e.rotation,areaId:e.areaId,unknown:e.dat.unknown}})),npcs:(n=e.npcs,n.map(function(e){var t=function(e){switch(e){default:throw new Error("Unexpected type ".concat(e.code,"."));case Z.Unknown:return null;case Z.FemaleFat:return{typeId:4,skin:0,regular:!0};case Z.FemaleMacho:return{typeId:5,skin:0,regular:!0};case Z.FemaleTall:return{typeId:7,skin:0,regular:!0};case Z.MaleDwarf:return{typeId:10,skin:0,regular:!0};case Z.MaleFat:return{typeId:11,skin:0,regular:!0};case Z.MaleMacho:return{typeId:12,skin:0,regular:!0};case Z.MaleOld:return{typeId:13,skin:0,regular:!0};case Z.BlueSoldier:return{typeId:25,skin:0,regular:!0};case Z.RedSoldier:return{typeId:26,skin:0,regular:!0};case Z.Principal:return{typeId:27,skin:0,regular:!0};case Z.Tekker:return{typeId:28,skin:0,regular:!0};case Z.GuildLady:return{typeId:29,skin:0,regular:!0};case Z.Scientist:return{typeId:30,skin:0,regular:!0};case Z.Nurse:return{typeId:31,skin:0,regular:!0};case Z.Irene:return{typeId:32,skin:0,regular:!0};case Z.ItemShop:return{typeId:241,skin:0,regular:!0};case Z.Nurse2:return{typeId:254,skin:0,regular:!0};case Z.Hildebear:return{typeId:64,skin:0,regular:!0};case Z.Hildeblue:return{typeId:64,skin:1,regular:!0};case Z.RagRappy:return{typeId:65,skin:0,regular:!0};case Z.AlRappy:return{typeId:65,skin:1,regular:!0};case Z.Monest:return{typeId:66,skin:0,regular:!0};case Z.SavageWolf:return{typeId:67,skin:0,regular:!0};case Z.BarbarousWolf:return{typeId:67,skin:0,regular:!1};case Z.Booma:return{typeId:68,skin:0,regular:!0};case Z.Gobooma:return{typeId:68,skin:1,regular:!0};case Z.Gigobooma:return{typeId:68,skin:2,regular:!0};case Z.Dragon:return{typeId:192,skin:0,regular:!0};case Z.GrassAssassin:return{typeId:96,skin:0,regular:!0};case Z.PoisonLily:return{typeId:97,skin:0,regular:!0};case Z.NarLily:return{typeId:97,skin:1,regular:!0};case Z.NanoDragon:return{typeId:98,skin:0,regular:!0};case Z.EvilShark:return{typeId:99,skin:0,regular:!0};case Z.PalShark:return{typeId:99,skin:1,regular:!0};case Z.GuilShark:return{typeId:99,skin:2,regular:!0};case Z.PofuillySlime:return{typeId:100,skin:0,regular:!0};case Z.PouillySlime:return{typeId:100,skin:0,regular:!1};case Z.PanArms:return{typeId:101,skin:0,regular:!0};case Z.DeRolLe:return{typeId:193,skin:0,regular:!0};case Z.Dubchic:return{typeId:128,skin:0,regular:!0};case Z.Gilchic:return{typeId:128,skin:1,regular:!0};case Z.Garanz:return{typeId:129,skin:0,regular:!0};case Z.SinowBeat:return{typeId:130,skin:0,regular:!0};case Z.SinowGold:return{typeId:130,skin:0,regular:!1};case Z.Canadine:return{typeId:131,skin:0,regular:!0};case Z.Canane:return{typeId:132,skin:0,regular:!0};case Z.Dubswitch:return{typeId:133,skin:0,regular:!0};case Z.VolOpt:return{typeId:197,skin:0,regular:!0};case Z.Delsaber:return{typeId:160,skin:0,regular:!0};case Z.ChaosSorcerer:return{typeId:161,skin:0,regular:!0};case Z.DarkGunner:return{typeId:162,skin:0,regular:!0};case Z.ChaosBringer:return{typeId:164,skin:0,regular:!0};case Z.DarkBelra:return{typeId:165,skin:0,regular:!0};case Z.Dimenian:return{typeId:166,skin:0,regular:!0};case Z.LaDimenian:return{typeId:166,skin:1,regular:!0};case Z.SoDimenian:return{typeId:166,skin:2,regular:!0};case Z.Bulclaw:return{typeId:167,skin:0,regular:!0};case Z.Claw:return{typeId:168,skin:0,regular:!0};case Z.DarkFalz:return{typeId:200,skin:0,regular:!0};case Z.Hildebear2:return{typeId:64,skin:0,regular:!0};case Z.Hildeblue2:return{typeId:64,skin:1,regular:!0};case Z.RagRappy2:return{typeId:65,skin:0,regular:!0};case Z.LoveRappy:return{typeId:65,skin:1,regular:!0};case Z.Monest2:return{typeId:66,skin:0,regular:!0};case Z.PoisonLily2:return{typeId:97,skin:0,regular:!0};case Z.NarLily2:return{typeId:97,skin:1,regular:!0};case Z.GrassAssassin2:return{typeId:96,skin:0,regular:!0};case Z.Dimenian2:return{typeId:166,skin:0,regular:!0};case Z.LaDimenian2:return{typeId:166,skin:1,regular:!0};case Z.SoDimenian2:return{typeId:166,skin:2,regular:!0};case Z.DarkBelra2:return{typeId:165,skin:0,regular:!0};case Z.BarbaRay:return{typeId:203,skin:0,regular:!0};case Z.SavageWolf2:return{typeId:67,skin:0,regular:!0};case Z.BarbarousWolf2:return{typeId:67,skin:0,regular:!1};case Z.PanArms2:return{typeId:101,skin:0,regular:!0};case Z.Dubchic2:return{typeId:128,skin:0,regular:!0};case Z.Gilchic2:return{typeId:128,skin:1,regular:!0};case Z.Garanz2:return{typeId:129,skin:0,regular:!0};case Z.Dubswitch2:return{typeId:133,skin:0,regular:!0};case Z.Delsaber2:return{typeId:160,skin:0,regular:!0};case Z.ChaosSorcerer2:return{typeId:161,skin:0,regular:!0};case Z.GolDragon:return{typeId:204,skin:0,regular:!0};case Z.SinowBerill:return{typeId:212,skin:0,regular:!0};case Z.SinowSpigell:return{typeId:212,skin:1,regular:!0};case Z.Merillia:return{typeId:213,skin:0,regular:!0};case Z.Meriltas:return{typeId:213,skin:1,regular:!0};case Z.Mericarol:return{typeId:214,skin:0,regular:!0};case Z.Mericus:return{typeId:214,skin:1,regular:!0};case Z.Merikle:return{typeId:214,skin:2,regular:!0};case Z.UlGibbon:return{typeId:215,skin:0,regular:!0};case Z.ZolGibbon:return{typeId:215,skin:1,regular:!0};case Z.Gibbles:return{typeId:216,skin:0,regular:!0};case Z.Gee:return{typeId:217,skin:0,regular:!0};case Z.GiGue:return{typeId:218,skin:0,regular:!0};case Z.GalGryphon:return{typeId:192,skin:0,regular:!0};case Z.Deldepth:return{typeId:219,skin:0,regular:!0};case Z.Delbiter:return{typeId:220,skin:0,regular:!0};case Z.Dolmolm:return{typeId:221,skin:0,regular:!0};case Z.Dolmdarl:return{typeId:221,skin:1,regular:!0};case Z.Morfos:return{typeId:222,skin:0,regular:!0};case Z.Recobox:return{typeId:223,skin:0,regular:!0};case Z.Epsilon:case Z.SinowZoa:return{typeId:224,skin:0,regular:!0};case Z.SinowZele:return{typeId:224,skin:1,regular:!0};case Z.IllGill:return{typeId:225,skin:0,regular:!0};case Z.DelLily:return{typeId:97,skin:0,regular:!0};case Z.OlgaFlow:return{typeId:202,skin:0,regular:!0};case Z.SandRappy:return{typeId:65,skin:0,regular:!0};case Z.DelRappy:return{typeId:65,skin:1,regular:!0};case Z.Astark:return{typeId:272,skin:0,regular:!0};case Z.SatelliteLizard:return{typeId:273,skin:0,regular:!0};case Z.Yowie:return{typeId:273,skin:0,regular:!1};case Z.MerissaA:return{typeId:274,skin:0,regular:!0};case Z.MerissaAA:return{typeId:274,skin:1,regular:!0};case Z.Girtablulu:return{typeId:275,skin:0,regular:!0};case Z.Zu:return{typeId:276,skin:0,regular:!0};case Z.Pazuzu:return{typeId:276,skin:1,regular:!0};case Z.Boota:return{typeId:277,skin:0,regular:!0};case Z.ZeBoota:return{typeId:277,skin:1,regular:!0};case Z.BaBoota:return{typeId:277,skin:2,regular:!0};case Z.Dorphon:return{typeId:278,skin:0,regular:!0};case Z.DorphonEclair:return{typeId:278,skin:1,regular:!0};case Z.Goran:return{typeId:279,skin:0,regular:!0};case Z.PyroGoran:return{typeId:279,skin:1,regular:!0};case Z.GoranDetonator:return{typeId:279,skin:2,regular:!0};case Z.SaintMilion:return{typeId:281,skin:0,regular:!0};case Z.Shambertin:return{typeId:281,skin:1,regular:!0};case Z.Kondrieu:return{typeId:281,skin:0,regular:!1}}}(e.type),n=e.dat.flags;return t&&(n=-8388609&e.dat.flags|(t.regular?0:8388608)),{typeId:t?t.typeId:e.dat.typeId,sectionId:e.sectionId,position:e.sectionPosition,rotation:e.rotation,flags:n,skin:t?t.skin:e.dat.skin,areaId:e.areaId,unknown:e.dat.unknown}})),unknowns:e.datUnkowns}),i={data:e.binData}.data.seekStart(0),o=t.lastIndexOf("."),s=-1===o?t:t.slice(0,o);return ur({files:[{name:s+".dat",questNo:e.questNo,data:Nn(a)},{name:s+".bin",questNo:e.questNo,data:Nn(i)}]})}var vr,fr,br,yr,kr,gr=16776960,Rr=16711680;function Dr(e,t){return Or(e,t,gr,"Object")}function Sr(e,t){return Or(e,t,Rr,"NPC")}function Or(e,t,n,r){var a=new yn.Mesh(t,new yn.MeshLambertMaterial({color:n,side:yn.DoubleSide}));return a.name=r,a.userData.entity=e,Object(M.c)(function(){var t=e.position,n=t.x,r=t.y,i=t.z;a.position.set(n,r,i);var o=e.rotation;a.rotation.set(o.x,o.y,o.z)}),a}function Ir(e){return e&&new yn.Mesh(e,new yn.MeshLambertMaterial({color:16711935,side:yn.DoubleSide}))}var _r,Cr,jr=l.a.get("stores/QuestEditorStore"),Er=new(vr=function(){function e(){var t=this;Object(d.a)(this,e),Object(E.a)(this,"currentModel",fr,this),Object(E.a)(this,"currentQuest",br,this),Object(E.a)(this,"currentArea",yr,this),Object(E.a)(this,"selectedEntity",kr,this),this.setModel=Object(M.b)("setModel",function(e){t.resetModelAndQuestState(),t.currentModel=e}),this.setQuest=Object(M.b)("setQuest",function(e){t.resetModelAndQuestState(),t.currentQuest=e,e&&e.areaVariants.length&&(t.currentArea=e.areaVariants[0].area)}),this.setSelectedEntity=function(e){t.selectedEntity=e},this.setCurrentAreaId=Object(M.b)("setCurrentAreaId",function(e){if(t.selectedEntity=void 0,null==e)t.currentArea=void 0;else if(t.currentQuest){var n=t.currentQuest.areaVariants.find(function(t){return t.area.id===e});t.currentArea=n&&n.area}}),this.loadFile=function(e){var n=new FileReader;n.addEventListener("loadend",function(){t.loadend(e,n)}),n.readAsArrayBuffer(e)},this.loadend=function(){var e=Object(j.a)(I.a.mark(function e(n,r){var a,i,o,s,l,u,c;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.result instanceof ArrayBuffer){e.next=3;break}return jr.error("Couldn't read file."),e.abrupt("return");case 3:if(!n.name.endsWith(".nj")){e.next=7;break}t.setModel(Ir(An(new cn(r.result,!0)))),e.next=42;break;case 7:if(!n.name.endsWith(".xj")){e.next=11;break}t.setModel(Ir(Tn(new cn(r.result,!0)))),e.next=42;break;case 11:if(a=mr(new cn(r.result,!0)),t.setQuest(a),!a){e.next=41;break}i=!0,o=!1,s=void 0,e.prev=17,l=I.a.mark(function e(){var n,r,i,o,s,l,u,d,p,h,m,w,v,f,b,y;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.value,e.next=3,In(a.episode,n.area.id,n.id);case 3:r=e.sent,n.sections=r,i=!0,o=!1,s=void 0,e.prev=8,l=a.objects.filter(function(e){return e.areaId===n.area.id})[Symbol.iterator]();case 10:if(i=(u=l.next()).done){e.next=26;break}return d=u.value,e.prev=12,e.next=15,Wn(d.type);case 15:p=e.sent,t.setSectionOnVisibleQuestEntity(d,r),d.object3d=Dr(d,p),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(12),jr.error(e.t0);case 23:i=!0,e.next=10;break;case 26:e.next=32;break;case 28:e.prev=28,e.t1=e.catch(8),o=!0,s=e.t1;case 32:e.prev=32,e.prev=33,i||null==l.return||l.return();case 35:if(e.prev=35,!o){e.next=38;break}throw s;case 38:return e.finish(35);case 39:return e.finish(32);case 40:h=!0,m=!1,w=void 0,e.prev=43,v=a.npcs.filter(function(e){return e.areaId===n.area.id})[Symbol.iterator]();case 45:if(h=(f=v.next()).done){e.next=61;break}return b=f.value,e.prev=47,e.next=50,zn(b.type);case 50:y=e.sent,t.setSectionOnVisibleQuestEntity(b,r),b.object3d=Sr(b,y),e.next=58;break;case 55:e.prev=55,e.t2=e.catch(47),jr.error(e.t2);case 58:h=!0,e.next=45;break;case 61:e.next=67;break;case 63:e.prev=63,e.t3=e.catch(43),m=!0,w=e.t3;case 67:e.prev=67,e.prev=68,h||null==v.return||v.return();case 70:if(e.prev=70,!m){e.next=73;break}throw w;case 73:return e.finish(70);case 74:return e.finish(67);case 75:case"end":return e.stop()}},e,null,[[8,28,32,40],[12,20],[33,,35,39],[43,63,67,75],[47,55],[68,,70,74]])}),u=a.areaVariants[Symbol.iterator]();case 20:if(i=(c=u.next()).done){e.next=25;break}return e.delegateYield(l(),"t0",22);case 22:i=!0,e.next=20;break;case 25:e.next=31;break;case 27:e.prev=27,e.t1=e.catch(17),o=!0,s=e.t1;case 31:e.prev=31,e.prev=32,i||null==u.return||u.return();case 34:if(e.prev=34,!o){e.next=37;break}throw s;case 37:return e.finish(34);case 38:return e.finish(31);case 39:e.next=42;break;case 41:jr.error("Couldn't parse quest file.");case 42:case"end":return e.stop()}},e,null,[[17,27,31,39],[32,,34,38]])}));return function(t,n){return e.apply(this,arguments)}}(),this.setSectionOnVisibleQuestEntity=function(){var e=Object(j.a)(I.a.mark(function e(t,n){var r,a,i,o,s,l,u,c,d,p,h;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.position,a=r.x,i=r.y,o=r.z,s=n.find(function(e){return e.id===t.sectionId}),t.section=s,s?(l=s.position,u=l.x,c=l.y,d=l.z,p=s.cosYAxisRotation*a+s.sinYAxisRotation*o,h=-s.sinYAxisRotation*a+s.cosYAxisRotation*o,a=p+u,i+=c,o=h+d):jr.warn("Section ".concat(t.sectionId," not found.")),t.position=new Ue(a,i,o);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),this.saveCurrentQuestToFile=function(e){if(t.currentQuest){var n=wr(t.currentQuest,e);e.endsWith(".qst")||(e+=".qst");var r=document.createElement("a");r.href=URL.createObjectURL(new Blob([n.buffer])),r.download=e,document.body.appendChild(r),r.click(),URL.revokeObjectURL(r.href),document.body.removeChild(r)}}}return Object(p.a)(e,[{key:"resetModelAndQuestState",value:function(){this.currentQuest=void 0,this.currentArea=void 0,this.selectedEntity=void 0,this.currentModel=void 0}}]),e}(),fr=Object(L.a)(vr.prototype,"currentModel",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),br=Object(L.a)(vr.prototype,"currentQuest",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yr=Object(L.a)(vr.prototype,"currentArea",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kr=Object(L.a)(vr.prototype,"selectedEntity",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vr),Lr=(n(375),Object(v.a)(_r=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.entity;if(e){var t=e.section?e.section.id:e.sectionId,n=null;return e instanceof He?n=a.a.createElement("tr",null,a.a.createElement("td",null,"Object: "),a.a.createElement("td",{colSpan:2},e.type.name)):e instanceof Ve&&(n=a.a.createElement("tr",null,a.a.createElement("td",null,"NPC: "),a.a.createElement("td",null,e.type.name))),a.a.createElement("div",{className:"EntityInfoComponent-container"},a.a.createElement("table",{className:"EntityInfoComponent-table"},a.a.createElement("tbody",null,n,a.a.createElement("tr",null,a.a.createElement("td",null,"Section: "),a.a.createElement("td",null,t)),a.a.createElement("tr",null,a.a.createElement("td",{colSpan:2},"World position: ")),a.a.createElement("tr",null,a.a.createElement("td",{colSpan:2},a.a.createElement("table",null,a.a.createElement("tbody",null,a.a.createElement(Br,{entity:e,positionType:"position",coord:"x"}),a.a.createElement(Br,{entity:e,positionType:"position",coord:"y"}),a.a.createElement(Br,{entity:e,positionType:"position",coord:"z"}))))),a.a.createElement("tr",null,a.a.createElement("td",{colSpan:2},"Section position: ")),a.a.createElement("tr",null,a.a.createElement("td",{colSpan:2},a.a.createElement("table",null,a.a.createElement("tbody",null,a.a.createElement(Br,{entity:e,positionType:"sectionPosition",coord:"x"}),a.a.createElement(Br,{entity:e,positionType:"sectionPosition",coord:"y"}),a.a.createElement(Br,{entity:e,positionType:"sectionPosition",coord:"z"}))))))))}return a.a.createElement("div",{className:"EntityInfoComponent-container"})}}]),t}(a.a.Component))||_r),Br=Object(v.a)(Cr=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).changed=function(e){if(null!=e){var t=n.props.entity,r=n.props.positionType,a=t[r].clone();a[n.props.coord]=e,t[r]=a}},n}return Object(w.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.entity[this.props.positionType][this.props.coord];return a.a.createElement("tr",null,a.a.createElement("td",null,this.props.coord.toUpperCase(),": "),a.a.createElement("td",null,a.a.createElement(g.a,{value:e,size:"small",precision:3,className:"EntityInfoComponent-coord",onChange:this.changed})))}}]),t}(a.a.Component))||Cr;n(376),n(377);function xr(e){var t=e.quest;if(t){var n=4===t.episode?"IV":2===t.episode?"II":"I",r=new Map,i=!0,o=!1,s=void 0;try{for(var l,u=t.npcs[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value,d=r.get(c.type)||0;r.set(c.type,d+1)}}catch(m){o=!0,s=m}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}var p=8*(r.get(Z.Canane)||0),h=Object(_.a)(r).sort(function(e,t){return e[0].id-t[0].id}).map(function(e){var t=Object(C.a)(e,2),n=t[0],r=t[1],i=n===Z.Canadine?p:0;return a.a.createElement("tr",{key:n.id},a.a.createElement("td",null,n.name,":"),a.a.createElement("td",null,r+i))});return a.a.createElement("div",{className:"qe-QuestInfoComponent"},a.a.createElement("table",null,a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Name:"),a.a.createElement("td",null,t.name)),a.a.createElement("tr",null,a.a.createElement("th",null,"Episode:"),a.a.createElement("td",null,n)),a.a.createElement("tr",null,a.a.createElement("td",{colSpan:2},a.a.createElement("pre",null,t.shortDescription))),a.a.createElement("tr",null,a.a.createElement("td",{colSpan:2},a.a.createElement("pre",null,t.longDescription))))),a.a.createElement("div",{className:"qe-QuestInfoComponent-npc-counts-container"},a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{colSpan:2},"NPC Counts"))),a.a.createElement("tbody",null,h))))}return a.a.createElement("div",{className:"qe-QuestInfoComponent"})}var Mr,Ar=n(215),Tr=n.n(Ar)()(yn);var Fr,Gr,Pr,Ur,zr,Wr,Nr,Hr,Vr,qr,Yr,Zr,Qr,Kr=function(){function e(){var t=this;Object(d.a)(this,e),this.renderer=new yn.WebGLRenderer({antialias:!0}),this.camera=void 0,this.controls=void 0,this.raycaster=new yn.Raycaster,this.scene=new yn.Scene,this.quest=void 0,this.questEntitiesLoaded=!1,this.area=void 0,this.objs=new Map,this.npcs=new Map,this.collisionGeometry=new yn.Object3D,this.renderGeometry=new yn.Object3D,this.objGeometry=new yn.Object3D,this.npcGeometry=new yn.Object3D,this.hoveredData=void 0,this.selectedData=void 0,this.model=void 0,this.renderLoop=function(){t.controls.update(),t.addLoadedEntities(),t.renderer.render(t.scene,t.camera),requestAnimationFrame(t.renderLoop)},this.onMouseDown=function(e){var n=t.selectedData,r=t.pickEntity(t.pointerPosToDeviceCoords(e));!t.hoveredData||r&&r.object===t.hoveredData.object||t.hoveredData.object.material.color.set(t.getColor(t.hoveredData.entity,"normal")),!t.selectedData||r&&r.object===t.selectedData.object||(t.selectedData.object.material.color.set(t.getColor(t.selectedData.entity,"normal")),t.selectedData.manipulating=!1),r?(r.object.material.color.set(t.getColor(r.entity,"selected")),r.manipulating=!0,t.hoveredData=r,t.selectedData=r,t.controls.enabled=!1):(t.hoveredData=void 0,t.selectedData=void 0,t.controls.enabled=!0),(n&&r?n.object!==r.object:n!==r)&&Er.setSelectedEntity(r&&r.entity)},this.onMouseUp=function(){t.selectedData&&(t.selectedData.manipulating=!1,t.controls.enabled=!0)},this.onMouseMove=function(e){var n=t.pointerPosToDeviceCoords(e);if(t.selectedData&&t.selectedData.manipulating){if(1===e.buttons){var r=t.selectedData;if(e.shiftKey){t.raycaster.setFromCamera(n,t.camera);var a=t.raycaster.ray,i=t.camera.getWorldDirection(new yn.Vector3).negate(),o=(new yn.Plane).setFromNormalAndCoplanarPoint(new yn.Vector3(i.x,0,i.z).normalize(),r.object.position.sub(r.grabOffset)),s=new yn.Vector3;if(a.intersectPlane(o,s)){var l=s.y+r.grabOffset.y,u=l-r.entity.position.y;r.dragY+=u,r.dragAdjust.y-=u,r.entity.position=new Ue(r.entity.position.x,l,r.entity.position.z)}}else{var c=t.pickTerrain(n,r),d=c.intersection,p=c.section;if(d)r.entity.position=new Ue(d.point.x,d.point.y+r.dragY,d.point.z),r.entity.section=p;else{t.raycaster.setFromCamera(n,t.camera);var h=t.raycaster.ray,m=new yn.Plane(new yn.Vector3(0,1,0),-r.entity.position.y+r.grabOffset.y),w=new yn.Vector3;h.intersectPlane(m,w)&&(r.entity.position=new Ue(w.x+r.grabOffset.x,r.entity.position.y,w.z+r.grabOffset.z))}}}}else{var v=t.hoveredData,f=t.pickEntity(n);!v||f&&f.object===v.object||(t.selectedData&&v.object===t.selectedData.object||v.object.material.color.set(t.getColor(v.entity,"normal")),t.hoveredData=void 0),!f||v&&f.object===v.object||(t.selectedData&&f.object===t.selectedData.object||f.object.material.color.set(t.getColor(f.entity,"hover")),t.hoveredData=f)}},this.renderer.domElement.addEventListener("mousedown",this.onMouseDown),this.renderer.domElement.addEventListener("mouseup",this.onMouseUp),this.renderer.domElement.addEventListener("mousemove",this.onMouseMove),this.camera=new yn.PerspectiveCamera(75,1,.1,5e3),this.controls=new Tr(this.camera,this.renderer.domElement),this.controls.mouseButtons.ORBIT=yn.MOUSE.RIGHT,this.controls.mouseButtons.PAN=yn.MOUSE.LEFT,this.scene.background=new yn.Color(1383457),this.scene.add(new yn.HemisphereLight(16777215,5263440,1)),this.scene.add(this.objGeometry),this.scene.add(this.npcGeometry),requestAnimationFrame(this.renderLoop)}return Object(p.a)(e,[{key:"setSize",value:function(e,t){this.renderer.setSize(e,t),this.camera.aspect=e/t,this.camera.updateProjectionMatrix()}},{key:"setQuestAndArea",value:function(e,t){var n=!1;if(this.area!==t&&(this.area=t,n=!0),this.quest!==e){if(this.quest=e,this.objs.clear(),this.npcs.clear(),e){var r=!0,a=!1,i=void 0;try{for(var o,s=e.objects[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value,u=this.objs.get(l.areaId)||[];u.push(l),this.objs.set(l.areaId,u)}}catch(f){a=!0,i=f}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}var c=!0,d=!1,p=void 0;try{for(var h,m=e.npcs[Symbol.iterator]();!(c=(h=m.next()).done);c=!0){var w=h.value,v=this.npcs.get(w.areaId)||[];v.push(w),this.npcs.set(w.areaId,v)}}catch(f){d=!0,p=f}finally{try{c||null==m.return||m.return()}finally{if(d)throw p}}}n=!0}n&&this.updateGeometry()}},{key:"setModel",value:function(e){this.model!==e&&(this.model&&this.scene.remove(this.model),e&&(this.setQuestAndArea(void 0,void 0),this.scene.add(e),this.resetCamera()),this.model=e)}},{key:"updateGeometry",value:function(){var e=this;if(this.scene.remove(this.objGeometry),this.scene.remove(this.npcGeometry),this.objGeometry=new yn.Object3D,this.npcGeometry=new yn.Object3D,this.scene.add(this.objGeometry),this.scene.add(this.npcGeometry),this.questEntitiesLoaded=!1,this.scene.remove(this.collisionGeometry),this.quest&&this.area){var t=this.quest.episode,n=this.area.id,r=this.quest.areaVariants.find(function(e){return e.area.id===n}),a=r&&r.id||0;_n(t,n,a).then(function(t){e.quest&&e.area&&(e.setModel(void 0),e.scene.remove(e.collisionGeometry),e.resetCamera(),e.collisionGeometry=t,e.scene.add(t))}),function(e,t,n){var r=Sn.get("".concat(e,"-").concat(t,"-").concat(n));return r||Cn(e,t,n).then(function(e){return e.object3d})}(t,n,a).then(function(t){e.quest&&e.area&&(e.renderGeometry=t)})}}},{key:"resetCamera",value:function(){this.controls.reset(),this.camera.position.set(0,800,700),this.camera.lookAt(new yn.Vector3(0,0,0))}},{key:"addLoadedEntities",value:function(){if(this.quest&&this.area&&!this.questEntitiesLoaded){var e=!0,t=!0,n=!1,r=void 0;try{for(var a,i=this.quest.objects[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;o.areaId===this.area.id&&(o.object3d?this.objGeometry.add(o.object3d):e=!1)}}catch(h){n=!0,r=h}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}var s=!0,l=!1,u=void 0;try{for(var c,d=this.quest.npcs[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var p=c.value;p.areaId===this.area.id&&(p.object3d?this.npcGeometry.add(p.object3d):e=!1)}}catch(h){l=!0,u=h}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}this.questEntitiesLoaded=e}}},{key:"pointerPosToDeviceCoords",value:function(e){var t=new yn.Vector2;return this.renderer.getSize(t),t.width=e.offsetX/t.width*2-1,t.height=e.offsetY/t.height*-2+1,t}},{key:"pickEntity",value:function(e){this.raycaster.setFromCamera(e,this.camera);var t=this.raycaster.intersectObjects(this.objGeometry.children),n=Object(C.a)(t,1)[0],r=this.raycaster.intersectObjects(this.npcGeometry.children),a=Object(C.a)(r,1)[0];if(n||a){var i=(n?n.distance:1/0)<(a?a.distance:1/0)?n:a,o=i.object.userData.entity,s=i.object.position.clone().sub(i.point),l=s.clone(),u=0;this.raycaster.set(i.object.position,new yn.Vector3(0,-1,0));var c=this.raycaster.intersectObjects(this.collisionGeometry.children,!0),d=Object(C.a)(c,1)[0];return d&&(l.sub(new yn.Vector3(0,d.distance,0)),u+=d.distance),{object:i.object,entity:o,grabOffset:s,dragAdjust:l,dragY:u,manipulating:!1}}}},{key:"pickTerrain",value:function(e,t){this.raycaster.setFromCamera(e,this.camera),this.raycaster.ray.origin.add(t.dragAdjust);var n=this.raycaster.intersectObjects(this.collisionGeometry.children,!0),r=!0,a=!1,i=void 0;try{for(var o,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;if(l.face.normal.y>.75){this.raycaster.set(l.point.clone().setY(1e3),new yn.Vector3(0,-1,0));var u=this.raycaster.intersectObjects(this.renderGeometry.children,!0).filter(function(e){return e.object.userData.section.id>=0});return{intersection:l,section:u[0]&&u[0].object.userData.section}}}}catch(c){a=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return{}}},{key:"getColor",value:function(e,t){var n=e instanceof Ve;switch(t){default:case"normal":return n?Rr:gr;case"hover":return n?16727903:16768831;case"selected":return n?16711764:16755200}}},{key:"domElement",get:function(){return this.renderer.domElement}}]),e}(),Jr=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).renderer=(Mr||(Mr=new Kr),Mr),n.modifyDom=function(e){e&&(n.renderer.setSize(e.clientWidth,e.clientHeight),e.appendChild(n.renderer.domElement))},n.onResize=function(){var e=n.renderer.domElement.parentNode;n.renderer.setSize(e.clientWidth,e.clientHeight)},n}return Object(w.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{style:{overflow:"hidden"},ref:this.modifyDom})}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"componentWillReceiveProps",value:function(e){var t=e.quest,n=e.area,r=e.model;r?this.renderer.setModel(r):this.renderer.setQuestAndArea(t,n)}},{key:"shouldComponentUpdate",value:function(){return!1}}]),t}(a.a.Component),Xr=Object(v.a)(Fr=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).state={saveDialogOpen:!1,saveDialogFilename:"Untitled"},n.saveAsClicked=function(e){var t=e?e.endsWith(".qst")?e.slice(0,-4):e:n.state.saveDialogFilename;n.setState({saveDialogOpen:!0,saveDialogFilename:t})},n.saveDialogFilenameChanged=function(e){n.setState({saveDialogFilename:e})},n.saveDialogAffirmed=function(){Er.saveCurrentQuestToFile(n.state.saveDialogFilename),n.setState({saveDialogOpen:!1})},n.saveDialogCancelled=function(){n.setState({saveDialogOpen:!1})},n}return Object(w.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=Er.currentQuest,t=Er.currentModel,n=Er.currentArea;return a.a.createElement("div",{className:"qe-QuestEditorComponent"},a.a.createElement($r,{onSaveAsClicked:this.saveAsClicked}),a.a.createElement("div",{className:"qe-QuestEditorComponent-main"},a.a.createElement(xr,{quest:e}),a.a.createElement(Jr,{quest:e,area:n,model:t}),a.a.createElement(Lr,{entity:Er.selectedEntity})),a.a.createElement(ea,{isOpen:this.state.saveDialogOpen,filename:this.state.saveDialogFilename,onFilenameChange:this.saveDialogFilenameChanged,onOk:this.saveDialogAffirmed,onCancel:this.saveDialogCancelled}))}}]),t}(a.a.Component))||Fr,$r=Object(v.a)(Gr=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).state={filename:void 0},n.setFilename=function(e){e.file.originFileObj&&(n.setState({filename:e.file.name}),Er.loadFile(e.file.originFileObj))},n.saveAsClicked=function(){n.props.onSaveAsClicked(n.state.filename)},n}return Object(w.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=Er.currentQuest,t=e&&Array.from(e.areaVariants).map(function(e){return e.area}),n=Er.currentArea,r=n&&n.id;return a.a.createElement("div",{className:"qe-QuestEditorComponent-toolbar"},a.a.createElement(tn.a,{accept:".nj, .qst, .xj",showUploadList:!1,onChange:this.setFilename,customRequest:function(){return!1}},a.a.createElement(D.a,{icon:"file"},this.state.filename||"Choose file...")),t&&a.a.createElement(u.a,{onChange:Er.setCurrentAreaId,value:r,style:{width:200}},t.map(function(e){return a.a.createElement(u.a.Option,{key:e.id,value:e.id},e.name)})),e&&a.a.createElement(D.a,{icon:"save",onClick:this.saveAsClicked},"Save as..."))}}]),t}(a.a.Component))||Gr,ea=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).nameChanged=function(e){n.props.onFilenameChange(e.currentTarget.value)},n}return Object(w.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return a.a.createElement(Jt.a,{title:a.a.createElement(a.a.Fragment,null,a.a.createElement(en.a,{type:"save"})," Save as..."),visible:this.props.isOpen,onOk:this.props.onOk,onCancel:this.props.onCancel},a.a.createElement(Xt.a,{layout:"vertical"},a.a.createElement(Xt.a.Item,{label:"Name"},a.a.createElement($t.a,{autoFocus:!0,maxLength:12,value:this.props.filename,onChange:this.nameChanged}))))}}]),t}(a.a.Component),ta=(Pr=function(){function e(t,n){Object(d.a)(this,e),this.store=t,this.item=void 0,this.item=n}return Object(p.a)(e,[{key:"shiftaAtp",get:function(){return this.item.type.minAtp===this.item.type.maxAtp?0:this.item.type.maxAtp*this.store.shiftaFactor}},{key:"minAtp",get:function(){return this.item.type.minAtp+this.item.grindAtp}},{key:"maxAtp",get:function(){return this.item.type.maxAtp+this.item.grindAtp+this.shiftaAtp}},{key:"finalMinAtp",get:function(){return this.minAtp+this.store.armorAtp+this.store.shieldAtp+this.store.baseAtp+this.store.baseShiftaAtp}},{key:"finalMaxAtp",get:function(){return this.maxAtp+this.store.armorAtp+this.store.shieldAtp+this.store.baseAtp+this.store.baseShiftaAtp}},{key:"minNormalDamage",get:function(){return(this.finalMinAtp-this.store.enemyDfp)*(.2*.9)}},{key:"maxNormalDamage",get:function(){return(this.finalMaxAtp-this.store.enemyDfp)*(.2*.9)}},{key:"avgNormalDamage",get:function(){return(this.minNormalDamage+this.maxNormalDamage)/2}},{key:"minHeavyDamage",get:function(){return.3402*(this.finalMinAtp-this.store.enemyDfp)}},{key:"maxHeavyDamage",get:function(){return.3402*(this.finalMaxAtp-this.store.enemyDfp)}},{key:"avgHeavyDamage",get:function(){return(this.minHeavyDamage+this.maxHeavyDamage)/2}}]),e}(),Object(L.a)(Pr.prototype,"shiftaAtp",[M.d],Object.getOwnPropertyDescriptor(Pr.prototype,"shiftaAtp"),Pr.prototype),Object(L.a)(Pr.prototype,"minAtp",[M.d],Object.getOwnPropertyDescriptor(Pr.prototype,"minAtp"),Pr.prototype),Object(L.a)(Pr.prototype,"maxAtp",[M.d],Object.getOwnPropertyDescriptor(Pr.prototype,"maxAtp"),Pr.prototype),Object(L.a)(Pr.prototype,"finalMinAtp",[M.d],Object.getOwnPropertyDescriptor(Pr.prototype,"finalMinAtp"),Pr.prototype),Object(L.a)(Pr.prototype,"finalMaxAtp",[M.d],Object.getOwnPropertyDescriptor(Pr.prototype,"finalMaxAtp"),Pr.prototype),Object(L.a)(Pr.prototype,"minNormalDamage",[M.d],Object.getOwnPropertyDescriptor(Pr.prototype,"minNormalDamage"),Pr.prototype),Object(L.a)(Pr.prototype,"maxNormalDamage",[M.d],Object.getOwnPropertyDescriptor(Pr.prototype,"maxNormalDamage"),Pr.prototype),Object(L.a)(Pr.prototype,"avgNormalDamage",[M.d],Object.getOwnPropertyDescriptor(Pr.prototype,"avgNormalDamage"),Pr.prototype),Object(L.a)(Pr.prototype,"minHeavyDamage",[M.d],Object.getOwnPropertyDescriptor(Pr.prototype,"minHeavyDamage"),Pr.prototype),Object(L.a)(Pr.prototype,"maxHeavyDamage",[M.d],Object.getOwnPropertyDescriptor(Pr.prototype,"maxHeavyDamage"),Pr.prototype),Object(L.a)(Pr.prototype,"avgHeavyDamage",[M.d],Object.getOwnPropertyDescriptor(Pr.prototype,"avgHeavyDamage"),Pr.prototype),Pr),na=new(Ur=function(){function e(){var t=this;Object(d.a)(this,e),Object(E.a)(this,"charAtp",zr,this),Object(E.a)(this,"magPow",Wr,this),Object(E.a)(this,"shiftaLvl",Nr,this),Object(E.a)(this,"weapons",Hr,this),this.addWeapon=function(e){t.weapons.push(new ta(t,new Y(e)))},Object(E.a)(this,"armorType",Vr,this),Object(E.a)(this,"shieldType",qr,this),Object(E.a)(this,"enemyDfp",Yr,this)}return Object(p.a)(e,[{key:"weaponTypes",get:function(){return yt.current.value.itemTypes.filter(function(e){return e instanceof W})}},{key:"armorTypes",get:function(){return yt.current.value.itemTypes.filter(function(e){return e instanceof N})}},{key:"shieldTypes",get:function(){return yt.current.value.itemTypes.filter(function(e){return e instanceof H})}},{key:"armorAtp",get:function(){return this.armorType?this.armorType.atp:0}},{key:"shieldAtp",get:function(){return this.shieldType?this.shieldType.atp:0}},{key:"baseAtp",get:function(){return this.charAtp+2*this.magPow}},{key:"shiftaFactor",get:function(){return this.shiftaLvl?.013*(this.shiftaLvl-1)+.1:0}},{key:"baseShiftaAtp",get:function(){return this.baseAtp*this.shiftaFactor}}]),e}(),Object(L.a)(Ur.prototype,"weaponTypes",[M.d],Object.getOwnPropertyDescriptor(Ur.prototype,"weaponTypes"),Ur.prototype),Object(L.a)(Ur.prototype,"armorTypes",[M.d],Object.getOwnPropertyDescriptor(Ur.prototype,"armorTypes"),Ur.prototype),Object(L.a)(Ur.prototype,"shieldTypes",[M.d],Object.getOwnPropertyDescriptor(Ur.prototype,"shieldTypes"),Ur.prototype),zr=Object(L.a)(Ur.prototype,"charAtp",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Wr=Object(L.a)(Ur.prototype,"magPow",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(L.a)(Ur.prototype,"armorAtp",[M.d],Object.getOwnPropertyDescriptor(Ur.prototype,"armorAtp"),Ur.prototype),Object(L.a)(Ur.prototype,"shieldAtp",[M.d],Object.getOwnPropertyDescriptor(Ur.prototype,"shieldAtp"),Ur.prototype),Nr=Object(L.a)(Ur.prototype,"shiftaLvl",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(L.a)(Ur.prototype,"baseAtp",[M.d],Object.getOwnPropertyDescriptor(Ur.prototype,"baseAtp"),Ur.prototype),Object(L.a)(Ur.prototype,"shiftaFactor",[M.d],Object.getOwnPropertyDescriptor(Ur.prototype,"shiftaFactor"),Ur.prototype),Object(L.a)(Ur.prototype,"baseShiftaAtp",[M.d],Object.getOwnPropertyDescriptor(Ur.prototype,"baseShiftaAtp"),Ur.prototype),Hr=Object(L.a)(Ur.prototype,"weapons",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.k.array()}}),Vr=Object(L.a)(Ur.prototype,"armorType",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qr=Object(L.a)(Ur.prototype,"shieldType",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yr=Object(L.a)(Ur.prototype,"enemyDfp",[M.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ur),ra=Object(v.a)(Zr=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).addWeapon=function(e){if(e){var t=yt.current.value.getById(e.value);na.addWeapon(t)}},n.armorChanged=function(e){if(e){var t=yt.current.value.getById(e.value);na.armorType=t}else na.armorType=void 0},n.shieldChanged=function(e){if(e){var t=yt.current.value.getById(e.value);na.shieldType=t}else na.shieldType=void 0},n}return Object(w.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return a.a.createElement("section",null,a.a.createElement("section",null,a.a.createElement("div",null,"Weapons:"),a.a.createElement(Lt,{placeholder:"Add a weapon",value:void 0,options:na.weaponTypes.map(function(e){return{label:e.name,value:e.id}}),onChange:this.addWeapon}),a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("td",null,"Weapon"),a.a.createElement("td",null,"Min. ATP"),a.a.createElement("td",null,"Max. ATP"),a.a.createElement("td",null,"Grind"),a.a.createElement("td",null,"Grind ATP"),a.a.createElement("td",null,"Shifta ATP"),a.a.createElement("td",null,"Final Min. ATP"),a.a.createElement("td",null,"Final Max. ATP"),a.a.createElement("td",null,"Min. Normal Damage"),a.a.createElement("td",null,"Max. Normal Damage"),a.a.createElement("td",null,"Avg. Normal Damage"),a.a.createElement("td",null,"Min. Heavy Damage"),a.a.createElement("td",null,"Max. Heavy Damage"),a.a.createElement("td",null,"Avg. Heavy Damage"))),a.a.createElement("tbody",null,na.weapons.map(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("td",null,e.item.type.name),a.a.createElement("td",null,e.item.type.minAtp),a.a.createElement("td",null,e.item.type.maxAtp),a.a.createElement("td",null,a.a.createElement(g.a,{size:"small",value:e.item.grind,min:0,max:e.item.type.maxGrind,step:1,onChange:function(t){return e.item.grind=t||0}})),a.a.createElement("td",null,e.item.grindAtp),a.a.createElement("td",null,e.shiftaAtp.toFixed(1)),a.a.createElement("td",null,e.finalMinAtp.toFixed(1)),a.a.createElement("td",null,e.finalMaxAtp.toFixed(1)),a.a.createElement("td",null,e.minNormalDamage.toFixed(1)),a.a.createElement("td",null,e.maxNormalDamage.toFixed(1)),a.a.createElement("td",null,e.avgNormalDamage.toFixed(1)),a.a.createElement("td",null,e.minHeavyDamage.toFixed(1)),a.a.createElement("td",null,e.maxHeavyDamage.toFixed(1)),a.a.createElement("td",null,e.avgHeavyDamage.toFixed(1)))}))),a.a.createElement("div",null,"Character ATP:"),a.a.createElement(g.a,{value:na.charAtp,min:0,step:1,onChange:function(e){return na.charAtp=e||0}}),a.a.createElement("div",null,"MAG POW:"),a.a.createElement(g.a,{value:na.magPow,min:0,max:200,step:1,onChange:function(e){return na.magPow=e||0}}),a.a.createElement("div",null,"Armor:"),a.a.createElement(Lt,{placeholder:"Choose an armor",value:na.armorType&&na.armorType.id,options:na.armorTypes.map(function(e){return{label:e.name,value:e.id}}),onChange:this.armorChanged}),a.a.createElement("span",null,"Armor ATP: ",na.armorAtp),a.a.createElement("div",null,"Shield:"),a.a.createElement(Lt,{placeholder:"Choose a shield",value:na.shieldType&&na.shieldType.id,options:na.shieldTypes.map(function(e){return{label:e.name,value:e.id}}),onChange:this.shieldChanged}),a.a.createElement("span",null,"Shield ATP: ",na.shieldAtp),a.a.createElement("div",null,"Shifta level:"),a.a.createElement(g.a,{value:na.shiftaLvl,min:0,max:30,step:1,onChange:function(e){return na.shiftaLvl=e||0}}),a.a.createElement("div",null,"Shifta factor:"),a.a.createElement("div",null,na.shiftaFactor.toFixed(3)),a.a.createElement("div",null,"Base shifta ATP:"),a.a.createElement("div",null,na.baseShiftaAtp.toFixed(2))))}}]),t}(a.a.Component))||Zr,aa=y(Xr),ia=y(function(){return a.a.createElement("section",{className:"ho-HuntOptimizerComponent"},a.a.createElement(k.a,{type:"card"},a.a.createElement(Kt,{tab:"Optimize",key:"optimize"},a.a.createElement(Ut,null)),a.a.createElement(Kt,{tab:"Methods",key:"methods"},a.a.createElement(Zt,null))))}),oa=y(ra),sa=Object(v.a)(Qr=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).state={tool:n.initTool()},n.menuClicked=function(e){n.setState({tool:e.key})},n}return Object(w.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e;switch(this.state.tool){case"questEditor":e=a.a.createElement(aa,null);break;case"huntOptimizer":e=a.a.createElement(ia,null);break;case"dpsCalc":e=a.a.createElement(oa,null)}return a.a.createElement("div",{className:"ApplicationComponent"},a.a.createElement("div",{className:"ApplicationComponent-navbar"},a.a.createElement("h1",{className:"ApplicationComponent-heading"},"Phantasmal World"),a.a.createElement(c.b,{className:"ApplicationComponent-heading-menu",onClick:this.menuClicked,selectedKeys:[this.state.tool],mode:"horizontal"},a.a.createElement(c.b.Item,{key:"questEditor"},"Quest Editor",a.a.createElement("sup",{className:"ApplicationComponent-beta"},"(Beta)")),a.a.createElement(c.b.Item,{key:"huntOptimizer"},"Hunt Optimizer")),a.a.createElement("div",{className:"ApplicationComponent-server-select"},a.a.createElement("span",null,"Server:"),a.a.createElement(u.a,{defaultValue:De.Ephinea,style:{width:120}},a.a.createElement(u.a.Option,{value:De.Ephinea},De.Ephinea)))),a.a.createElement("div",{className:"ApplicationComponent-main"},e))}},{key:"initTool",value:function(){var e=window.location.search.slice(1).split("&").find(function(e){return e.startsWith("tool=")});return e?e.slice(5):"questEditor"}}]),t}(a.a.Component))||Qr;n(483),n(484),n(485);l.a.useDefaults({defaultLevel:l.a[Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_LOG_LEVEL||"OFF"]}),o.a.render(a.a.createElement(sa,null),document.getElementById("phantasmal-world-root"))}},[[227,1,2]]]);
//# sourceMappingURL=main.74434654.chunk.js.map