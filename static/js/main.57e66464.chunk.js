(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{226:function(e,n,t){e.exports=t(485)},231:function(e,n,t){},237:function(e,n,t){},240:function(e,n,t){},279:function(e,n,t){},345:function(e,n,t){},346:function(e,n,t){},350:function(e,n,t){},351:function(e,n,t){},352:function(e,n,t){},355:function(e,n,t){},374:function(e,n,t){},375:function(e,n,t){},376:function(e,n,t){},485:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),i=t(12),o=t.n(i),s=(t(231),t(203),t(86)),l=(t(234),t(120)),u=t(10),c=t(13),d=t(21),p=t(19),h=t(20),w=t(33),m=(t(237),t(238),t(224)),v=(t(240),function(e){function n(){var e,t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(a)))).state={hasError:!1},t}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return this.state.hasError?a.a.createElement("div",{className:"ErrorBoundary-error"},a.a.createElement("div",null,a.a.createElement(m.a,{type:"error",message:"Something went wrong."}))):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(a.a.Component));function b(e){return function(){return a.a.createElement(v,null,a.a.createElement(e,null))}}t(277);var f=t(155),k=(t(279),t(135),t(55)),y=(t(281),t(209)),g=(t(108),t(39)),R=t(45),D=t(44),S=t(27),O=t(24),I=t.n(O),_=t(31),j=t(16),C=t(11),L=(t(59),t(206)),B=t.n(L),E=t(7),x=t(97),M=function(){function e(n,t,r,a,i,o,s){if(Object(u.a)(this,e),this.id=void 0,this.code=void 0,this.name=void 0,this.simpleName=void 0,this.ultimateName=void 0,this.episode=void 0,this.enemy=void 0,this.rareType=void 0,!Number.isInteger(n)||n<0)throw new Error("Expected id to be an integer greater than or equal to 0, got ".concat(n,"."));if(!t)throw new Error("code is required.");if(!r)throw new Error("name is required.");if(!a)throw new Error("simpleName is required.");if(!i)throw new Error("ultimateName is required.");if(null!=o&&1!==o&&2!==o&&4!==o)throw new Error("episode should be undefined, 1, 2 or 4, got ".concat(o,"."));if("boolean"!==typeof s)throw new Error("enemy is required.");if(this.id=n,this.code=t,this.simpleName=a,this.ultimateName=i,this.name=r,this.episode=o,this.enemy=s,e.byCodeMap.set(t,this),o){var l=e.byEpAndName[o];l&&(l.set(a,this),l.set(i,this))}}return Object(c.a)(e,null,[{key:"byCode",value:function(e){return this.byCodeMap.get(e)}},{key:"byNameAndEpisode",value:function(e,n){return ve(n),this.byEpAndName[n].get(e)}}]),e}();M.byCodeMap=new Map,M.byEpAndName=[void 0,new Map,new Map,void 0,new Map],M.Unknown=void 0,M.FemaleFat=void 0,M.FemaleMacho=void 0,M.FemaleTall=void 0,M.MaleDwarf=void 0,M.MaleFat=void 0,M.MaleMacho=void 0,M.MaleOld=void 0,M.BlueSoldier=void 0,M.RedSoldier=void 0,M.Principal=void 0,M.Tekker=void 0,M.GuildLady=void 0,M.Scientist=void 0,M.Nurse=void 0,M.Irene=void 0,M.ItemShop=void 0,M.Nurse2=void 0,M.Hildebear=void 0,M.Hildeblue=void 0,M.RagRappy=void 0,M.AlRappy=void 0,M.Monest=void 0,M.Mothmant=void 0,M.SavageWolf=void 0,M.BarbarousWolf=void 0,M.Booma=void 0,M.Gobooma=void 0,M.Gigobooma=void 0,M.Dragon=void 0,M.GrassAssassin=void 0,M.PoisonLily=void 0,M.NarLily=void 0,M.NanoDragon=void 0,M.EvilShark=void 0,M.PalShark=void 0,M.GuilShark=void 0,M.PofuillySlime=void 0,M.PouillySlime=void 0,M.PanArms=void 0,M.Migium=void 0,M.Hidoom=void 0,M.DeRolLe=void 0,M.Dubchic=void 0,M.Gilchic=void 0,M.Garanz=void 0,M.SinowBeat=void 0,M.SinowGold=void 0,M.Canadine=void 0,M.Canane=void 0,M.Dubswitch=void 0,M.VolOpt=void 0,M.Delsaber=void 0,M.ChaosSorcerer=void 0,M.DarkGunner=void 0,M.DeathGunner=void 0,M.ChaosBringer=void 0,M.DarkBelra=void 0,M.Dimenian=void 0,M.LaDimenian=void 0,M.SoDimenian=void 0,M.Bulclaw=void 0,M.Bulk=void 0,M.Claw=void 0,M.DarkFalz=void 0,M.Hildebear2=void 0,M.Hildeblue2=void 0,M.RagRappy2=void 0,M.LoveRappy=void 0,M.StRappy=void 0,M.HalloRappy=void 0,M.EggRappy=void 0,M.Monest2=void 0,M.Mothmant2=void 0,M.PoisonLily2=void 0,M.NarLily2=void 0,M.GrassAssassin2=void 0,M.Dimenian2=void 0,M.LaDimenian2=void 0,M.SoDimenian2=void 0,M.DarkBelra2=void 0,M.BarbaRay=void 0,M.SavageWolf2=void 0,M.BarbarousWolf2=void 0,M.PanArms2=void 0,M.Migium2=void 0,M.Hidoom2=void 0,M.Dubchic2=void 0,M.Gilchic2=void 0,M.Garanz2=void 0,M.Dubswitch2=void 0,M.Delsaber2=void 0,M.ChaosSorcerer2=void 0,M.GolDragon=void 0,M.SinowBerill=void 0,M.SinowSpigell=void 0,M.Merillia=void 0,M.Meriltas=void 0,M.Mericarol=void 0,M.Mericus=void 0,M.Merikle=void 0,M.UlGibbon=void 0,M.ZolGibbon=void 0,M.Gibbles=void 0,M.Gee=void 0,M.GiGue=void 0,M.IllGill=void 0,M.DelLily=void 0,M.Epsilon=void 0,M.GalGryphon=void 0,M.Deldepth=void 0,M.Delbiter=void 0,M.Dolmolm=void 0,M.Dolmdarl=void 0,M.Morfos=void 0,M.Recobox=void 0,M.Recon=void 0,M.SinowZoa=void 0,M.SinowZele=void 0,M.OlgaFlow=void 0,M.SandRappy=void 0,M.DelRappy=void 0,M.Astark=void 0,M.SatelliteLizard=void 0,M.Yowie=void 0,M.MerissaA=void 0,M.MerissaAA=void 0,M.Girtablulu=void 0,M.Zu=void 0,M.Pazuzu=void 0,M.Boota=void 0,M.ZeBoota=void 0,M.BaBoota=void 0,M.Dorphon=void 0,M.DorphonEclair=void 0,M.Goran=void 0,M.PyroGoran=void 0,M.GoranDetonator=void 0,M.SaintMilion=void 0,M.Shambertin=void 0,M.Kondrieu=void 0,function(){var e=0;M.Unknown=new M(e++,"Unknown","Unknown","Unknown","Unknown",void 0,!1),M.FemaleFat=new M(e++,"FemaleFat","Female Fat","Female Fat","Female Fat",void 0,!1),M.FemaleMacho=new M(e++,"FemaleMacho","Female Macho","Female Macho","Female Macho",void 0,!1),M.FemaleTall=new M(e++,"FemaleTall","Female Tall","Female Tall","Female Tall",void 0,!1),M.MaleDwarf=new M(e++,"MaleDwarf","Male Dwarf","Male Dwarf","Male Dwarf",void 0,!1),M.MaleFat=new M(e++,"MaleFat","Male Fat","Male Fat","Male Fat",void 0,!1),M.MaleMacho=new M(e++,"MaleMacho","Male Macho","Male Macho","Male Macho",void 0,!1),M.MaleOld=new M(e++,"MaleOld","Male Old","Male Old","Male Old",void 0,!1),M.BlueSoldier=new M(e++,"BlueSoldier","Blue Soldier","Blue Soldier","Blue Soldier",void 0,!1),M.RedSoldier=new M(e++,"RedSoldier","Red Soldier","Red Soldier","Red Soldier",void 0,!1),M.Principal=new M(e++,"Principal","Principal","Principal","Principal",void 0,!1),M.Tekker=new M(e++,"Tekker","Tekker","Tekker","Tekker",void 0,!1),M.GuildLady=new M(e++,"GuildLady","Guild Lady","Guild Lady","Guild Lady",void 0,!1),M.Scientist=new M(e++,"Scientist","Scientist","Scientist","Scientist",void 0,!1),M.Nurse=new M(e++,"Nurse","Nurse","Nurse","Nurse",void 0,!1),M.Irene=new M(e++,"Irene","Irene","Irene","Irene",void 0,!1),M.ItemShop=new M(e++,"ItemShop","Item Shop","Item Shop","Item Shop",void 0,!1),M.Nurse2=new M(e++,"Nurse2","Nurse (Ep. II)","Nurse","Nurse",2,!1),M.Hildebear=new M(e++,"Hildebear","Hildebear","Hildebear","Hildelt",1,!0),M.Hildeblue=new M(e++,"Hildeblue","Hildeblue","Hildeblue","Hildetorr",1,!0),M.Hildebear.rareType=M.Hildeblue,M.RagRappy=new M(e++,"RagRappy","Rag Rappy","Rag Rappy","El Rappy",1,!0),M.AlRappy=new M(e++,"AlRappy","Al Rappy","Al Rappy","Pal Rappy",1,!0),M.RagRappy.rareType=M.AlRappy,M.Monest=new M(e++,"Monest","Monest","Monest","Mothvist",1,!0),M.Mothmant=new M(e++,"Mothmant","Mothmant","Mothmant","Mothvert",1,!0),M.SavageWolf=new M(e++,"SavageWolf","Savage Wolf","Savage Wolf","Gulgus",1,!0),M.BarbarousWolf=new M(e++,"BarbarousWolf","Barbarous Wolf","Barbarous Wolf","Gulgus-Gue",1,!0),M.Booma=new M(e++,"Booma","Booma","Booma","Bartle",1,!0),M.Gobooma=new M(e++,"Gobooma","Gobooma","Gobooma","Barble",1,!0),M.Gigobooma=new M(e++,"Gigobooma","Gigobooma","Gigobooma","Tollaw",1,!0),M.Dragon=new M(e++,"Dragon","Dragon","Dragon","Sil Dragon",1,!0),M.GrassAssassin=new M(e++,"GrassAssassin","Grass Assassin","Grass Assassin","Crimson Assassin",1,!0),M.PoisonLily=new M(e++,"PoisonLily","Poison Lily","Poison Lily","Ob Lily",1,!0),M.NarLily=new M(e++,"NarLily","Nar Lily","Nar Lily","Mil Lily",1,!0),M.PoisonLily.rareType=M.NarLily,M.NanoDragon=new M(e++,"NanoDragon","Nano Dragon","Nano Dragon","Nano Dragon",1,!0),M.EvilShark=new M(e++,"EvilShark","Evil Shark","Evil Shark","Vulmer",1,!0),M.PalShark=new M(e++,"PalShark","Pal Shark","Pal Shark","Govulmer",1,!0),M.GuilShark=new M(e++,"GuilShark","Guil Shark","Guil Shark","Melqueek",1,!0),M.PofuillySlime=new M(e++,"PofuillySlime","Pofuilly Slime","Pofuilly Slime","Pofuilly Slime",1,!0),M.PouillySlime=new M(e++,"PouillySlime","Pouilly Slime","Pouilly Slime","Pouilly Slime",1,!0),M.PofuillySlime.rareType=M.PouillySlime,M.PanArms=new M(e++,"PanArms","Pan Arms","Pan Arms","Pan Arms",1,!0),M.Migium=new M(e++,"Migium","Migium","Migium","Migium",1,!0),M.Hidoom=new M(e++,"Hidoom","Hidoom","Hidoom","Hidoom",1,!0),M.DeRolLe=new M(e++,"DeRolLe","De Rol Le","De Rol Le","Dal Ra Lie",1,!0),M.Dubchic=new M(e++,"Dubchic","Dubchic","Dubchic","Dubchich",1,!0),M.Gilchic=new M(e++,"Gilchic","Gilchic","Gilchic","Gilchich",1,!0),M.Garanz=new M(e++,"Garanz","Garanz","Garanz","Baranz",1,!0),M.SinowBeat=new M(e++,"SinowBeat","Sinow Beat","Sinow Beat","Sinow Blue",1,!0),M.SinowGold=new M(e++,"SinowGold","Sinow Gold","Sinow Gold","Sinow Red",1,!0),M.Canadine=new M(e++,"Canadine","Canadine","Canadine","Canabin",1,!0),M.Canane=new M(e++,"Canane","Canane","Canane","Canune",1,!0),M.Dubswitch=new M(e++,"Dubswitch","Dubswitch","Dubswitch","Dubswitch",1,!0),M.VolOpt=new M(e++,"VolOpt","Vol Opt","Vol Opt","Vol Opt ver.2",1,!0),M.Delsaber=new M(e++,"Delsaber","Delsaber","Delsaber","Delsaber",1,!0),M.ChaosSorcerer=new M(e++,"ChaosSorcerer","Chaos Sorcerer","Chaos Sorcerer","Gran Sorcerer",1,!0),M.DarkGunner=new M(e++,"DarkGunner","Dark Gunner","Dark Gunner","Dark Gunner",1,!0),M.DeathGunner=new M(e++,"DeathGunner","Death Gunner","Death Gunner","Death Gunner",1,!0),M.ChaosBringer=new M(e++,"ChaosBringer","Chaos Bringer","Chaos Bringer","Dark Bringer",1,!0),M.DarkBelra=new M(e++,"DarkBelra","Dark Belra","Dark Belra","Indi Belra",1,!0),M.Dimenian=new M(e++,"Dimenian","Dimenian","Dimenian","Arlan",1,!0),M.LaDimenian=new M(e++,"LaDimenian","La Dimenian","La Dimenian","Merlan",1,!0),M.SoDimenian=new M(e++,"SoDimenian","So Dimenian","So Dimenian","Del-D",1,!0),M.Bulclaw=new M(e++,"Bulclaw","Bulclaw","Bulclaw","Bulclaw",1,!0),M.Bulk=new M(e++,"Bulk","Bulk","Bulk","Bulk",1,!0),M.Claw=new M(e++,"Claw","Claw","Claw","Claw",1,!0),M.DarkFalz=new M(e++,"DarkFalz","Dark Falz","Dark Falz","Dark Falz",1,!0),M.Hildebear2=new M(e++,"Hildebear2","Hildebear (Ep. II)","Hildebear","Hildelt",2,!0),M.Hildeblue2=new M(e++,"Hildeblue2","Hildeblue (Ep. II)","Hildeblue","Hildetorr",2,!0),M.Hildebear2.rareType=M.Hildeblue2,M.RagRappy2=new M(e++,"RagRappy2","Rag Rappy (Ep. II)","Rag Rappy","El Rappy",2,!0),M.LoveRappy=new M(e++,"LoveRappy","Love Rappy","Love Rappy","Love Rappy",2,!0),M.RagRappy2.rareType=M.LoveRappy,M.StRappy=new M(e++,"StRappy","St. Rappy","St. Rappy","St. Rappy",2,!0),M.HalloRappy=new M(e++,"HalloRappy","Hallo Rappy","Hallo Rappy","Hallo Rappy",2,!0),M.EggRappy=new M(e++,"EggRappy","Egg Rappy","Egg Rappy","Egg Rappy",2,!0),M.Monest2=new M(e++,"Monest2","Monest (Ep. II)","Monest","Mothvist",2,!0),M.Mothmant2=new M(e++,"Mothmant2","Mothmant","Mothmant","Mothvert",2,!0),M.PoisonLily2=new M(e++,"PoisonLily2","Poison Lily (Ep. II)","Poison Lily","Ob Lily",2,!0),M.NarLily2=new M(e++,"NarLily2","Nar Lily (Ep. II)","Nar Lily","Mil Lily",2,!0),M.PoisonLily2.rareType=M.NarLily2,M.GrassAssassin2=new M(e++,"GrassAssassin2","Grass Assassin (Ep. II)","Grass Assassin","Crimson Assassin",2,!0),M.Dimenian2=new M(e++,"Dimenian2","Dimenian (Ep. II)","Dimenian","Arlan",2,!0),M.LaDimenian2=new M(e++,"LaDimenian2","La Dimenian (Ep. II)","La Dimenian","Merlan",2,!0),M.SoDimenian2=new M(e++,"SoDimenian2","So Dimenian (Ep. II)","So Dimenian","Del-D",2,!0),M.DarkBelra2=new M(e++,"DarkBelra2","Dark Belra (Ep. II)","Dark Belra","Indi Belra",2,!0),M.BarbaRay=new M(e++,"BarbaRay","Barba Ray","Barba Ray","Barba Ray",2,!0),M.SavageWolf2=new M(e++,"SavageWolf2","Savage Wolf (Ep. II)","Savage Wolf","Gulgus",2,!0),M.BarbarousWolf2=new M(e++,"BarbarousWolf2","Barbarous Wolf (Ep. II)","Barbarous Wolf","Gulgus-Gue",2,!0),M.PanArms2=new M(e++,"PanArms2","Pan Arms (Ep. II)","Pan Arms","Pan Arms",2,!0),M.Migium2=new M(e++,"Migium2","Migium (Ep. II)","Migium","Migium",2,!0),M.Hidoom2=new M(e++,"Hidoom2","Hidoom (Ep. II)","Hidoom","Hidoom",2,!0),M.Dubchic2=new M(e++,"Dubchic2","Dubchic (Ep. II)","Dubchic","Dubchich",2,!0),M.Gilchic2=new M(e++,"Gilchic2","Gilchic (Ep. II)","Gilchic","Gilchich",2,!0),M.Garanz2=new M(e++,"Garanz2","Garanz (Ep. II)","Garanz","Baranz",2,!0),M.Dubswitch2=new M(e++,"Dubswitch2","Dubswitch (Ep. II)","Dubswitch","Dubswitch",2,!0),M.Delsaber2=new M(e++,"Delsaber2","Delsaber (Ep. II)","Delsaber","Delsaber",2,!0),M.ChaosSorcerer2=new M(e++,"ChaosSorcerer2","Chaos Sorcerer (Ep. II)","Chaos Sorcerer","Gran Sorcerer",2,!0),M.GolDragon=new M(e++,"GolDragon","Gol Dragon","Gol Dragon","Gol Dragon",2,!0),M.SinowBerill=new M(e++,"SinowBerill","Sinow Berill","Sinow Berill","Sinow Berill",2,!0),M.SinowSpigell=new M(e++,"SinowSpigell","Sinow Spigell","Sinow Spigell","Sinow Spigell",2,!0),M.Merillia=new M(e++,"Merillia","Merillia","Merillia","Merillia",2,!0),M.Meriltas=new M(e++,"Meriltas","Meriltas","Meriltas","Meriltas",2,!0),M.Mericarol=new M(e++,"Mericarol","Mericarol","Mericarol","Mericarol",2,!0),M.Mericus=new M(e++,"Mericus","Mericus","Mericus","Mericus",2,!0),M.Merikle=new M(e++,"Merikle","Merikle","Merikle","Merikle",2,!0),M.UlGibbon=new M(e++,"UlGibbon","Ul Gibbon","Ul Gibbon","Ul Gibbon",2,!0),M.ZolGibbon=new M(e++,"ZolGibbon","Zol Gibbon","Zol Gibbon","Zol Gibbon",2,!0),M.Gibbles=new M(e++,"Gibbles","Gibbles","Gibbles","Gibbles",2,!0),M.Gee=new M(e++,"Gee","Gee","Gee","Gee",2,!0),M.GiGue=new M(e++,"GiGue","Gi Gue","Gi Gue","Gi Gue",2,!0),M.IllGill=new M(e++,"IllGill","Ill Gill","Ill Gill","Ill Gill",2,!0),M.DelLily=new M(e++,"DelLily","Del Lily","Del Lily","Del Lily",2,!0),M.Epsilon=new M(e++,"Epsilon","Epsilon","Epsilon","Epsilon",2,!0),M.GalGryphon=new M(e++,"GalGryphon","Gal Gryphon","Gal Gryphon","Gal Gryphon",2,!0),M.Deldepth=new M(e++,"Deldepth","Deldepth","Deldepth","Deldepth",2,!0),M.Delbiter=new M(e++,"Delbiter","Delbiter","Delbiter","Delbiter",2,!0),M.Dolmolm=new M(e++,"Dolmolm","Dolmolm","Dolmolm","Dolmolm",2,!0),M.Dolmdarl=new M(e++,"Dolmdarl","Dolmdarl","Dolmdarl","Dolmdarl",2,!0),M.Morfos=new M(e++,"Morfos","Morfos","Morfos","Morfos",2,!0),M.Recobox=new M(e++,"Recobox","Recobox","Recobox","Recobox",2,!0),M.Recon=new M(e++,"Recon","Recon","Recon","Recon",2,!0),M.SinowZoa=new M(e++,"SinowZoa","Sinow Zoa","Sinow Zoa","Sinow Zoa",2,!0),M.SinowZele=new M(e++,"SinowZele","Sinow Zele","Sinow Zele","Sinow Zele",2,!0),M.OlgaFlow=new M(e++,"OlgaFlow","Olga Flow","Olga Flow","Olga Flow",2,!0),M.SandRappy=new M(e++,"SandRappy","Sand Rappy","Sand Rappy","Sand Rappy",4,!0),M.DelRappy=new M(e++,"DelRappy","Del Rappy","Del Rappy","Del Rappy",4,!0),M.SandRappy.rareType=M.DelRappy,M.Astark=new M(e++,"Astark","Astark","Astark","Astark",4,!0),M.SatelliteLizard=new M(e++,"SatelliteLizard","Satellite Lizard","Satellite Lizard","Satellite Lizard",4,!0),M.Yowie=new M(e++,"Yowie","Yowie","Yowie","Yowie",4,!0),M.MerissaA=new M(e++,"MerissaA","Merissa A","Merissa A","Merissa A",4,!0),M.MerissaAA=new M(e++,"MerissaAA","Merissa AA","Merissa AA","Merissa AA",4,!0),M.MerissaA.rareType=M.MerissaAA,M.Girtablulu=new M(e++,"Girtablulu","Girtablulu","Girtablulu","Girtablulu",4,!0),M.Zu=new M(e++,"Zu","Zu","Zu","Zu",4,!0),M.Pazuzu=new M(e++,"Pazuzu","Pazuzu","Pazuzu","Pazuzu",4,!0),M.Zu.rareType=M.Pazuzu,M.Boota=new M(e++,"Boota","Boota","Boota","Boota",4,!0),M.ZeBoota=new M(e++,"ZeBoota","Ze Boota","Ze Boota","Ze Boota",4,!0),M.BaBoota=new M(e++,"BaBoota","Ba Boota","Ba Boota","Ba Boota",4,!0),M.Dorphon=new M(e++,"Dorphon","Dorphon","Dorphon","Dorphon",4,!0),M.DorphonEclair=new M(e++,"DorphonEclair","Dorphon Eclair","Dorphon Eclair","Dorphon Eclair",4,!0),M.Dorphon.rareType=M.DorphonEclair,M.Goran=new M(e++,"Goran","Goran","Goran","Goran",4,!0),M.PyroGoran=new M(e++,"PyroGoran","Pyro Goran","Pyro Goran","Pyro Goran",4,!0),M.GoranDetonator=new M(e++,"GoranDetonator","Goran Detonator","Goran Detonator","Goran Detonator",4,!0),M.SaintMilion=new M(e++,"SaintMilion","Saint-Milion","Saint-Milion","Saint-Milion",4,!0),M.Shambertin=new M(e++,"Shambertin","Shambertin","Shambertin","Shambertin",4,!0),M.Kondrieu=new M(e++,"Kondrieu","Kondrieu","Kondrieu","Kondrieu",4,!0),M.SaintMilion.rareType=M.Kondrieu,M.Shambertin.rareType=M.Kondrieu}();var A=[M.Unknown,M.FemaleFat,M.FemaleMacho,M.FemaleTall,M.MaleDwarf,M.MaleFat,M.MaleMacho,M.MaleOld,M.BlueSoldier,M.RedSoldier,M.Principal,M.Tekker,M.GuildLady,M.Scientist,M.Nurse,M.Irene,M.ItemShop,M.Nurse2,M.Hildebear,M.Hildeblue,M.RagRappy,M.AlRappy,M.Monest,M.Mothmant,M.SavageWolf,M.BarbarousWolf,M.Booma,M.Gobooma,M.Gigobooma,M.Dragon,M.GrassAssassin,M.PoisonLily,M.NarLily,M.NanoDragon,M.EvilShark,M.PalShark,M.GuilShark,M.PofuillySlime,M.PouillySlime,M.PanArms,M.Migium,M.Hidoom,M.DeRolLe,M.Dubchic,M.Gilchic,M.Garanz,M.SinowBeat,M.SinowGold,M.Canadine,M.Canane,M.Dubswitch,M.VolOpt,M.Delsaber,M.ChaosSorcerer,M.DarkGunner,M.DeathGunner,M.ChaosBringer,M.DarkBelra,M.Dimenian,M.LaDimenian,M.SoDimenian,M.Bulclaw,M.Bulk,M.Claw,M.DarkFalz,M.Hildebear2,M.Hildeblue2,M.RagRappy2,M.LoveRappy,M.StRappy,M.HalloRappy,M.EggRappy,M.Monest2,M.Mothmant2,M.PoisonLily2,M.NarLily2,M.GrassAssassin2,M.Dimenian2,M.LaDimenian2,M.SoDimenian2,M.DarkBelra2,M.BarbaRay,M.SavageWolf2,M.BarbarousWolf2,M.PanArms2,M.Migium2,M.Hidoom2,M.Dubchic2,M.Gilchic2,M.Garanz2,M.Dubswitch2,M.Delsaber2,M.ChaosSorcerer2,M.GolDragon,M.SinowBerill,M.SinowSpigell,M.Merillia,M.Meriltas,M.Mericarol,M.Mericus,M.Merikle,M.UlGibbon,M.ZolGibbon,M.Gibbles,M.Gee,M.GiGue,M.IllGill,M.DelLily,M.Epsilon,M.GalGryphon,M.Deldepth,M.Delbiter,M.Dolmolm,M.Dolmdarl,M.Morfos,M.Recobox,M.Recon,M.SinowZoa,M.SinowZele,M.OlgaFlow,M.SandRappy,M.DelRappy,M.Astark,M.SatelliteLizard,M.Yowie,M.MerissaA,M.MerissaAA,M.Girtablulu,M.Zu,M.Pazuzu,M.Boota,M.ZeBoota,M.BaBoota,M.Dorphon,M.DorphonEclair,M.Goran,M.PyroGoran,M.GoranDetonator,M.SaintMilion,M.Shambertin,M.Kondrieu],F=A.filter(function(e){return e.enemy}),T=function(){function e(n,t,r){if(Object(u.a)(this,e),this.id=void 0,this.psoId=void 0,this.name=void 0,!Number.isInteger(n)||n<1)throw new Error("Expected id to be an integer greater than or equal to 1, got ".concat(n,"."));if(null!=t&&(!Number.isInteger(t)||t<0))throw new Error("Expected psoId to be null or an integer greater than or equal to 0, got ".concat(t,"."));if(!r)throw new Error("name is required.");this.id=n,this.psoId=t,this.name=r}return Object(c.a)(e,null,[{key:"fromPsoId",value:function(n){switch(n){default:return e.Unknown;case 0:return e.PlayerSet;case 1:return e.Particle;case 2:return e.Teleporter;case 3:return e.Warp;case 4:return e.LightCollision;case 5:return e.Item;case 6:return e.EnvSound;case 7:return e.FogCollision;case 8:return e.EventCollision;case 9:return e.CharaCollision;case 10:return e.ElementalTrap;case 11:return e.StatusTrap;case 12:return e.HealTrap;case 13:return e.LargeElementalTrap;case 14:return e.ObjRoomID;case 15:return e.Sensor;case 16:return e.UnknownItem16;case 17:return e.Lensflare;case 18:return e.ScriptCollision;case 19:return e.HealRing;case 20:return e.MapCollision;case 21:return e.ScriptCollisionA;case 22:return e.ItemLight;case 23:return e.RadarCollision;case 24:return e.FogCollisionSW;case 25:return e.BossTeleporter;case 26:return e.ImageBoard;case 27:return e.QuestWarp;case 28:return e.Epilogue;case 29:return e.UnknownItem29;case 30:return e.UnknownItem30;case 31:return e.UnknownItem31;case 32:return e.BoxDetectObject;case 33:return e.SymbolChatObject;case 34:return e.TouchPlateObject;case 35:return e.TargetableObject;case 36:return e.EffectObject;case 37:return e.CountDownObject;case 38:return e.UnknownItem38;case 39:return e.UnknownItem39;case 40:return e.UnknownItem40;case 41:return e.UnknownItem41;case 64:return e.MenuActivation;case 65:return e.TelepipeLocation;case 66:return e.BGMCollision;case 67:return e.MainRagolTeleporter;case 68:return e.LobbyTeleporter;case 69:return e.PrincipalWarp;case 70:return e.ShopDoor;case 71:return e.HuntersGuildDoor;case 72:return e.TeleporterDoor;case 73:return e.MedicalCenterDoor;case 74:return e.Elevator;case 75:return e.EasterEgg;case 76:return e.ValentinesHeart;case 77:return e.ChristmasTree;case 78:return e.ChristmasWreath;case 79:return e.HalloweenPumpkin;case 80:return e.TwentyFirstCentury;case 81:return e.Sonic;case 82:return e.WelcomeBoard;case 83:return e.Firework;case 84:return e.LobbyScreenDoor;case 85:return e.MainRagolTeleporterBattleInNextArea;case 86:return e.LabTeleporterDoor;case 87:return e.Pioneer2InvisibleTouchplate;case 128:return e.ForestDoor;case 129:return e.ForestSwitch;case 130:return e.LaserFence;case 131:return e.LaserSquareFence;case 132:return e.ForestLaserFenceSwitch;case 133:return e.LightRays;case 134:return e.BlueButterfly;case 135:return e.Probe;case 136:return e.RandomTypeBox1;case 137:return e.ForestWeatherStation;case 138:return e.Battery;case 139:return e.ForestConsole;case 140:return e.BlackSlidingDoor;case 141:return e.RicoMessagePod;case 142:return e.EnergyBarrier;case 143:return e.ForestRisingBridge;case 144:return e.SwitchNoneDoor;case 145:return e.EnemyBoxGrey;case 146:return e.FixedTypeBox;case 147:return e.EnemyBoxBrown;case 149:return e.EmptyTypeBox;case 150:return e.LaserFenseEx;case 151:return e.LaserSquareFenceEx;case 192:return e.FloorPanel1;case 193:return e.Caves4ButtonDoor;case 194:return e.CavesNormalDoor;case 195:return e.CavesSmashingPillar;case 196:return e.CavesSign1;case 197:return e.CavesSign2;case 198:return e.CavesSign3;case 199:return e.HexagalTank;case 200:return e.BrownPlatform;case 201:return e.WarningLightObject;case 203:return e.Rainbow;case 204:return e.FloatingJelifish;case 205:return e.FloatingDragonfly;case 206:return e.CavesSwitchDoor;case 207:return e.RobotRechargeStation;case 208:return e.CavesCakeShop;case 209:return e.Caves1SmallRedRock;case 210:return e.Caves1MediumRedRock;case 211:return e.Caves1LargeRedRock;case 212:return e.Caves2SmallRock1;case 213:return e.Caves2MediumRock1;case 214:return e.Caves2LargeRock1;case 215:return e.Caves2SmallRock2;case 216:return e.Caves2MediumRock2;case 217:return e.Caves2LargeRock2;case 218:return e.Caves3SmallRock;case 219:return e.Caves3MediumRock;case 220:return e.Caves3LargeRock;case 222:return e.FloorPanel2;case 223:return e.DestructableRockCaves1;case 224:return e.DestructableRockCaves2;case 225:return e.DestructableRockCaves3;case 256:return e.MinesDoor;case 257:return e.FloorPanel3;case 258:return e.MinesSwitchDoor;case 259:return e.LargeCryoTube;case 260:return e.ComputerLikeCalus;case 261:return e.GreenScreenOpeningAndClosing;case 262:return e.FloatingRobot;case 263:return e.FloatingBlueLight;case 264:return e.SelfDestructingObject1;case 265:return e.SelfDestructingObject2;case 266:return e.SelfDestructingObject3;case 267:return e.SparkMachine;case 268:return e.MinesLargeFlashingCrate;case 304:return e.RuinsSeal;case 320:return e.RuinsTeleporter;case 321:return e.RuinsWarpSiteToSite;case 322:return e.RuinsSwitch;case 323:return e.FloorPanel4;case 324:return e.Ruins1Door;case 325:return e.Ruins3Door;case 326:return e.Ruins2Door;case 327:return e.Ruins11ButtonDoor;case 328:return e.Ruins21ButtonDoor;case 329:return e.Ruins31ButtonDoor;case 330:return e.Ruins4ButtonDoor;case 331:return e.Ruins2ButtonDoor;case 332:return e.RuinsSensor;case 333:return e.RuinsFenceSwitch;case 334:return e.RuinsLaserFence4x2;case 335:return e.RuinsLaserFence6x2;case 336:return e.RuinsLaserFence4x4;case 337:return e.RuinsLaserFence6x4;case 338:return e.RuinsPoisonBlob;case 339:return e.RuinsPilarTrap;case 340:return e.PopupTrapNoTech;case 341:return e.RuinsCrystal;case 342:return e.Monument;case 345:return e.RuinsRock1;case 346:return e.RuinsRock2;case 347:return e.RuinsRock3;case 348:return e.RuinsRock4;case 349:return e.RuinsRock5;case 350:return e.RuinsRock6;case 351:return e.RuinsRock7;case 352:return e.Poison;case 353:return e.FixedBoxTypeRuins;case 354:return e.RandomBoxTypeRuins;case 355:return e.EnemyTypeBoxYellow;case 356:return e.EnemyTypeBoxBlue;case 357:return e.EmptyTypeBoxBlue;case 358:return e.DestructableRock;case 359:return e.PopupTrapsTechs;case 368:return e.FlyingWhiteBird;case 369:return e.Tower;case 370:return e.FloatingRocks;case 371:return e.FloatingSoul;case 372:return e.Butterfly;case 384:return e.LobbyGameMenu;case 385:return e.LobbyWarpObject;case 386:return e.Lobby1EventObjectDefaultTree;case 387:return e.UnknownItem387;case 388:return e.UnknownItem388;case 389:return e.UnknownItem389;case 390:return e.LobbyEventObjectStaticPumpkin;case 391:return e.LobbyEventObject3ChristmasWindows;case 392:return e.LobbyEventObjectRedAndWhiteCurtain;case 393:return e.UnknownItem393;case 394:return e.UnknownItem394;case 395:return e.LobbyFishTank;case 396:return e.LobbyEventObjectButterflies;case 400:return e.UnknownItem400;case 401:return e.GreyWallLow;case 402:return e.SpaceshipDoor;case 403:return e.GreyWallHigh;case 416:return e.TempleNormalDoor;case 417:return e.BreakableWallWallButUnbreakable;case 418:return e.BrokenCilinderAndRubble;case 419:return e.ThreeBrokenWallPiecesOnFloor;case 420:return e.HighBrickCilinder;case 421:return e.LyingCilinder;case 422:return e.BrickConeWithFlatTop;case 423:return e.BreakableTempleWall;case 424:return e.TempleMapDetect;case 425:return e.SmallBrownBrickRisingBridge;case 426:return e.LongRisingBridgeWithPinkHighEdges;case 427:return e.FourSwitchTempleDoor;case 448:return e.FourButtonSpaceshipDoor;case 512:return e.ItemBoxCca;case 513:return e.TeleporterEp2;case 514:return e.CCADoor;case 515:return e.SpecialBoxCCA;case 516:return e.BigCCADoor;case 517:return e.BigCCADoorSwitch;case 518:return e.LittleRock;case 519:return e.Little3StoneWall;case 520:return e.Medium3StoneWall;case 521:return e.SpiderPlant;case 522:return e.CCAAreaTeleporter;case 523:return e.UnknownItem523;case 524:return e.WhiteBird;case 525:return e.OrangeBird;case 527:return e.Saw;case 528:return e.LaserDetect;case 529:return e.UnknownItem529;case 530:return e.UnknownItem530;case 531:return e.Seagull;case 544:return e.Fish;case 545:return e.SeabedDoorWithBlueEdges;case 546:return e.SeabedDoorAlwaysOpenNonTriggerable;case 547:return e.LittleCryotube;case 548:return e.WideGlassWallBreakable;case 549:return e.BlueFloatingRobot;case 550:return e.RedFloatingRobot;case 551:return e.Dolphin;case 552:return e.CaptureTrap;case 553:return e.VRLink;case 576:return e.UnknownItem576;case 640:return e.WarpInBarbaRayRoom;case 672:return e.UnknownItem672;case 688:return e.GeeNest;case 689:return e.LabComputerConsole;case 690:return e.LabComputerConsoleGreenScreen;case 691:return e.ChairYelllowPillow;case 692:return e.OrangeWallWithHoleInMiddle;case 693:return e.GreyWallWithHoleInMiddle;case 694:return e.LongTable;case 695:return e.GBAStation;case 696:return e.TalkLinkToSupport;case 697:return e.InstaWarp;case 698:return e.LabInvisibleObject;case 699:return e.LabGlassWindowDoor;case 700:return e.UnknownItem700;case 701:return e.LabCelingWarp;case 768:return e.Ep4LightSource;case 769:return e.Cacti;case 770:return e.BigBrownRock;case 771:return e.BreakableBrownRock;case 832:return e.UnknownItem832;case 833:return e.UnknownItem833;case 896:return e.PoisonPlant;case 897:return e.UnknownItem897;case 898:return e.UnknownItem898;case 899:return e.OozingDesertPlant;case 901:return e.UnknownItem901;case 902:return e.BigBlackRocks;case 903:return e.UnknownItem903;case 904:return e.UnknownItem904;case 905:return e.UnknownItem905;case 906:return e.UnknownItem906;case 907:return e.FallingRock;case 908:return e.DesertPlantHasCollision;case 909:return e.DesertFixedTypeBoxBreakableCrystals;case 910:return e.UnknownItem910;case 911:return e.BeeHive;case 912:return e.UnknownItem912;case 913:return e.Heat;case 960:return e.TopOfSaintMillionEgg;case 961:return e.UnknownItem961}}}]),e}();function G(e){var n=Object.values(e),t=n.filter(function(e){return"number"===typeof e});return t.length?t:n}T.Unknown=void 0,T.PlayerSet=void 0,T.Particle=void 0,T.Teleporter=void 0,T.Warp=void 0,T.LightCollision=void 0,T.Item=void 0,T.EnvSound=void 0,T.FogCollision=void 0,T.EventCollision=void 0,T.CharaCollision=void 0,T.ElementalTrap=void 0,T.StatusTrap=void 0,T.HealTrap=void 0,T.LargeElementalTrap=void 0,T.ObjRoomID=void 0,T.Sensor=void 0,T.UnknownItem16=void 0,T.Lensflare=void 0,T.ScriptCollision=void 0,T.HealRing=void 0,T.MapCollision=void 0,T.ScriptCollisionA=void 0,T.ItemLight=void 0,T.RadarCollision=void 0,T.FogCollisionSW=void 0,T.BossTeleporter=void 0,T.ImageBoard=void 0,T.QuestWarp=void 0,T.Epilogue=void 0,T.UnknownItem29=void 0,T.UnknownItem30=void 0,T.UnknownItem31=void 0,T.BoxDetectObject=void 0,T.SymbolChatObject=void 0,T.TouchPlateObject=void 0,T.TargetableObject=void 0,T.EffectObject=void 0,T.CountDownObject=void 0,T.UnknownItem38=void 0,T.UnknownItem39=void 0,T.UnknownItem40=void 0,T.UnknownItem41=void 0,T.MenuActivation=void 0,T.TelepipeLocation=void 0,T.BGMCollision=void 0,T.MainRagolTeleporter=void 0,T.LobbyTeleporter=void 0,T.PrincipalWarp=void 0,T.ShopDoor=void 0,T.HuntersGuildDoor=void 0,T.TeleporterDoor=void 0,T.MedicalCenterDoor=void 0,T.Elevator=void 0,T.EasterEgg=void 0,T.ValentinesHeart=void 0,T.ChristmasTree=void 0,T.ChristmasWreath=void 0,T.HalloweenPumpkin=void 0,T.TwentyFirstCentury=void 0,T.Sonic=void 0,T.WelcomeBoard=void 0,T.Firework=void 0,T.LobbyScreenDoor=void 0,T.MainRagolTeleporterBattleInNextArea=void 0,T.LabTeleporterDoor=void 0,T.Pioneer2InvisibleTouchplate=void 0,T.ForestDoor=void 0,T.ForestSwitch=void 0,T.LaserFence=void 0,T.LaserSquareFence=void 0,T.ForestLaserFenceSwitch=void 0,T.LightRays=void 0,T.BlueButterfly=void 0,T.Probe=void 0,T.RandomTypeBox1=void 0,T.ForestWeatherStation=void 0,T.Battery=void 0,T.ForestConsole=void 0,T.BlackSlidingDoor=void 0,T.RicoMessagePod=void 0,T.EnergyBarrier=void 0,T.ForestRisingBridge=void 0,T.SwitchNoneDoor=void 0,T.EnemyBoxGrey=void 0,T.FixedTypeBox=void 0,T.EnemyBoxBrown=void 0,T.EmptyTypeBox=void 0,T.LaserFenseEx=void 0,T.LaserSquareFenceEx=void 0,T.FloorPanel1=void 0,T.Caves4ButtonDoor=void 0,T.CavesNormalDoor=void 0,T.CavesSmashingPillar=void 0,T.CavesSign1=void 0,T.CavesSign2=void 0,T.CavesSign3=void 0,T.HexagalTank=void 0,T.BrownPlatform=void 0,T.WarningLightObject=void 0,T.Rainbow=void 0,T.FloatingJelifish=void 0,T.FloatingDragonfly=void 0,T.CavesSwitchDoor=void 0,T.RobotRechargeStation=void 0,T.CavesCakeShop=void 0,T.Caves1SmallRedRock=void 0,T.Caves1MediumRedRock=void 0,T.Caves1LargeRedRock=void 0,T.Caves2SmallRock1=void 0,T.Caves2MediumRock1=void 0,T.Caves2LargeRock1=void 0,T.Caves2SmallRock2=void 0,T.Caves2MediumRock2=void 0,T.Caves2LargeRock2=void 0,T.Caves3SmallRock=void 0,T.Caves3MediumRock=void 0,T.Caves3LargeRock=void 0,T.FloorPanel2=void 0,T.DestructableRockCaves1=void 0,T.DestructableRockCaves2=void 0,T.DestructableRockCaves3=void 0,T.MinesDoor=void 0,T.FloorPanel3=void 0,T.MinesSwitchDoor=void 0,T.LargeCryoTube=void 0,T.ComputerLikeCalus=void 0,T.GreenScreenOpeningAndClosing=void 0,T.FloatingRobot=void 0,T.FloatingBlueLight=void 0,T.SelfDestructingObject1=void 0,T.SelfDestructingObject2=void 0,T.SelfDestructingObject3=void 0,T.SparkMachine=void 0,T.MinesLargeFlashingCrate=void 0,T.RuinsSeal=void 0,T.RuinsTeleporter=void 0,T.RuinsWarpSiteToSite=void 0,T.RuinsSwitch=void 0,T.FloorPanel4=void 0,T.Ruins1Door=void 0,T.Ruins3Door=void 0,T.Ruins2Door=void 0,T.Ruins11ButtonDoor=void 0,T.Ruins21ButtonDoor=void 0,T.Ruins31ButtonDoor=void 0,T.Ruins4ButtonDoor=void 0,T.Ruins2ButtonDoor=void 0,T.RuinsSensor=void 0,T.RuinsFenceSwitch=void 0,T.RuinsLaserFence4x2=void 0,T.RuinsLaserFence6x2=void 0,T.RuinsLaserFence4x4=void 0,T.RuinsLaserFence6x4=void 0,T.RuinsPoisonBlob=void 0,T.RuinsPilarTrap=void 0,T.PopupTrapNoTech=void 0,T.RuinsCrystal=void 0,T.Monument=void 0,T.RuinsRock1=void 0,T.RuinsRock2=void 0,T.RuinsRock3=void 0,T.RuinsRock4=void 0,T.RuinsRock5=void 0,T.RuinsRock6=void 0,T.RuinsRock7=void 0,T.Poison=void 0,T.FixedBoxTypeRuins=void 0,T.RandomBoxTypeRuins=void 0,T.EnemyTypeBoxYellow=void 0,T.EnemyTypeBoxBlue=void 0,T.EmptyTypeBoxBlue=void 0,T.DestructableRock=void 0,T.PopupTrapsTechs=void 0,T.FlyingWhiteBird=void 0,T.Tower=void 0,T.FloatingRocks=void 0,T.FloatingSoul=void 0,T.Butterfly=void 0,T.LobbyGameMenu=void 0,T.LobbyWarpObject=void 0,T.Lobby1EventObjectDefaultTree=void 0,T.UnknownItem387=void 0,T.UnknownItem388=void 0,T.UnknownItem389=void 0,T.LobbyEventObjectStaticPumpkin=void 0,T.LobbyEventObject3ChristmasWindows=void 0,T.LobbyEventObjectRedAndWhiteCurtain=void 0,T.UnknownItem393=void 0,T.UnknownItem394=void 0,T.LobbyFishTank=void 0,T.LobbyEventObjectButterflies=void 0,T.UnknownItem400=void 0,T.GreyWallLow=void 0,T.SpaceshipDoor=void 0,T.GreyWallHigh=void 0,T.TempleNormalDoor=void 0,T.BreakableWallWallButUnbreakable=void 0,T.BrokenCilinderAndRubble=void 0,T.ThreeBrokenWallPiecesOnFloor=void 0,T.HighBrickCilinder=void 0,T.LyingCilinder=void 0,T.BrickConeWithFlatTop=void 0,T.BreakableTempleWall=void 0,T.TempleMapDetect=void 0,T.SmallBrownBrickRisingBridge=void 0,T.LongRisingBridgeWithPinkHighEdges=void 0,T.FourSwitchTempleDoor=void 0,T.FourButtonSpaceshipDoor=void 0,T.ItemBoxCca=void 0,T.TeleporterEp2=void 0,T.CCADoor=void 0,T.SpecialBoxCCA=void 0,T.BigCCADoor=void 0,T.BigCCADoorSwitch=void 0,T.LittleRock=void 0,T.Little3StoneWall=void 0,T.Medium3StoneWall=void 0,T.SpiderPlant=void 0,T.CCAAreaTeleporter=void 0,T.UnknownItem523=void 0,T.WhiteBird=void 0,T.OrangeBird=void 0,T.Saw=void 0,T.LaserDetect=void 0,T.UnknownItem529=void 0,T.UnknownItem530=void 0,T.Seagull=void 0,T.Fish=void 0,T.SeabedDoorWithBlueEdges=void 0,T.SeabedDoorAlwaysOpenNonTriggerable=void 0,T.LittleCryotube=void 0,T.WideGlassWallBreakable=void 0,T.BlueFloatingRobot=void 0,T.RedFloatingRobot=void 0,T.Dolphin=void 0,T.CaptureTrap=void 0,T.VRLink=void 0,T.UnknownItem576=void 0,T.WarpInBarbaRayRoom=void 0,T.UnknownItem672=void 0,T.GeeNest=void 0,T.LabComputerConsole=void 0,T.LabComputerConsoleGreenScreen=void 0,T.ChairYelllowPillow=void 0,T.OrangeWallWithHoleInMiddle=void 0,T.GreyWallWithHoleInMiddle=void 0,T.LongTable=void 0,T.GBAStation=void 0,T.TalkLinkToSupport=void 0,T.InstaWarp=void 0,T.LabInvisibleObject=void 0,T.LabGlassWindowDoor=void 0,T.UnknownItem700=void 0,T.LabCelingWarp=void 0,T.Ep4LightSource=void 0,T.Cacti=void 0,T.BigBrownRock=void 0,T.BreakableBrownRock=void 0,T.UnknownItem832=void 0,T.UnknownItem833=void 0,T.PoisonPlant=void 0,T.UnknownItem897=void 0,T.UnknownItem898=void 0,T.OozingDesertPlant=void 0,T.UnknownItem901=void 0,T.BigBlackRocks=void 0,T.UnknownItem903=void 0,T.UnknownItem904=void 0,T.UnknownItem905=void 0,T.UnknownItem906=void 0,T.FallingRock=void 0,T.DesertPlantHasCollision=void 0,T.DesertFixedTypeBoxBreakableCrystals=void 0,T.UnknownItem910=void 0,T.BeeHive=void 0,T.UnknownItem912=void 0,T.Heat=void 0,T.TopOfSaintMillionEgg=void 0,T.UnknownItem961=void 0,function(){var e=1;T.Unknown=new T(e++,void 0,"Unknown"),T.PlayerSet=new T(e++,0,"Player Set"),T.Particle=new T(e++,1,"Particle"),T.Teleporter=new T(e++,2,"Teleporter"),T.Warp=new T(e++,3,"Warp"),T.LightCollision=new T(e++,4,"Light Collision"),T.Item=new T(e++,5,"Item"),T.EnvSound=new T(e++,6,"Env Sound"),T.FogCollision=new T(e++,7,"Fog Collision"),T.EventCollision=new T(e++,8,"Event Collision"),T.CharaCollision=new T(e++,9,"Chara Collision"),T.ElementalTrap=new T(e++,10,"Elemental Trap"),T.StatusTrap=new T(e++,11,"Status Trap"),T.HealTrap=new T(e++,12,"Heal Trap"),T.LargeElementalTrap=new T(e++,13,"Large Elemental Trap"),T.ObjRoomID=new T(e++,14,"Obj Room ID"),T.Sensor=new T(e++,15,"Sensor"),T.UnknownItem16=new T(e++,16,"Unknown Item (16)"),T.Lensflare=new T(e++,17,"Lensflare"),T.ScriptCollision=new T(e++,18,"Script Collision"),T.HealRing=new T(e++,19,"Heal Ring"),T.MapCollision=new T(e++,20,"Map Collision"),T.ScriptCollisionA=new T(e++,21,"Script Collision A"),T.ItemLight=new T(e++,22,"Item Light"),T.RadarCollision=new T(e++,23,"Radar Collision"),T.FogCollisionSW=new T(e++,24,"Fog Collision SW"),T.BossTeleporter=new T(e++,25,"Boss Teleporter"),T.ImageBoard=new T(e++,26,"Image Board"),T.QuestWarp=new T(e++,27,"Quest Warp"),T.Epilogue=new T(e++,28,"Epilogue"),T.UnknownItem29=new T(e++,29,"Unknown Item (29)"),T.UnknownItem30=new T(e++,30,"Unknown Item (30)"),T.UnknownItem31=new T(e++,31,"Unknown Item (31)"),T.BoxDetectObject=new T(e++,32,"Box Detect Object"),T.SymbolChatObject=new T(e++,33,"Symbol Chat Object"),T.TouchPlateObject=new T(e++,34,"Touch plate Object"),T.TargetableObject=new T(e++,35,"Targetable Object"),T.EffectObject=new T(e++,36,"Effect object"),T.CountDownObject=new T(e++,37,"Count Down Object"),T.UnknownItem38=new T(e++,38,"Unknown Item (38)"),T.UnknownItem39=new T(e++,39,"Unknown Item (39)"),T.UnknownItem40=new T(e++,40,"Unknown Item (40)"),T.UnknownItem41=new T(e++,41,"Unknown Item (41)"),T.MenuActivation=new T(e++,64,"Menu activation"),T.TelepipeLocation=new T(e++,65,"Telepipe Location"),T.BGMCollision=new T(e++,66,"BGM Collision"),T.MainRagolTeleporter=new T(e++,67,"Main Ragol Teleporter"),T.LobbyTeleporter=new T(e++,68,"Lobby Teleporter"),T.PrincipalWarp=new T(e++,69,"Principal warp"),T.ShopDoor=new T(e++,70,"Shop Door"),T.HuntersGuildDoor=new T(e++,71,"Hunter's Guild Door"),T.TeleporterDoor=new T(e++,72,"Teleporter Door"),T.MedicalCenterDoor=new T(e++,73,"Medical Center Door"),T.Elevator=new T(e++,74,"Elevator"),T.EasterEgg=new T(e++,75,"Easter Egg"),T.ValentinesHeart=new T(e++,76,"Valentines Heart"),T.ChristmasTree=new T(e++,77,"Christmas Tree"),T.ChristmasWreath=new T(e++,78,"Christmas Wreath"),T.HalloweenPumpkin=new T(e++,79,"Halloween Pumpkin"),T.TwentyFirstCentury=new T(e++,80,"21st Century"),T.Sonic=new T(e++,81,"Sonic"),T.WelcomeBoard=new T(e++,82,"Welcome Board"),T.Firework=new T(e++,83,"Firework"),T.LobbyScreenDoor=new T(e++,84,"Lobby Screen Door"),T.MainRagolTeleporterBattleInNextArea=new T(e++,85,"Main Ragol Teleporter (Battle in next area?)"),T.LabTeleporterDoor=new T(e++,86,"Lab Teleporter Door"),T.Pioneer2InvisibleTouchplate=new T(e++,87,"Pioneer 2 Invisible Touchplate"),T.ForestDoor=new T(e++,128,"Forest Door"),T.ForestSwitch=new T(e++,129,"Forest Switch"),T.LaserFence=new T(e++,130,"Laser Fence"),T.LaserSquareFence=new T(e++,131,"Laser Square Fence"),T.ForestLaserFenceSwitch=new T(e++,132,"Forest Laser Fence Switch"),T.LightRays=new T(e++,133,"Light rays"),T.BlueButterfly=new T(e++,134,"Blue Butterfly"),T.Probe=new T(e++,135,"Probe"),T.RandomTypeBox1=new T(e++,136,"Random Type Box 1"),T.ForestWeatherStation=new T(e++,137,"Forest Weather Station"),T.Battery=new T(e++,138,"Battery"),T.ForestConsole=new T(e++,139,"Forest Console"),T.BlackSlidingDoor=new T(e++,140,"Black Sliding Door"),T.RicoMessagePod=new T(e++,141,"Rico Message Pod"),T.EnergyBarrier=new T(e++,142,"Energy Barrier"),T.ForestRisingBridge=new T(e++,143,"Forest Rising Bridge"),T.SwitchNoneDoor=new T(e++,144,"Switch (none door)"),T.EnemyBoxGrey=new T(e++,145,"Enemy Box (Grey)"),T.FixedTypeBox=new T(e++,146,"Fixed Type Box"),T.EnemyBoxBrown=new T(e++,147,"Enemy Box (Brown)"),T.EmptyTypeBox=new T(e++,149,"Empty Type Box"),T.LaserFenseEx=new T(e++,150,"Laser Fense Ex"),T.LaserSquareFenceEx=new T(e++,151,"Laser Square Fence Ex"),T.FloorPanel1=new T(e++,192,"Floor Panel 1"),T.Caves4ButtonDoor=new T(e++,193,"Caves 4 Button door"),T.CavesNormalDoor=new T(e++,194,"Caves Normal door"),T.CavesSmashingPillar=new T(e++,195,"Caves Smashing Pillar"),T.CavesSign1=new T(e++,196,"Caves Sign 1"),T.CavesSign2=new T(e++,197,"Caves Sign 2"),T.CavesSign3=new T(e++,198,"Caves Sign 3"),T.HexagalTank=new T(e++,199,"Hexagal Tank"),T.BrownPlatform=new T(e++,200,"Brown Platform"),T.WarningLightObject=new T(e++,201,"Warning Light Object"),T.Rainbow=new T(e++,203,"Rainbow"),T.FloatingJelifish=new T(e++,204,"Floating Jelifish"),T.FloatingDragonfly=new T(e++,205,"Floating Dragonfly"),T.CavesSwitchDoor=new T(e++,206,"Caves Switch Door"),T.RobotRechargeStation=new T(e++,207,"Robot Recharge Station"),T.CavesCakeShop=new T(e++,208,"Caves Cake Shop"),T.Caves1SmallRedRock=new T(e++,209,"Caves 1 Small Red Rock"),T.Caves1MediumRedRock=new T(e++,210,"Caves 1 Medium Red Rock"),T.Caves1LargeRedRock=new T(e++,211,"Caves 1 Large Red Rock"),T.Caves2SmallRock1=new T(e++,212,"Caves 2 Small Rock 1"),T.Caves2MediumRock1=new T(e++,213,"Caves 2 Medium Rock 1"),T.Caves2LargeRock1=new T(e++,214,"Caves 2 Large Rock 1"),T.Caves2SmallRock2=new T(e++,215,"Caves 2 Small Rock 2"),T.Caves2MediumRock2=new T(e++,216,"Caves 2 Medium Rock 2"),T.Caves2LargeRock2=new T(e++,217,"Caves 2 Large Rock 2"),T.Caves3SmallRock=new T(e++,218,"Caves 3 Small Rock"),T.Caves3MediumRock=new T(e++,219,"Caves 3 Medium Rock"),T.Caves3LargeRock=new T(e++,220,"Caves 3 Large Rock"),T.FloorPanel2=new T(e++,222,"Floor Panel 2"),T.DestructableRockCaves1=new T(e++,223,"Destructable Rock (Caves 1)"),T.DestructableRockCaves2=new T(e++,224,"Destructable Rock (Caves 2)"),T.DestructableRockCaves3=new T(e++,225,"Destructable Rock (Caves 3)"),T.MinesDoor=new T(e++,256,"Mines Door"),T.FloorPanel3=new T(e++,257,"Floor Panel 3"),T.MinesSwitchDoor=new T(e++,258,"Mines Switch Door"),T.LargeCryoTube=new T(e++,259,"Large Cryo-Tube"),T.ComputerLikeCalus=new T(e++,260,"Computer (like calus)"),T.GreenScreenOpeningAndClosing=new T(e++,261,"Green Screen opening and closing"),T.FloatingRobot=new T(e++,262,"Floating Robot"),T.FloatingBlueLight=new T(e++,263,"Floating Blue Light"),T.SelfDestructingObject1=new T(e++,264,"Self Destructing Object 1"),T.SelfDestructingObject2=new T(e++,265,"Self Destructing Object 2"),T.SelfDestructingObject3=new T(e++,266,"Self Destructing Object 3"),T.SparkMachine=new T(e++,267,"Spark Machine"),T.MinesLargeFlashingCrate=new T(e++,268,"Mines Large Flashing Crate"),T.RuinsSeal=new T(e++,304,"Ruins Seal"),T.RuinsTeleporter=new T(e++,320,"Ruins Teleporter"),T.RuinsWarpSiteToSite=new T(e++,321,"Ruins Warp (Site to site)"),T.RuinsSwitch=new T(e++,322,"Ruins Switch"),T.FloorPanel4=new T(e++,323,"Floor Panel 4"),T.Ruins1Door=new T(e++,324,"Ruins 1 Door"),T.Ruins3Door=new T(e++,325,"Ruins 3 Door"),T.Ruins2Door=new T(e++,326,"Ruins 2 Door"),T.Ruins11ButtonDoor=new T(e++,327,"Ruins 1-1 Button Door"),T.Ruins21ButtonDoor=new T(e++,328,"Ruins 2-1 Button Door"),T.Ruins31ButtonDoor=new T(e++,329,"Ruins 3-1 Button Door"),T.Ruins4ButtonDoor=new T(e++,330,"Ruins 4-Button Door"),T.Ruins2ButtonDoor=new T(e++,331,"Ruins 2-Button Door"),T.RuinsSensor=new T(e++,332,"Ruins Sensor"),T.RuinsFenceSwitch=new T(e++,333,"Ruins Fence Switch"),T.RuinsLaserFence4x2=new T(e++,334,"Ruins Laser Fence 4x2"),T.RuinsLaserFence6x2=new T(e++,335,"Ruins Laser Fence 6x2"),T.RuinsLaserFence4x4=new T(e++,336,"Ruins Laser Fence 4x4"),T.RuinsLaserFence6x4=new T(e++,337,"Ruins Laser Fence 6x4"),T.RuinsPoisonBlob=new T(e++,338,"Ruins poison Blob"),T.RuinsPilarTrap=new T(e++,339,"Ruins Pilar Trap"),T.PopupTrapNoTech=new T(e++,340,"Popup Trap (No Tech)"),T.RuinsCrystal=new T(e++,341,"Ruins Crystal"),T.Monument=new T(e++,342,"Monument"),T.RuinsRock1=new T(e++,345,"Ruins Rock 1"),T.RuinsRock2=new T(e++,346,"Ruins Rock 2"),T.RuinsRock3=new T(e++,347,"Ruins Rock 3"),T.RuinsRock4=new T(e++,348,"Ruins Rock 4"),T.RuinsRock5=new T(e++,349,"Ruins Rock 5"),T.RuinsRock6=new T(e++,350,"Ruins Rock 6"),T.RuinsRock7=new T(e++,351,"Ruins Rock 7"),T.Poison=new T(e++,352,"Poison"),T.FixedBoxTypeRuins=new T(e++,353,"Fixed Box Type (Ruins)"),T.RandomBoxTypeRuins=new T(e++,354,"Random Box Type (Ruins)"),T.EnemyTypeBoxYellow=new T(e++,355,"Enemy Type Box (Yellow)"),T.EnemyTypeBoxBlue=new T(e++,356,"Enemy Type Box (Blue)"),T.EmptyTypeBoxBlue=new T(e++,357,"Empty Type Box (Blue)"),T.DestructableRock=new T(e++,358,"Destructable Rock"),T.PopupTrapsTechs=new T(e++,359,"Popup Traps (techs)"),T.FlyingWhiteBird=new T(e++,368,"Flying White Bird"),T.Tower=new T(e++,369,"Tower"),T.FloatingRocks=new T(e++,370,"Floating Rocks"),T.FloatingSoul=new T(e++,371,"Floating Soul"),T.Butterfly=new T(e++,372,"Butterfly"),T.LobbyGameMenu=new T(e++,384,"Lobby Game menu"),T.LobbyWarpObject=new T(e++,385,"Lobby Warp Object"),T.Lobby1EventObjectDefaultTree=new T(e++,386,"Lobby 1 Event Object (Default Tree)"),T.UnknownItem387=new T(e++,387,"Unknown Item (387)"),T.UnknownItem388=new T(e++,388,"Unknown Item (388)"),T.UnknownItem389=new T(e++,389,"Unknown Item (389)"),T.LobbyEventObjectStaticPumpkin=new T(e++,390,"Lobby Event Object (Static Pumpkin)"),T.LobbyEventObject3ChristmasWindows=new T(e++,391,"Lobby Event Object (3 Christmas Windows)"),T.LobbyEventObjectRedAndWhiteCurtain=new T(e++,392,"Lobby Event Object (Red and White Curtain)"),T.UnknownItem393=new T(e++,393,"Unknown Item (393)"),T.UnknownItem394=new T(e++,394,"Unknown Item (394)"),T.LobbyFishTank=new T(e++,395,"Lobby Fish Tank"),T.LobbyEventObjectButterflies=new T(e++,396,"Lobby Event Object (Butterflies)"),T.UnknownItem400=new T(e++,400,"Unknown Item (400)"),T.GreyWallLow=new T(e++,401,"grey wall low"),T.SpaceshipDoor=new T(e++,402,"Spaceship Door"),T.GreyWallHigh=new T(e++,403,"grey wall high"),T.TempleNormalDoor=new T(e++,416,"Temple Normal Door"),T.BreakableWallWallButUnbreakable=new T(e++,417,'"breakable wall wall, but unbreakable"'),T.BrokenCilinderAndRubble=new T(e++,418,"Broken cilinder and rubble"),T.ThreeBrokenWallPiecesOnFloor=new T(e++,419,"3 broken wall pieces on floor"),T.HighBrickCilinder=new T(e++,420,"high brick cilinder"),T.LyingCilinder=new T(e++,421,"lying cilinder"),T.BrickConeWithFlatTop=new T(e++,422,"brick cone with flat top"),T.BreakableTempleWall=new T(e++,423,"breakable temple wall"),T.TempleMapDetect=new T(e++,424,"Temple Map Detect"),T.SmallBrownBrickRisingBridge=new T(e++,425,"small brown brick rising bridge"),T.LongRisingBridgeWithPinkHighEdges=new T(e++,426,"long rising bridge (with pink high edges)"),T.FourSwitchTempleDoor=new T(e++,427,"4 switch temple door"),T.FourButtonSpaceshipDoor=new T(e++,448,"4 button spaceship door"),T.ItemBoxCca=new T(e++,512,"item box cca"),T.TeleporterEp2=new T(e++,513,"Teleporter (Ep 2)"),T.CCADoor=new T(e++,514,"CCA Door"),T.SpecialBoxCCA=new T(e++,515,"Special Box CCA"),T.BigCCADoor=new T(e++,516,"Big CCA Door"),T.BigCCADoorSwitch=new T(e++,517,"Big CCA Door Switch"),T.LittleRock=new T(e++,518,"Little Rock"),T.Little3StoneWall=new T(e++,519,"Little 3 Stone Wall"),T.Medium3StoneWall=new T(e++,520,"Medium 3 stone wall"),T.SpiderPlant=new T(e++,521,"Spider Plant"),T.CCAAreaTeleporter=new T(e++,522,"CCA Area Teleporter"),T.UnknownItem523=new T(e++,523,"Unknown Item (523)"),T.WhiteBird=new T(e++,524,"White Bird"),T.OrangeBird=new T(e++,525,"Orange Bird"),T.Saw=new T(e++,527,"Saw"),T.LaserDetect=new T(e++,528,"Laser Detect"),T.UnknownItem529=new T(e++,529,"Unknown Item (529)"),T.UnknownItem530=new T(e++,530,"Unknown Item (530)"),T.Seagull=new T(e++,531,"Seagull"),T.Fish=new T(e++,544,"Fish"),T.SeabedDoorWithBlueEdges=new T(e++,545,"Seabed Door (with blue edges)"),T.SeabedDoorAlwaysOpenNonTriggerable=new T(e++,546,"Seabed door (always open, non-triggerable)"),T.LittleCryotube=new T(e++,547,"Little Cryotube"),T.WideGlassWallBreakable=new T(e++,548,"Wide Glass Wall (breakable)"),T.BlueFloatingRobot=new T(e++,549,"Blue floating robot"),T.RedFloatingRobot=new T(e++,550,"Red floating robot"),T.Dolphin=new T(e++,551,"Dolphin"),T.CaptureTrap=new T(e++,552,"Capture Trap"),T.VRLink=new T(e++,553,"VR link"),T.UnknownItem576=new T(e++,576,"Unknown Item (576)"),T.WarpInBarbaRayRoom=new T(e++,640,"Warp in Barba Ray Room"),T.UnknownItem672=new T(e++,672,"Unknown Item (672)"),T.GeeNest=new T(e++,688,"Gee Nest"),T.LabComputerConsole=new T(e++,689,"Lab Computer Console"),T.LabComputerConsoleGreenScreen=new T(e++,690,"Lab Computer Console (Green Screen)"),T.ChairYelllowPillow=new T(e++,691,"Chair, Yelllow Pillow"),T.OrangeWallWithHoleInMiddle=new T(e++,692,"orange wall with hole in middle"),T.GreyWallWithHoleInMiddle=new T(e++,693,"grey wall with hole in middle"),T.LongTable=new T(e++,694,"long table"),T.GBAStation=new T(e++,695,"GBA Station"),T.TalkLinkToSupport=new T(e++,696,"Talk (link to support)"),T.InstaWarp=new T(e++,697,"insta-warp"),T.LabInvisibleObject=new T(e++,698,"Lab Invisible Object"),T.LabGlassWindowDoor=new T(e++,699,"Lab Glass window Door"),T.UnknownItem700=new T(e++,700,"Unknown Item (700)"),T.LabCelingWarp=new T(e++,701,"Lab Celing Warp"),T.Ep4LightSource=new T(e++,768,"Ep4 Light Source"),T.Cacti=new T(e++,769,"cacti"),T.BigBrownRock=new T(e++,770,"Big Brown Rock"),T.BreakableBrownRock=new T(e++,771,"Breakable Brown Rock"),T.UnknownItem832=new T(e++,832,"Unknown Item (832)"),T.UnknownItem833=new T(e++,833,"Unknown Item (833)"),T.PoisonPlant=new T(e++,896,"Poison Plant"),T.UnknownItem897=new T(e++,897,"Unknown Item (897)"),T.UnknownItem898=new T(e++,898,"Unknown Item (898)"),T.OozingDesertPlant=new T(e++,899,"Oozing Desert Plant"),T.UnknownItem901=new T(e++,901,"Unknown Item (901)"),T.BigBlackRocks=new T(e++,902,"big black rocks"),T.UnknownItem903=new T(e++,903,"Unknown Item (903)"),T.UnknownItem904=new T(e++,904,"Unknown Item (904)"),T.UnknownItem905=new T(e++,905,"Unknown Item (905)"),T.UnknownItem906=new T(e++,906,"Unknown Item (906)"),T.FallingRock=new T(e++,907,"Falling Rock"),T.DesertPlantHasCollision=new T(e++,908,"Desert Plant (has collision)"),T.DesertFixedTypeBoxBreakableCrystals=new T(e++,909,"Desert Fixed Type Box (Breakable Crystals)"),T.UnknownItem910=new T(e++,910,"Unknown Item (910)"),T.BeeHive=new T(e++,911,"Bee Hive"),T.UnknownItem912=new T(e++,912,"Unknown Item (912)"),T.Heat=new T(e++,913,"Heat"),T.TopOfSaintMillionEgg=new T(e++,960,"Top of saint million egg"),T.UnknownItem961=new T(e++,961,"Unknown Item (961)")}();var P,U,z,W,N,H,V,q,Y,Z,K,Q,J,X,$,ee,ne,te,re,ae,ie,oe,se,le,ue,ce,de=function(){function e(n,t){Object(u.a)(this,e),this.keys=void 0,this.values=new Map,this.keys=G(n);var r=!0,a=!1,i=void 0;try{for(var o,s=this.keys[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;this.values.set(l,t(l))}}catch(c){a=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}}return Object(c.a)(e,[{key:"get",value:function(e){return this.values.get(e)}}]),e}(),pe=1/512,he=.1;!function(e){e.Ephinea="Ephinea"}(ce||(ce={}));var we;G(ce);!function(e){e[e.I=1]="I",e[e.II=2]="II",e[e.IV=4]="IV"}(we||(we={}));var me;G(we);function ve(e){if(!we[e])throw new Error("Invalid episode ".concat(e,"."))}!function(e){e[e.Viridia=0]="Viridia",e[e.Greenill=1]="Greenill",e[e.Skyly=2]="Skyly",e[e.Bluefull=3]="Bluefull",e[e.Purplenum=4]="Purplenum",e[e.Pinkal=5]="Pinkal",e[e.Redria=6]="Redria",e[e.Oran=7]="Oran",e[e.Yellowboze=8]="Yellowboze",e[e.Whitill=9]="Whitill"}(me||(me={}));var be,fe=G(me);!function(e){e[e.Normal=0]="Normal",e[e.Hard=1]="Hard",e[e.VHard=2]="VHard",e[e.Ultimate=3]="Ultimate"}(be||(be={}));var ke,ye,ge,Re,De,Se,Oe,Ie,_e=G(be),je=function(){function e(n,t,r){Object(u.a)(this,e),this.x=void 0,this.y=void 0,this.z=void 0,this.x=n||0,this.y=t||0,this.z=r||0}return Object(c.a)(e,[{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"clone",value:function(n,t,r){return new e("number"===typeof n?n:this.x,"number"===typeof t?t:this.y,"number"===typeof r?r:this.z)}}]),e}(),Ce=(P=function(){function e(n,t,r){if(Object(u.a)(this,e),this.id=void 0,Object(j.a)(this,"position",U,this),Object(j.a)(this,"yAxisRotation",z,this),!Number.isInteger(n)||n<-1)throw new Error("Expected id to be an integer greater than or equal to -1, got ".concat(n,"."));if(!t)throw new Error("position is required.");if("number"!==typeof r)throw new Error("yAxisRotation is required.");this.id=n,this.position=t,this.yAxisRotation=r}return Object(c.a)(e,[{key:"sinYAxisRotation",get:function(){return Math.sin(this.yAxisRotation)}},{key:"cosYAxisRotation",get:function(){return Math.cos(this.yAxisRotation)}}]),e}(),U=Object(C.a)(P.prototype,"position",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=Object(C.a)(P.prototype,"yAxisRotation",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(C.a)(P.prototype,"sinYAxisRotation",[E.d],Object.getOwnPropertyDescriptor(P.prototype,"sinYAxisRotation"),P.prototype),Object(C.a)(P.prototype,"cosYAxisRotation",[E.d],Object.getOwnPropertyDescriptor(P.prototype,"cosYAxisRotation"),P.prototype),P),Le=(W=function e(n,t,r,a,i,o,s,l,c,d){if(Object(u.a)(this,e),Object(j.a)(this,"name",N,this),Object(j.a)(this,"shortDescription",H,this),Object(j.a)(this,"longDescription",V,this),Object(j.a)(this,"questNo",q,this),Object(j.a)(this,"episode",Y,this),Object(j.a)(this,"areaVariants",Z,this),Object(j.a)(this,"objects",K,this),Object(j.a)(this,"npcs",Q,this),this.datUnkowns=void 0,this.binData=void 0,null!=a&&(!Number.isInteger(a)||a<0))throw new Error("questNo should be null or a non-negative integer.");if(ve(i),!s||!(s instanceof Array))throw new Error("objs is required.");if(!l||!(l instanceof Array))throw new Error("npcs is required.");this.name=n,this.shortDescription=t,this.longDescription=r,this.questNo=a,this.episode=i,this.areaVariants=o,this.objects=s,this.npcs=l,this.datUnkowns=c,this.binData=d},N=Object(C.a)(W.prototype,"name",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=Object(C.a)(W.prototype,"shortDescription",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=Object(C.a)(W.prototype,"longDescription",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=Object(C.a)(W.prototype,"questNo",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=Object(C.a)(W.prototype,"episode",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=Object(C.a)(W.prototype,"areaVariants",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=Object(C.a)(W.prototype,"objects",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=Object(C.a)(W.prototype,"npcs",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W),Be=(J=function(){function e(n,t,r,a){if(Object(u.a)(this,e),Object(j.a)(this,"areaId",X,this),this._sectionId=void 0,Object(j.a)(this,"section",$,this),Object(j.a)(this,"position",ee,this),Object(j.a)(this,"rotation",ne,this),this.object3d=void 0,Object.getPrototypeOf(this)===Object.getPrototypeOf(e))throw new Error("Abstract class should not be instantiated directly.");if(!Number.isInteger(n)||n<0)throw new Error("Expected areaId to be a non-negative integer, got ".concat(n,"."));if(!Number.isInteger(t)||t<0)throw new Error("Expected sectionId to be a non-negative integer, got ".concat(t,"."));if(!r)throw new Error("position is required.");if(!a)throw new Error("rotation is required.");this.areaId=n,this._sectionId=t,this.position=r,this.rotation=a}return Object(c.a)(e,[{key:"sectionId",get:function(){return this.section?this.section.id:this._sectionId}},{key:"sectionPosition",get:function(){var e=this.position,n=e.x,t=e.y,r=e.z;if(this.section){var a=n-this.section.position.x,i=t-this.section.position.y,o=r-this.section.position.z,s=-this.section.sinYAxisRotation,l=this.section.cosYAxisRotation;n=l*a+s*o,t=i,r=-s*a+l*o}return new je(n,t,r)},set:function(e){var n=e.x,t=e.y,r=e.z;if(this.section){var a=-this.section.sinYAxisRotation,i=this.section.cosYAxisRotation,o=a*n+i*r,s=i*n-a*r+this.section.position.x,l=t+this.section.position.y,u=o+this.section.position.z;this.position=new je(s,l,u)}}}]),e}(),X=Object(C.a)(J.prototype,"areaId",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(C.a)(J.prototype,"sectionId",[E.d],Object.getOwnPropertyDescriptor(J.prototype,"sectionId"),J.prototype),$=Object(C.a)(J.prototype,"section",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=Object(C.a)(J.prototype,"position",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=Object(C.a)(J.prototype,"rotation",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(C.a)(J.prototype,"sectionPosition",[E.d],Object.getOwnPropertyDescriptor(J.prototype,"sectionPosition"),J.prototype),J),Ee=(te=function(e){function n(e,t,r,a,i,o){var s;if(Object(u.a)(this,n),s=Object(d.a)(this,Object(p.a)(n).call(this,e,t,r,a)),Object(j.a)(s,"type",re,Object(x.a)(s)),s.dat=void 0,!i)throw new Error("type is required.");return s.type=i,s.dat=o,s}return Object(h.a)(n,e),n}(Be),re=Object(C.a)(te.prototype,"type",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te),xe=(ae=function(e){function n(e,t,r,a,i,o){var s;if(Object(u.a)(this,n),s=Object(d.a)(this,Object(p.a)(n).call(this,e,t,r,a)),Object(j.a)(s,"type",ie,Object(x.a)(s)),s.dat=void 0,!i)throw new Error("type is required.");return s.type=i,s.dat=o,s}return Object(h.a)(n,e),n}(Be),ie=Object(C.a)(ae.prototype,"type",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae),Me=function e(n,t,r,a){if(Object(u.a)(this,e),this.id=void 0,this.name=void 0,this.order=void 0,this.areaVariants=void 0,!Number.isInteger(n)||n<0)throw new Error("Expected id to be a non-negative integer, got ".concat(n,"."));if(!t)throw new Error("name is required.");if(!a)throw new Error("areaVariants is required.");this.id=n,this.name=t,this.order=r,this.areaVariants=a},Ae=(oe=function e(n,t){if(Object(u.a)(this,e),this.id=n,this.area=t,Object(j.a)(this,"sections",se,this),!Number.isInteger(n)||n<0)throw new Error("Expected id to be a non-negative integer, got ".concat(n,"."))},se=Object(C.a)(oe.prototype,"sections",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe),Fe=function e(n,t){if(Object(u.a)(this,e),this.id=n,this.name=t,Object.getPrototypeOf(this)===Object.getPrototypeOf(e))throw new Error("Abstract class should not be instantiated directly.")},Te=function(e){function n(e,t,r,a,i,o,s){var l;return Object(u.a)(this,n),(l=Object(d.a)(this,Object(p.a)(n).call(this,e,t))).minAtp=r,l.maxAtp=a,l.ata=i,l.maxGrind=o,l.requiredAtp=s,l}return Object(h.a)(n,e),n}(Fe),Ge=function(e){function n(e,t){return Object(u.a)(this,n),Object(d.a)(this,Object(p.a)(n).call(this,e,t))}return Object(h.a)(n,e),n}(Fe),Pe=function(e){function n(e,t){return Object(u.a)(this,n),Object(d.a)(this,Object(p.a)(n).call(this,e,t))}return Object(h.a)(n,e),n}(Fe),Ue=function(e){function n(e,t){return Object(u.a)(this,n),Object(d.a)(this,Object(p.a)(n).call(this,e,t))}return Object(h.a)(n,e),n}(Fe),ze=function(e){function n(e,t){return Object(u.a)(this,n),Object(d.a)(this,Object(p.a)(n).call(this,e,t))}return Object(h.a)(n,e),n}(Fe),We=function e(n,t,r,a,i,o){Object(u.a)(this,e),this.difficulty=n,this.sectionId=t,this.npcType=r,this.item=a,this.anythingRate=i,this.rareRate=o,this.rate=void 0,this.rate=i*o},Ne=(le=function(){function e(n,t,r,a){if(Object(u.a)(this,e),this.id=void 0,this.name=void 0,this.quest=void 0,this.npcs=void 0,this.enemies=void 0,this.enemyCounts=void 0,this.defaultTime=void 0,Object(j.a)(this,"userTime",ue,this),!n)throw new Error("id is required.");if(a<=0)throw new Error("defaultTime must be greater than zero.");if(!t)throw new Error("name is required.");if(!r)throw new Error("quest is required.");this.id=n,this.name=t,this.quest=r,this.npcs=this.quest.npcs,this.enemies=this.npcs.filter(function(e){return e.type.enemy}),this.enemyCounts=new Map;var i=!0,o=!1,s=void 0;try{for(var l,c=this.enemies[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var d=l.value;this.enemyCounts.set(d.type,(this.enemyCounts.get(d.type)||0)+1)}}catch(p){o=!0,s=p}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}this.defaultTime=a}return Object(c.a)(e,[{key:"time",get:function(){return null!=this.userTime?this.userTime:this.defaultTime}}]),e}(),ue=Object(C.a)(le.prototype,"userTime",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(C.a)(le.prototype,"time",[E.d],Object.getOwnPropertyDescriptor(le.prototype,"time"),le.prototype),le),He=function e(n,t,r){if(Object(u.a)(this,e),this.id=n,this.name=t,this.npcs=r,!n)throw new Error("id is required.");if(!t)throw new Error("name is required.");if(!r)throw new Error("npcs is required.")},Ve=function e(n){if(Object(u.a)(this,e),this.type=n,!n)throw new Error("type is required.")},qe=new(ke=function e(){Object(u.a)(this,e),Object(j.a)(this,"currentServer",ye,this)},ye=Object(C.a)(ke.prototype,"currentServer",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ce.Ephinea}}),ke),Ye=t(100);!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Nominal=2]="Nominal",e[e.Error=3]="Error",e[e.Reloading=4]="Reloading"}(Ie||(Ie={}));var Ze,Ke,Qe,Je,Xe,$e,en,nn,tn,rn,an,on,sn,ln,un,cn=(ge=function(){function e(n,t){Object(u.a)(this,e),Object(j.a)(this,"_value",Re,this),Object(j.a)(this,"_promise",De,this),Object(j.a)(this,"_state",Se,this),this._load=void 0,Object(j.a)(this,"_error",Oe,this),this._value=n,this._load=t}return Object(c.a)(e,[{key:"load",value:function(){return this.loadValue()}},{key:"loadValue",value:function(){var e=Object(_.a)(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isLoading){e.next=2;break}return e.abrupt("return",this._promise);case 2:if(this._state=Ie.Initializing,e.prev=3,!this._load){e.next=9;break}return this._promise=this._load(),e.next=8,this._promise;case 8:this._value=e.sent;case 9:return this._state=Ie.Nominal,this._error=void 0,e.abrupt("return",this._value);case 14:throw e.prev=14,e.t0=e.catch(3),this._state=Ie.Error,this._error=e.t0,e.t0;case 19:case"end":return e.stop()}},e,this,[[3,14]])}));return function(){return e.apply(this,arguments)}}()},{key:"value",get:function(){var e=this;return this._state===Ie.Uninitialized&&Object(Ye.defer)(function(){return e.loadValue()}),this._value}},{key:"promise",get:function(){return this._state===Ie.Uninitialized?this.loadValue():this._promise}},{key:"state",get:function(){return this._state}},{key:"isInitialized",get:function(){return this._state!==Ie.Uninitialized}},{key:"isLoading",get:function(){switch(this._state){case Ie.Initializing:case Ie.Reloading:return!0;default:return!1}}},{key:"error",get:function(){return this._error}}]),e}(),Re=Object(C.a)(ge.prototype,"_value",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=Object(C.a)(ge.prototype,"_promise",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return new Promise(function(n){return n(e._value)})}}),Se=Object(C.a)(ge.prototype,"_state",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ie.Uninitialized}}),Oe=Object(C.a)(ge.prototype,"_error",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(C.a)(ge.prototype,"value",[E.d],Object.getOwnPropertyDescriptor(ge.prototype,"value"),ge.prototype),Object(C.a)(ge.prototype,"state",[E.d],Object.getOwnPropertyDescriptor(ge.prototype,"state"),ge.prototype),Object(C.a)(ge.prototype,"isInitialized",[E.d],Object.getOwnPropertyDescriptor(ge.prototype,"isInitialized"),ge.prototype),Object(C.a)(ge.prototype,"isLoading",[E.d],Object.getOwnPropertyDescriptor(ge.prototype,"isLoading"),ge.prototype),Object(C.a)(ge.prototype,"error",[E.d],Object.getOwnPropertyDescriptor(ge.prototype,"error"),ge.prototype),ge),dn=(Ze=function(e){function n(e){return Object(u.a)(this,n),Object(d.a)(this,Object(p.a)(n).call(this,ce,e))}return Object(h.a)(n,e),Object(c.a)(n,[{key:"current",get:function(){return this.get(qe.currentServer)}}]),n}(de),Object(C.a)(Ze.prototype,"current",[E.d],Object.getOwnPropertyDescriptor(Ze.prototype,"current"),Ze.prototype),Ze),pn=new(Ke=function(){function e(){Object(u.a)(this,e),Object(j.a)(this,"methods",Qe,this)}return Object(c.a)(e,[{key:"loadHuntMethods",value:function(){var e=Object(_.a)(I.a.mark(function e(n){var t,r,a,i;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("","/quests.").concat(ce[n].toLowerCase(),".tsv"));case 2:return t=e.sent,e.next=5,t.text();case 5:return r=e.sent,a=r.split("\n").map(function(e){return e.split("\t")}),i=a[0].slice(2,-2).map(function(e,n){var t=a[1][n+2];return M.byNameAndEpisode(t,parseInt(e,10))}),e.abrupt("return",a.slice(2).map(function(e,n){var t=n+1,r=e[0],a=parseFloat(e[1]),o=e.slice(2,-2).flatMap(function(e,n){var t=parseInt(e,10),r=i[n],a=[];if(r)for(var o=0;o<t;o++)a.push(new Ve(r));else console.error("Couldn't get type for cellI ".concat(n,"."));return a});return new Ne("q".concat(t),r,new He(t,r,o),a)}));case 9:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()}]),e}(),Qe=Object(C.a)(Ke.prototype,"methods",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return new dn(function(n){return new cn([],function(){return e.loadHuntMethods(n)})})}}),Ke),hn=(Je=function(){function e(){var n=this;Object(u.a)(this,e),this.idToItemKind=[],Object(j.a)(this,"itemKinds",Xe,this),this.load=function(){var e=Object(_.a)(I.a.mark(function e(t){var r,a,i,o,s,l,u,c,d,p;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("","/itemKinds.").concat(ce[t].toLowerCase(),".json"));case 2:return r=e.sent,e.next=5,r.json();case 5:a=e.sent,i=new Array,o=!0,s=!1,l=void 0,e.prev=10,u=a[Symbol.iterator]();case 12:if(o=(c=u.next()).done){e.next=34;break}d=c.value,p=void 0,e.t0=d.type,e.next="weapon"===e.t0?18:"armor"===e.t0?20:"shield"===e.t0?22:"unit"===e.t0?24:"tool"===e.t0?26:28;break;case 18:return p=new Te(d.id,d.name,d.minAtp,d.maxAtp,d.ata,d.maxGrind,d.requiredAtp),e.abrupt("break",29);case 20:return p=new Ge(d.id,d.name),e.abrupt("break",29);case 22:return p=new Pe(d.id,d.name),e.abrupt("break",29);case 24:return p=new Ue(d.id,d.name),e.abrupt("break",29);case 26:return p=new ze(d.id,d.name),e.abrupt("break",29);case 28:return e.abrupt("continue",31);case 29:n.idToItemKind[p.id]=p,i.push(p);case 31:o=!0,e.next=12;break;case 34:e.next=40;break;case 36:e.prev=36,e.t1=e.catch(10),s=!0,l=e.t1;case 40:e.prev=40,e.prev=41,o||null==u.return||u.return();case 43:if(e.prev=43,!s){e.next=46;break}throw l;case 46:return e.finish(43);case 47:return e.finish(40);case 48:return n.itemKinds=i,e.abrupt("return",n);case 50:case"end":return e.stop()}},e,null,[[10,36,40,48],[41,,43,47]])}));return function(n){return e.apply(this,arguments)}}()}return Object(c.a)(e,[{key:"getById",value:function(e){return this.idToItemKind[e]}}]),e}(),Xe=Object(C.a)(Je.prototype,"itemKinds",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Je),wn=new dn(function(e){var n=new hn;return new cn(n,function(){return n.load(e)})}),mn=function(){function e(){Object(u.a)(this,e),this.table=new Array(_e.length*fe.length*A.length),this.itemKindToDrops=new Array}return Object(c.a)(e,[{key:"getDrop",value:function(e,n,t){return this.table[e*fe.length*A.length+n*A.length+t.id]}},{key:"setDrop",value:function(e,n,t,r){this.table[e*fe.length*A.length+n*A.length+t.id]=r;var a=this.itemKindToDrops[r.item.id];a||(a=[],this.itemKindToDrops[r.item.id]=a),a.push(r)}},{key:"getDropsForItemKind",value:function(e){return this.itemKindToDrops[e]||[]}}]),e}(),vn=($e=function e(){var n=this;Object(u.a)(this,e),Object(j.a)(this,"enemyDrops",en,this),this.load=function(){var e=Object(_.a)(I.a.mark(function e(t){var r,a,i,o,s,l,u,c,d,p,h,w,m,v;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wn.current.promise;case 2:return r=e.sent,e.next=5,fetch("".concat("","/enemyDrops.").concat(ce[t].toLowerCase(),".json"));case 5:return a=e.sent,e.next=8,a.json();case 8:i=e.sent,o=new mn,s=!0,l=!1,u=void 0,e.prev=13,c=i[Symbol.iterator]();case 15:if(s=(d=c.next()).done){e.next=34;break}if(p=d.value,h=M.byCode(p.enemy)){e.next=21;break}return console.warn("Couldn't determine NpcType of episode ".concat(p.episode," ").concat(p.enemy,".")),e.abrupt("continue",31);case 21:if(w=be[p.difficulty],m=r.getById(p.itemKindId)){e.next=26;break}return console.warn("Couldn't find item kind ".concat(p.itemKindId,".")),e.abrupt("continue",31);case 26:if(null!=(v=me[p.sectionId])){e.next=30;break}return console.warn("Couldn't find section ID ".concat(p.sectionId,".")),e.abrupt("continue",31);case 30:o.setDrop(w,v,h,new We(w,v,h,m,p.dropRate,p.rareRate));case 31:s=!0,e.next=15;break;case 34:e.next=40;break;case 36:e.prev=36,e.t0=e.catch(13),l=!0,u=e.t0;case 40:e.prev=40,e.prev=41,s||null==c.return||c.return();case 43:if(e.prev=43,!l){e.next=46;break}throw u;case 46:return e.finish(43);case 47:return e.finish(40);case 48:return n.enemyDrops=o,e.abrupt("return",n);case 50:case"end":return e.stop()}},e,null,[[13,36,40,48],[41,,43,47]])}));return function(n){return e.apply(this,arguments)}}()},en=Object(C.a)($e.prototype,"enemyDrops",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new mn}}),$e),bn=new dn(function(e){var n=new vn;return new cn(n,function(){return n.load(e)})}),fn=(nn=function e(n,t){Object(u.a)(this,e),Object(j.a)(this,"itemKind",tn,this),Object(j.a)(this,"amount",rn,this),this.itemKind=n,this.amount=t},tn=Object(C.a)(nn.prototype,"itemKind",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rn=Object(C.a)(nn.prototype,"amount",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nn),kn=function e(n,t){Object(u.a)(this,e),this.wantedItems=n,this.optimalMethods=t},yn=function e(n,t,r,a,i,o){Object(u.a)(this,e),this.difficulty=n,this.sectionIds=t,this.methodName=r,this.methodTime=a,this.runs=i,this.itemCounts=o,this.totalTime=void 0,this.totalTime=i*a},gn=new(an=function(){function e(){var n=this;Object(u.a)(this,e),Object(j.a)(this,"wantedItems",on,this),Object(j.a)(this,"result",sn,this),this.initialize=Object(_.a)(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.loadFromLocalStorage();case 3:Object(E.c)(n.storeInLocalStorage),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),this.loadFromLocalStorage=Object(_.a)(I.a.mark(function e(){var t,r,a,i,o,s,l,u,c,d,p,h,w;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("HuntOptimizerStore.wantedItems.".concat(ce[qe.currentServer])))){e.next=27;break}return e.next=4,wn.current.promise;case 4:for(r=e.sent,a=JSON.parse(t),i=[],o=!0,s=!1,l=void 0,e.prev=10,u=a[Symbol.iterator]();!(o=(c=u.next()).done);o=!0)d=c.value,p=d.itemKindId,h=d.amount,(w=r.getById(p))&&i.push(new fn(w,h));e.next=18;break;case 14:e.prev=14,e.t0=e.catch(10),s=!0,l=e.t0;case 18:e.prev=18,e.prev=19,o||null==u.return||u.return();case 21:if(e.prev=21,!s){e.next=24;break}throw l;case 24:return e.finish(21);case 25:return e.finish(18);case 26:n.wantedItems.replace(i);case 27:case"end":return e.stop()}},e,null,[[10,14,18,26],[19,,21,25]])})),this.storeInLocalStorage=function(){try{localStorage.setItem("HuntOptimizerStore.wantedItems.".concat(ce[qe.currentServer]),JSON.stringify(n.wantedItems.map(function(e){var n=e.itemKind,t=e.amount;return{itemKindId:n.id,amount:t}})))}catch(e){console.error(e)}},this.optimize=Object(_.a)(I.a.mark(function e(){var t,r,a,i,o,s,l,u,c,d,p,h,w,m,v,b,f,k,y,g,R,O,_,j,C,L,E,x,A,F,T,G,P,U,z,W,N,H,V,q,Y,Z,K,Q,J,X,$,ee,ne,te,re,ae,ie,oe,se,le,ue,ce,de,we,me,ve,be,ke,ye,ge,Re,De,Se,Oe,Ie,je,Ce,Le,Be,Ee,xe,Me,Ae,Fe,Te,Ge,Pe,Ue,ze,We,Ne,He,Ve,qe,Ye,Ze,Ke,Qe,Je,Xe,$e,en,nn,tn,rn,an,on;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.wantedItems.length){e.next=3;break}return n.result=void 0,e.abrupt("return");case 3:return t=new Set(n.wantedItems.filter(function(e){return e.amount>0}).map(function(e){return e.itemKind})),e.next=6,pn.methods.current.promise;case 6:return r=e.sent,e.next=9,bn.current.promise;case 9:for(a=e.sent.enemyDrops,i={},o=!0,s=!1,l=void 0,e.prev=14,u=n.wantedItems[Symbol.iterator]();!(o=(c=u.next()).done);o=!0)d=c.value,i[d.itemKind.name]={min:d.amount};e.next=22;break;case 18:e.prev=18,e.t0=e.catch(14),s=!0,l=e.t0;case 22:e.prev=22,e.prev=23,o||null==u.return||u.return();case 25:if(e.prev=25,!s){e.next=28;break}throw l;case 28:return e.finish(25);case 29:return e.finish(22);case 30:p={},h=new Map,w=!0,m=!1,v=void 0,e.prev=35,b=r[Symbol.iterator]();case 37:if(w=(f=b.next()).done){e.next=144;break}for(k=f.value,y=new Map,g=!0,R=!1,O=void 0,e.prev=43,_=k.enemies[Symbol.iterator]();!(g=(j=_.next()).done);g=!0)C=j.value,L=y.get(C.type),null==C.type.rareType?y.set(C.type,(L||0)+1):(E=void 0,x=void 0,C.type.rareType===M.Kondrieu?(E=1-he,x=he):(E=1-pe,x=pe),y.set(C.type,(L||0)+E),A=y.get(C.type.rareType),y.set(C.type.rareType,(A||0)+x));e.next=51;break;case 47:e.prev=47,e.t1=e.catch(43),R=!0,O=e.t1;case 51:e.prev=51,e.prev=52,g||null==_.return||_.return();case 54:if(e.prev=54,!R){e.next=57;break}throw O;case 57:return e.finish(54);case 58:return e.finish(51);case 59:F=[y],(T=y.get(M.PanArms))&&((G=new Map(y)).delete(M.PanArms),G.set(M.Migium,T),G.set(M.Hidoom,T),F.push(G)),(P=y.get(M.PanArms2))&&((U=new Map(y)).delete(M.PanArms2),U.set(M.Migium2,P),U.set(M.Hidoom2,P),F.push(U)),z=0;case 65:if(!(z<F.length)){e.next=141;break}W=F[z],N=1===z,H=!0,V=!1,q=void 0,e.prev=71,Y=_e[Symbol.iterator]();case 73:if(H=(Z=Y.next()).done){e.next=124;break}K=Z.value,Q=!0,J=!1,X=void 0,e.prev=78,$=fe[Symbol.iterator]();case 80:if(Q=(ee=$.next()).done){e.next=107;break}for(ne=ee.value,te={time:k.time},re=!1,ae=!0,ie=!1,oe=void 0,e.prev=87,se=W.entries()[Symbol.iterator]();!(ae=(le=se.next()).done);ae=!0)ue=le.value,ce=Object(S.a)(ue,2),de=ce[0],we=ce[1],(me=a.getDrop(K,ne,de))&&t.has(me.item)&&(ve=te[me.item.name]||0,te[me.item.name]=ve+we*me.rate,re=!0);e.next=95;break;case 91:e.prev=91,e.t2=e.catch(87),ie=!0,oe=e.t2;case 95:e.prev=95,e.prev=96,ae||null==se.return||se.return();case 98:if(e.prev=98,!ie){e.next=101;break}throw oe;case 101:return e.finish(98);case 102:return e.finish(95);case 103:re&&(be=n.fullMethodName(K,ne,k,N),p[be]=te,h.set(be,{method:k,difficulty:K,sectionId:ne,splitPanArms:N}));case 104:Q=!0,e.next=80;break;case 107:e.next=113;break;case 109:e.prev=109,e.t3=e.catch(78),J=!0,X=e.t3;case 113:e.prev=113,e.prev=114,Q||null==$.return||$.return();case 116:if(e.prev=116,!J){e.next=119;break}throw X;case 119:return e.finish(116);case 120:return e.finish(113);case 121:H=!0,e.next=73;break;case 124:e.next=130;break;case 126:e.prev=126,e.t4=e.catch(71),V=!0,q=e.t4;case 130:e.prev=130,e.prev=131,H||null==Y.return||Y.return();case 133:if(e.prev=133,!V){e.next=136;break}throw q;case 136:return e.finish(133);case 137:return e.finish(130);case 138:z++,e.next=65;break;case 141:w=!0,e.next=37;break;case 144:e.next=150;break;case 146:e.prev=146,e.t5=e.catch(35),m=!0,v=e.t5;case 150:e.prev=150,e.prev=151,w||null==b.return||b.return();case 153:if(e.prev=153,!m){e.next=156;break}throw v;case 156:return e.finish(153);case 157:return e.finish(150);case 158:if((ke=B.a.Solve({optimize:"time",opType:"min",constraints:i,variables:p})).feasible){e.next=162;break}return n.result=void 0,e.abrupt("return");case 162:ye=[],ge=0,Re=Object.entries(ke);case 164:if(!(ge<Re.length)){e.next=257;break}if(De=Re[ge],Se=Object(S.a)(De,2),Oe=Se[0],Ie=Se[1],!(je=h.get(Oe))){e.next=254;break}Ce=je.method,Le=je.difficulty,Be=je.sectionId,Ee=je.splitPanArms,xe=Ie,Me=p[Oe],Ae=new Map,Fe=0,Te=Object.entries(Me);case 176:if(!(Fe<Te.length)){e.next=211;break}Ge=Te[Fe],Pe=Object(S.a)(Ge,2),Ue=Pe[0],ze=Pe[1],We=!0,Ne=!1,He=void 0,e.prev=184,Ve=t[Symbol.iterator]();case 186:if(We=(qe=Ve.next()).done){e.next=194;break}if(Ye=qe.value,Ue!==Ye.name){e.next=191;break}return Ae.set(Ye,xe*ze),e.abrupt("break",194);case 191:We=!0,e.next=186;break;case 194:e.next=200;break;case 196:e.prev=196,e.t6=e.catch(184),Ne=!0,He=e.t6;case 200:e.prev=200,e.prev=201,We||null==Ve.return||Ve.return();case 203:if(e.prev=203,!Ne){e.next=206;break}throw He;case 206:return e.finish(203);case 207:return e.finish(200);case 208:Fe++,e.next=176;break;case 211:Ze=[],Ke=!0,Qe=!1,Je=void 0,e.prev=215,Xe=fe[Symbol.iterator]();case 217:if(Ke=($e=Xe.next()).done){e.next=239;break}if(en=$e.value,nn=!0,en===Be){e.next=235;break}if(tn=p[n.fullMethodName(Le,en,Ce,Ee)]){e.next=226;break}nn=!1,e.next=235;break;case 226:rn=0,an=Object.keys(Me);case 227:if(!(rn<an.length)){e.next=235;break}if(on=an[rn],Me[on]===tn[on]){e.next=232;break}return nn=!1,e.abrupt("break",235);case 232:rn++,e.next=227;break;case 235:nn&&Ze.push(en);case 236:Ke=!0,e.next=217;break;case 239:e.next=245;break;case 241:e.prev=241,e.t7=e.catch(215),Qe=!0,Je=e.t7;case 245:e.prev=245,e.prev=246,Ke||null==Xe.return||Xe.return();case 248:if(e.prev=248,!Qe){e.next=251;break}throw Je;case 251:return e.finish(248);case 252:return e.finish(245);case 253:ye.push(new yn(Le,Ze,Ce.name+(Ee?" (Split Pan Arms)":""),Ce.time,xe,Ae));case 254:ge++,e.next=164;break;case 257:n.result=new kn(Object(D.a)(t),ye);case 258:case"end":return e.stop()}},e,null,[[14,18,22,30],[23,,25,29],[35,146,150,158],[43,47,51,59],[52,,54,58],[71,126,130,138],[78,109,113,121],[87,91,95,103],[96,,98,102],[114,,116,120],[131,,133,137],[151,,153,157],[184,196,200,208],[201,,203,207],[215,241,245,253],[246,,248,252]])})),this.initialize()}return Object(c.a)(e,[{key:"huntableItems",get:function(){var e=bn.current.value;return wn.current.value.itemKinds.filter(function(n){return e.enemyDrops.getDropsForItemKind(n.id).length})}}]),Object(c.a)(e,[{key:"fullMethodName",value:function(e,n,t,r){var a="".concat(e,"\t").concat(n,"\t").concat(t.id);return r&&(a+="\tspa"),a}}]),e}(),Object(C.a)(an.prototype,"huntableItems",[E.d],Object.getOwnPropertyDescriptor(an.prototype,"huntableItems"),an.prototype),on=Object(C.a)(an.prototype,"wantedItems",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.k.array()}}),sn=Object(C.a)(an.prototype,"result",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),an),Rn=t(207),Dn=t.n(Rn),Sn=(t(345),function(e){function n(){return Object(u.a)(this,n),Object(d.a)(this,Object(p.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return a.a.createElement(Dn.a,Object.assign({className:"BigSelect"},this.props))}}]),n}(r.PureComponent)),On=(t(346),Object(w.a)(ln=function(e){function n(){var e,t;Object(u.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(i)))).state={helpVisible:!1},t.addWanted=function(e){if(e&&!gn.wantedItems.find(function(n){return n.itemKind.id===e.value})){var n=wn.current.value.getById(e.value);gn.wantedItems.push(new fn(n,1))}},t.removeWanted=function(e){return function(){var n=gn.wantedItems.findIndex(function(n){return n===e});-1!==n&&gn.wantedItems.splice(n,1)}},t.tableRemoveCellRenderer=function(e){var n=e.rowData;return a.a.createElement(g.a,{type:"link",icon:"delete",onClick:t.removeWanted(n)})},t.noRowsRenderer=function(){return a.a.createElement("div",{className:"ho-WantedItemsComponent-no-rows"},a.a.createElement("p",null,'Add some items with the above drop down and click "Optimize" to see the result on the right.'))},t.onHelpVisibleChange=function(e){t.setState({helpVisible:e})},t}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e=this;return gn.wantedItems.slice(0,0),a.a.createElement("section",{className:"ho-WantedItemsComponent"},a.a.createElement("h3",null,"Wanted Items",a.a.createElement(y.a,{content:a.a.createElement(In,null),trigger:"click",visible:this.state.helpVisible,onVisibleChange:this.onHelpVisibleChange},a.a.createElement(g.a,{icon:"info-circle",type:"link"}))),a.a.createElement("div",{className:"ho-WantedItemsComponent-top-bar"},a.a.createElement(Sn,{placeholder:"Add an item",value:void 0,style:{width:200},options:gn.huntableItems.map(function(e){return{label:e.name,value:e.id}}),onChange:this.addWanted}),a.a.createElement(g.a,{onClick:gn.optimize,style:{marginLeft:10}},"Optimize")),a.a.createElement("div",{className:"ho-WantedItemsComponent-table"},a.a.createElement(R.a,null,function(n){var t=n.width,r=n.height;return a.a.createElement(R.d,{width:t,height:r,headerHeight:30,rowHeight:30,rowCount:gn.wantedItems.length,rowGetter:function(e){var n=e.index;return gn.wantedItems[n]},noRowsRenderer:e.noRowsRenderer},a.a.createElement(R.b,{label:"Amount",dataKey:"amount",width:70,cellRenderer:function(e){var n=e.rowData;return a.a.createElement(_n,{wantedItem:n})}}),a.a.createElement(R.b,{label:"Item",dataKey:"item",width:150,flexGrow:1,cellDataGetter:function(e){return e.rowData.itemKind.name}}),a.a.createElement(R.b,{dataKey:"remove",width:30,cellRenderer:e.tableRemoveCellRenderer}))})))}}]),n}(a.a.Component))||ln);function In(){return a.a.createElement("div",{className:"ho-WantedItemsComponent-help"},a.a.createElement("p",null,'Add some items with the drop down and click "Optimize" to see the optimal set of method/difficulty/section ID combinations on the right.'),a.a.createElement("p",null,'At the moment a method is simply a quest run-through. Partial quest run-throughs are coming. View the list of methods on the "Methods" tab. Each method takes a certain amount of time, which affects the optimization result. Make sure the times are correct for you (at the moment times can\'t be changed, but this feature is coming).'),a.a.createElement("p",null,"Only enemy drops are considered. Box drops are coming."),a.a.createElement("p",null,"The optimal result is calculated using linear optimization. The optimizer takes rare enemies and the fact that pan arms can be split in two into account."))}var _n=Object(w.a)(un=function(e){function n(){var e,t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(a)))).wantedAmountChanged=function(e){null!=e&&e>=0&&(t.props.wantedItem.amount=e)},t}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e=this.props.wantedItem;return a.a.createElement(k.a,{min:0,max:10,value:e.amount,onChange:this.wantedAmountChanged,size:"small",style:{width:"100%"}})}}]),n}(a.a.Component))||un,jn=(t(350),function(e){function n(){var e,t;Object(u.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(i)))).columnWidth=function(e){var n=e.index;return t.props.columns[n].width},t.cellRenderer=function(e){var n,r,i=e.columnIndex,o=e.rowIndex,s=e.style,l=t.props.columns[i],u=["DataTable-cell"];if(i===t.props.columns.length-1&&u.push("last-in-row"),0===o)n=r=l.name;else if(l.className&&u.push(l.className),t.props.footer&&o===1+t.props.rowCount)u.push("footer-cell"),n=null==l.footerValue?"":l.footerValue,r=null==l.footerTooltip?"":l.footerTooltip;else{var c=t.props.record({index:o-1});n=l.cellRenderer(c),l.tooltip&&(r=l.tooltip(c))}return"string"!==typeof n&&u.push("custom"),a.a.createElement("div",{className:u.join(" "),key:"".concat(i,", ").concat(o),style:s,title:r},"string"===typeof n?a.a.createElement("span",{className:"DataTable-cell-text"},n):n)},t}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"DataTable",style:{width:this.props.width,height:this.props.height}},a.a.createElement(R.c,{width:this.props.width,height:this.props.height,rowHeight:26,rowCount:this.props.rowCount+1+(this.props.footer?1:0),fixedRowCount:1,overscanRowCount:this.props.overscanRowCount,columnWidth:this.columnWidth,columnCount:this.props.columns.length,fixedColumnCount:this.props.fixedColumnCount,overscanColumnCount:this.props.overscanColumnCount,cellRenderer:this.cellRenderer,classNameTopLeftGrid:"DataTable-header",classNameTopRightGrid:"DataTable-header",updateTigger:this.props.updateTrigger}))}}]),n}(a.a.Component));function Cn(e){var n=e.sectionId,t=e.size,r=void 0===t?28:t,i=e.title;return a.a.createElement("div",{title:i,style:{display:"inline-block",width:r,height:r,backgroundImage:"url(".concat("","/images/sectionids/").concat(me[n],".png)"),backgroundSize:r}})}function Ln(e){var n=Math.floor(e),t=Math.round(60*(e-n));return"".concat(n.toString().padStart(2,"0"),":").concat(t.toString().padStart(2,"0"))}t(351);var Bn,En,xn=Object(w.a)((En=function(e){function n(){var e,t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(a)))).record=function(e){var n=e.index;return gn.result.optimalMethods[n]},t}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e=this;this.updateTrigger;var n=gn.result;return a.a.createElement("section",{className:"ho-OptimizationResultComponent"},a.a.createElement("h3",null,"Optimization Result"),a.a.createElement("div",{className:"ho-OptimizationResultComponent-table"},a.a.createElement(R.a,null,function(t){var r=t.width,i=t.height;return a.a.createElement(jn,{width:r,height:i,rowCount:n?n.optimalMethods.length:0,columns:e.columns,fixedColumnCount:3,record:e.record,footer:null!=n,updateTrigger:e.updateTrigger})})))}},{key:"columns",get:function(){var e=gn.result,n=e?e.optimalMethods:[],t=0,r=0,i=!0,o=!1,s=void 0;try{for(var l,u=n[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;t+=c.runs,r+=c.totalTime}}catch(f){o=!0,s=f}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}var d=[{name:"Difficulty",width:75,cellRenderer:function(e){return be[e.difficulty]},footerValue:"Totals:"},{name:"Method",width:200,cellRenderer:function(e){return e.methodName},tooltip:function(e){return e.methodName}},{name:"Section ID",width:80,cellRenderer:function(e){return a.a.createElement("div",{className:"ho-OptimizationResultComponent-sid-col"},e.sectionIds.map(function(e){return a.a.createElement(Cn,{sectionId:e,key:e,size:20})}))},tooltip:function(e){return e.sectionIds.map(function(e){return me[e]}).join(", ")}},{name:"Time/Run",width:80,cellRenderer:function(e){return Ln(e.methodTime)},className:"number"},{name:"Runs",width:60,cellRenderer:function(e){return e.runs.toFixed(1)},tooltip:function(e){return e.runs.toString()},footerValue:t.toFixed(1),footerTooltip:t.toString(),className:"number"},{name:"Total Hours",width:90,cellRenderer:function(e){return e.totalTime.toFixed(1)},tooltip:function(e){return e.totalTime.toString()},footerValue:r.toFixed(1),footerTooltip:r.toString(),className:"number"}];if(e){var p=!0,h=!1,w=void 0;try{for(var m,v=function(){var e=m.value,t=0,r=!0,a=!1,i=void 0;try{for(var o,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){t+=o.value.itemCounts.get(e)||0}}catch(f){a=!0,i=f}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}d.push({name:e.name,width:80,cellRenderer:function(n){var t=n.itemCounts.get(e);return t?t.toFixed(2):""},tooltip:function(n){var t=n.itemCounts.get(e);return t?t.toString():""},className:"number",footerValue:t.toFixed(2),footerTooltip:t.toString()})},b=e.wantedItems[Symbol.iterator]();!(p=(m=b.next()).done);p=!0)v()}catch(f){h=!0,w=f}finally{try{p||null==b.return||b.return()}finally{if(h)throw w}}}return d}},{key:"updateTrigger",get:function(){return gn.result}}]),n}(a.a.Component),Object(C.a)(En.prototype,"columns",[E.d],Object.getOwnPropertyDescriptor(En.prototype,"columns"),En.prototype),Object(C.a)(En.prototype,"updateTrigger",[E.d],Object.getOwnPropertyDescriptor(En.prototype,"updateTrigger"),En.prototype),Bn=En))||Bn;t(352);function Mn(){return a.a.createElement("section",{className:"ho-OptimizerComponent"},a.a.createElement(On,null),a.a.createElement(xn,null))}t(353);var An,Fn,Tn,Gn,Pn=t(223),Un=t(48),zn=t.n(Un),Wn=(t(355),Object(w.a)((Tn=Fn=function(e){function n(){var e,t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(a)))).record=function(e){var n=e.index;return pn.methods.current.value[n]},t}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e=this,t=pn.methods.current.value;return a.a.createElement("section",{className:"ho-MethodsComponent"},a.a.createElement(R.a,null,function(r){var i=r.width,o=r.height;return a.a.createElement(jn,{width:i,height:o,rowCount:t.length,columns:n.columns,fixedColumnCount:2,record:e.record})}))}}]),n}(a.a.Component),Fn.columns=function(){var e=[{name:"Method",width:250,cellRenderer:function(e){return e.name}},{name:"Time",width:50,cellRenderer:function(e){return Ln(e.time)},className:"integrated"}],n=!0,t=!1,r=void 0;try{for(var a,i=function(){var n=a.value;e.push({name:n.name,width:75,cellRenderer:function(e){var t=e.enemyCounts.get(n);return null==t?"":t.toString()},className:"number"})},o=F[Symbol.iterator]();!(n=(a=o.next()).done);n=!0)i()}catch(s){t=!0,r=s}finally{try{n||null==o.return||o.return()}finally{if(t)throw r}}return e}(),An=Tn))||An),Nn=(Object(w.a)(Gn=function(e){function n(){var e,t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(a)))).change=function(e){t.props.method.userTime=e.hour()+e.minute()/60},t}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e=this.props.method.time,n=Math.floor(e),t=Math.round(60*(e-n));return a.a.createElement(Pn.a,{className:"ho-MethodsComponent-timepicker",value:zn()({hour:n,minute:t}),format:"HH:mm",size:"small",allowClear:!1,suffixIcon:a.a.createElement("span",null),onChange:this.change})}}]),n}(a.a.Component)),f.a.TabPane);t(362);var Hn=t(221),Vn=(t(486),t(154)),qn=(t(366),t(222)),Yn=(t(368),t(15)),Zn=(t(487),t(220)),Kn=t(74),Qn=new Kn.TextDecoder("ascii"),Jn=new Kn.TextDecoder("utf-16be"),Xn=new Kn.TextDecoder("utf-16le"),$n=new Kn.TextEncoder("ascii"),et=new Kn.TextEncoder("utf-16be"),nt=new Kn.TextEncoder("utf-16le"),tt=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Object(u.a)(this,e),this._size=0,this.position=void 0,this.littleEndian=void 0,this.buffer=void 0,this.dv=void 0,this.uint8Array=void 0,this.utf16Decoder=void 0,this.utf16Encoder=void 0,"number"===typeof n)this.buffer=new ArrayBuffer(n),this.size=0;else{if(!(n instanceof ArrayBuffer))throw new Error("buffer_or_capacity should be an ArrayBuffer or a number.");this.buffer=n,this.size=this.buffer.byteLength}this.littleEndian=t,this.position=0,this.dv=new DataView(this.buffer),this.uint8Array=new Uint8Array(this.buffer,0,this.size),this.utf16Decoder=t?Xn:Jn,this.utf16Encoder=t?nt:et}return Object(c.a)(e,[{key:"size",get:function(){return this._size},set:function(e){if(e<0)throw new Error("Size should be non-negative.");this.ensureCapacity(e),this._size=e}},{key:"bytesLeft",get:function(){return this.size-this.position}},{key:"capacity",get:function(){return this.buffer.byteLength}}]),Object(c.a)(e,[{key:"seek",value:function(e){return this.seekStart(this.position+e)}},{key:"seekStart",value:function(e){if(e<0||e>this.size)throw new Error("Offset ".concat(e," is out of bounds."));return this.position=e,this}},{key:"seekEnd",value:function(e){if(e<0||e>this.size)throw new Error("Offset ".concat(e," is out of bounds."));return this.position=this.size-e,this}},{key:"u8",value:function(){return this.dv.getUint8(this.position++)}},{key:"u16",value:function(){var e=this.dv.getUint16(this.position,this.littleEndian);return this.position+=2,e}},{key:"u32",value:function(){var e=this.dv.getUint32(this.position,this.littleEndian);return this.position+=4,e}},{key:"i8",value:function(){return this.dv.getInt8(this.position++)}},{key:"i16",value:function(){var e=this.dv.getInt16(this.position,this.littleEndian);return this.position+=2,e}},{key:"i32",value:function(){var e=this.dv.getInt32(this.position,this.littleEndian);return this.position+=4,e}},{key:"f32",value:function(){var e=this.dv.getFloat32(this.position,this.littleEndian);return this.position+=4,e}},{key:"u8Array",value:function(e){for(var n=[],t=0;t<e;++t)n.push(this.dv.getUint8(this.position++));return n}},{key:"u16Array",value:function(e){for(var n=[],t=0;t<e;++t)n.push(this.dv.getUint16(this.position,this.littleEndian)),this.position+=2;return n}},{key:"u32Array",value:function(e){for(var n=[],t=0;t<e;++t)n.push(this.dv.getUint32(this.position,this.littleEndian)),this.position+=4;return n}},{key:"take",value:function(n){if(n<0||n>this.size-this.position)throw new Error("Size ".concat(n," out of bounds."));return this.position+=n,new e(this.buffer.slice(this.position-n,this.position),this.littleEndian)}},{key:"stringAscii",value:function(e,n,t){var r=n?this.indexOfU8(0,e)-this.position:e,a=Qn.decode(new DataView(this.buffer,this.position,r));return this.position+=t?e:Math.min(r+1,e),a}},{key:"stringUtf16",value:function(e,n,t){var r=n?this.indexOfU16(0,e)-this.position:2*Math.floor(e/2),a=this.utf16Decoder.decode(new DataView(this.buffer,this.position,r));return this.position+=t?e:Math.min(r+2,e),a}},{key:"writeU8",value:function(e){return this.ensureCapacity(this.position+1),this.dv.setUint8(this.position++,e),this.position>this.size&&(this.size=this.position),this}},{key:"writeU16",value:function(e){return this.ensureCapacity(this.position+2),this.dv.setUint16(this.position,e,this.littleEndian),this.position+=2,this.position>this.size&&(this.size=this.position),this}},{key:"writeU32",value:function(e){return this.ensureCapacity(this.position+4),this.dv.setUint32(this.position,e,this.littleEndian),this.position+=4,this.position>this.size&&(this.size=this.position),this}},{key:"writeI32",value:function(e){return this.ensureCapacity(this.position+4),this.dv.setInt32(this.position,e,this.littleEndian),this.position+=4,this.position>this.size&&(this.size=this.position),this}},{key:"writeF32",value:function(e){return this.ensureCapacity(this.position+4),this.dv.setFloat32(this.position,e,this.littleEndian),this.position+=4,this.position>this.size&&(this.size=this.position),this}},{key:"writeU8Array",value:function(e){return this.ensureCapacity(this.position+e.length),new Uint8Array(this.buffer,this.position).set(new Uint8Array(e)),this.position+=e.length,this.position>this.size&&(this.size=this.position),this}},{key:"writeCursor",value:function(e){return this.ensureCapacity(this.position+e.size),new Uint8Array(this.buffer,this.position).set(new Uint8Array(e.buffer)),this.position+=e.size,this.position>this.size&&(this.size=this.position),this}},{key:"writeStringAscii",value:function(e,n){var t=0,r=!0,a=!1,i=void 0;try{for(var o,s=$n.encode(e)[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;t<n&&(this.writeU8(l),++t)}}catch(u){a=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}for(;t<n;)this.writeU8(0),++t}},{key:"uint8ArrayView",value:function(){return this.uint8Array}},{key:"indexOfU8",value:function(e,n){for(var t=Math.min(this.position+n,this.size),r=this.position;r<t;++r)if(this.dv.getUint8(r)===e)return r;return this.position+n}},{key:"indexOfU16",value:function(e,n){for(var t=Math.min(this.position+n,this.size),r=this.position;r<t;r+=2)if(this.dv.getUint16(r,this.littleEndian)===e)return r;return this.position+n}},{key:"ensureCapacity",value:function(e){if(e>this.capacity){var n=this.capacity||e;do{n*=2}while(n<e);var t=new ArrayBuffer(n);new Uint8Array(t).set(new Uint8Array(this.buffer,0,this.size)),this.buffer=t,this.dv=new DataView(this.buffer),this.uint8Array=new Uint8Array(this.buffer,0,e)}}}]),e}();function rt(){return(rt=Object(_.a)(I.a.mark(function e(n){var t,r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=ut(n),e.next=3,ot(t);case 3:return r=e.sent,e.abrupt("return",{url:t,data:r});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function at(){return(at=Object(_.a)(I.a.mark(function e(n){var t,r;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=ct(n),e.next=3,ot(t);case 3:return r=e.sent,e.abrupt("return",{url:t,data:r});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var it=new Map;function ot(e){var n=it.get(e);if(n)return n;var t=fetch(""+e).then(function(e){return e.arrayBuffer()});return it.set(e,t),t}var st=[[["city00_00",1],["forest01",1],["forest02",1],["cave01_",6],["cave02_",5],["cave03_",6],["machine01_",6],["machine02_",6],["ancient01_",5],["ancient02_",5],["ancient03_",5],["boss01",1],["boss02",1],["boss03",1],["darkfalz00",1]],[["labo00_00",1],["ruins01_",3],["ruins02_",3],["space01_",3],["space02_",3],["jungle01_00",1],["jungle02_00",1],["jungle03_00",1],["jungle04_",3],["jungle05_00",1],["seabed01_",3],["seabed02_",3],["boss05",1],["boss06",1],["boss07",1],["boss08",1],["jungle06_00",1],["jungle07_",5]],[],[["city02_00",1],["wilds01_00",1],["wilds01_01",1],["wilds01_02",1],["wilds01_03",1],["crater01_00",1],["desert01_",3],["desert02_",3],["desert03_",3],["boss09_00",1]]];function lt(e,n,t,r){try{return ot(function(e,n,t){var r=st[e-1];if(0<=n&&n<r.length){var a=Object(S.a)(r[n],2),i=a[0],o=a[1];if(0<=t&&t<o){var s;if(1===o)s="";else for(s=String(t);s.length<2;)s="0"+s;return"/maps/map_".concat(i).concat(s)}throw new Error("Unknown variant ".concat(t," of area ").concat(n," in episode ").concat(e,"."))}throw new Error("Unknown episode ".concat(e," area ").concat(n,"."))}(e,n,t)+("render"===r?"n.rel":"c.rel"))}catch(a){return Promise.reject(a)}}function ut(e){switch(e){case M.Dubswitch:return"/npcs/".concat(e.code,".xj");case M.Hildebear2:return ut(M.Hildebear);case M.Hildeblue2:return ut(M.Hildeblue);case M.RagRappy2:return ut(M.RagRappy);case M.Monest2:return ut(M.Monest);case M.PoisonLily2:return ut(M.PoisonLily);case M.NarLily2:return ut(M.NarLily);case M.GrassAssassin2:return ut(M.GrassAssassin);case M.Dimenian2:return ut(M.Dimenian);case M.LaDimenian2:return ut(M.LaDimenian);case M.SoDimenian2:return ut(M.SoDimenian);case M.DarkBelra2:return ut(M.DarkBelra);case M.SavageWolf2:return ut(M.SavageWolf);case M.BarbarousWolf2:return ut(M.BarbarousWolf);case M.PanArms2:return ut(M.PanArms);case M.Dubchic2:return ut(M.Dubchic);case M.Gilchic2:return ut(M.Gilchic);case M.Garanz2:return ut(M.Garanz);case M.Dubswitch2:return ut(M.Dubswitch);case M.Delsaber2:return ut(M.Delsaber);case M.ChaosSorcerer2:return ut(M.ChaosSorcerer);default:return"/npcs/".concat(e.code,".nj")}}function ct(e){switch(e){case T.EasterEgg:case T.ChristmasTree:case T.ChristmasWreath:case T.TwentyFirstCentury:case T.Sonic:case T.WelcomeBoard:case T.FloatingJelifish:case T.RuinsSeal:case T.Dolphin:case T.Cacti:case T.BigBrownRock:case T.PoisonPlant:case T.BigBlackRocks:case T.FallingRock:case T.DesertFixedTypeBoxBreakableCrystals:case T.BeeHive:return"/objects/".concat(String(e.psoId),".nj");default:return"/objects/".concat(String(e.psoId),".xj")}}var dt=t(8);function pt(e){for(var n=new DataView(e),t=new dt.Object3D,r=[new dt.MeshBasicMaterial({color:8437968,transparent:!0,opacity:.25}),new dt.MeshLambertMaterial({color:5296336,side:dt.DoubleSide}),new dt.MeshLambertMaterial({color:5288048,side:dt.DoubleSide}),new dt.MeshLambertMaterial({color:6307968,side:dt.DoubleSide})],a=[new dt.MeshBasicMaterial({color:9490656,wireframe:!0,transparent:!0,opacity:.3}),new dt.MeshBasicMaterial({color:6353136,wireframe:!0}),new dt.MeshBasicMaterial({color:6340736,wireframe:!0}),new dt.MeshBasicMaterial({color:7360656,wireframe:!0})],i=n.getUint32(n.byteLength-16,!0),o=n.getUint32(i,!0),s=o;s===o||0!==n.getUint32(s);s+=24){for(var l=new dt.Geometry,u=n.getUint32(s,!0),c=n.getUint32(u,!0),d=n.getUint32(u+4,!0),p=d+12*c,h=n.getUint32(u+8,!0),w=n.getUint32(u+12,!0),m=w+36*h,v=d;v<p;v+=12){var b=n.getFloat32(v,!0),f=n.getFloat32(v+4,!0),k=n.getFloat32(v+8,!0);l.vertices.push(new dt.Vector3(b,f,k))}for(var y=w;y<m;y+=36){var g=n.getUint16(y,!0),R=n.getUint16(y+2,!0),D=n.getUint16(y+4,!0),S=n.getUint16(y+6,!0),O=new dt.Vector3(n.getFloat32(y+8,!0),n.getFloat32(y+12,!0),n.getFloat32(y+16,!0)),I=64&S?3:16&S?2:1&S?1:0;l.faces.push(new dt.Face3(g,R,D,O,void 0,I))}var _=new dt.Mesh(l,r);_.renderOrder=1,t.add(_);var j=new dt.Mesh(l,a);j.renderOrder=2,t.add(j)}return t}function ht(e){for(var n=new DataView(e),t=new Map,r=new dt.Object3D,a=n.getUint32(n.byteLength-16,!0),i=n.getUint32(a+8,!0),o=n.getUint32(a+16,!0),s=function(e){var a=n.getInt32(e,!0),i=n.getFloat32(e+4,!0),o=n.getFloat32(e+8,!0),s=n.getFloat32(e+12,!0),l=n.getInt32(e+20,!0)/65535*2*Math.PI,u=new Ce(a,new je(i,o,s),l);t.set(a,u);for(var c=[],d=[],p=[],h=n.getUint32(e+32,!0),w=n.getUint32(e+40,!0),m=h;m<h+16*w;m+=16){var v=n.getUint32(m,!0);4&n.getUint32(m+12,!0)&&(v=n.getUint32(v,!0));var b=n.getUint32(v+4,!0);if(b>0){for(var f=n.getUint32(b+4,!0),k=n.getUint32(b+8,!0),y=n.getUint32(b+12,!0),g=n.getUint32(b+16,!0),R=[],D=y;D<y+20*g;D+=20){for(var S=n.getUint32(D+8,!0),O=n.getUint32(D+12,!0),I=[],_=S;_<S+2*O;_+=2)I.push(n.getUint16(_,!0));R.push(I)}k>1&&console.warn("Vertex info count of ".concat(k," was larger than expected."));for(var j=n.getUint32(f+4,!0),C=n.getUint32(f+8,!0),L=n.getUint32(f+12,!0),B=[],E=[],x=j;x<j+L*C;x+=C){var M=void 0,A=void 0,F=void 0;switch(C){case 16:case 24:M=0,A=1,F=0;break;case 28:case 36:M=n.getFloat32(x+12,!0),A=n.getFloat32(x+16,!0),F=n.getFloat32(x+20,!0);break;default:console.error("Unexpected vertex size of ".concat(C,"."));continue}var T=n.getFloat32(x,!0),G=n.getFloat32(x+4,!0),P=n.getFloat32(x+8,!0),U=u.cosYAxisRotation*T+u.sinYAxisRotation*P,z=-u.sinYAxisRotation*T+u.cosYAxisRotation*P;B.push(i+U),B.push(o+G),B.push(s+z),E.push(M),E.push(A),E.push(F)}c.push(R),d.push(B),p.push(E)}}for(var W=function(e){var n=d[e],t=p[e];c[e].forEach(function(e){var a=new dt.BufferGeometry;a.addAttribute("position",new dt.BufferAttribute(new Float32Array(n),3)),a.addAttribute("normal",new dt.BufferAttribute(new Float32Array(t),3)),a.setIndex(new dt.BufferAttribute(new Uint16Array(e),1));var i=new dt.Mesh(a,new dt.MeshLambertMaterial({color:4500223,opacity:.25,side:dt.DoubleSide}));i.setDrawMode(dt.TriangleStripDrawMode),i.userData.section=u,r.add(i)})},N=0;N<d.length;++N)W(N)},l=o;l<o+52*i;l+=52)s(l);return{sections:Object(D.a)(t.values()).sort(function(e,n){return e.id-n.id}),object3d:r}}var wt=new Map,mt=new Map,vt=new Map;function bt(e,n,t){var r=wt.get("".concat(e,"-").concat(n,"-").concat(t));return r||kt(e,n,t).then(function(e){return e.sections})}function ft(e,n,t){var r=vt.get("".concat(e,"-").concat(n,"-").concat(t));if(r)return r;var a=function(e,n,t){return lt(e,n,t,"collision")}(e,n,t).then(pt);return vt.set("".concat(n,"-").concat(t),a),a}function kt(e,n,t){var r=function(e,n,t){return lt(e,n,t,"render")}(e,n,t).then(ht),a=new Promise(function(e,n){r.then(function(n){var t=n.sections;return e(t)}).catch(n)}),i=new Promise(function(e,n){r.then(function(n){var t=n.object3d;return e(t)}).catch(n)});return wt.set("".concat(e,"-").concat(n,"-").concat(t),a),mt.set("".concat(e,"-").concat(n,"-").concat(t),i),r}var yt=t(153);function gt(e,n,t){for(var r=[],a=!0;a;){var i=e.u8(),o=e.u8(),s=e.position,l="UNKOWN",u=null,c=null,d=0;0===i?l="NULL":1<=i&&i<=5?(l="BITS",4===i?(u="CACHE_POLYGON_LIST",n[(c={storeIndex:o,offset:e.position}).storeIndex]=c.offset,a=!1):5===i&&(u="DRAW_POLYGON_LIST",c={storeIndex:o},e.seekStart(n[c.storeIndex]),r.splice.apply(r,[r.length,0].concat(Object(D.a)(gt(e,n,t)))))):8<=i&&i<=9?(l="TINY",d=2):17<=i&&i<=31?(l="MATERIAL",d=2+2*e.u16()):32<=i&&i<=50?(l="VERTEX",d=2+4*e.u16(),c=Rt(e,i,o)):56<=i&&i<=58?(l="VOLUME",d=2+2*e.u16()):64<=i&&i<=75?(l="STRIP",d=2+2*e.u16(),c=Dt(e,i)):255===i?(l="END",d=t?2:0,a=!1):(console.warn("Unknown chunk type: ".concat(i,".")),d=2+2*e.u16()),e.seekStart(s+d),r.push({chunkType:l,chunkSubType:u,chunkTypeId:i,data:c})}return r}function Rt(e,n,t){if(0!==(3&t))return[];for(var r=e.u16(),a=e.u16(),i=[],o=0;o<a;++o){var s={index:r+o,position:[e.f32(),e.f32(),e.f32()]};32===n?e.seek(4):33===n?(e.seek(4),s.normal=[e.f32(),e.f32(),e.f32()],e.seek(4)):35<=n&&n<=40?37===n?(s.index=r+e.u16(),e.seek(2)):e.seek(4):41<=n&&n<=47?(s.normal=[e.f32(),e.f32(),e.f32()],n>=42&&(44===n?(s.index=r+e.u16(),e.seek(2)):e.seek(4))):n>=48&&(e.seek(4),n>=49&&e.seek(4)),i.push(s)}return i}function Dt(e,n){var t,r=e.u16(),a=r>>>14,i=16383&r;switch(n){case 64:t=[!1,!1,!1,!1];break;case 65:case 66:t=[!0,!1,!1,!1];break;case 67:t=[!1,!1,!0,!1];break;case 68:case 69:t=[!0,!1,!0,!1];break;case 70:t=[!1,!0,!1,!1];break;case 71:case 72:t=[!0,!0,!1,!1];break;case 73:t=[!1,!1,!1,!1];break;case 74:case 75:t=[!0,!1,!1,!0];break;default:throw new Error("Unexpected chunk type ID: ".concat(n,"."))}for(var o=t,s=Object(S.a)(o,4),l=s[0],u=s[1],c=s[2],d=s[3],p=[],h=0;h<i;++h){for(var w=e.i16(),m=w<1,v=Math.abs(w),b=[],f=0;f<v;++f)b.push(e.u16()),l&&e.seek(4),u&&e.seek(4),c&&e.seek(6),d&&e.seek(8),f>=2&&e.seek(2*a);p.push({clockwiseWinding:m,indices:b})}return p}function St(e,n,t,r,a,i,o){for(var s=0;s<t;++s){e.seekStart(n+20*s),e.seek(8);var l=e.u32(),u=e.u32();e.seekStart(l);for(var c=e.u16Array(u),d=!0,p=2;p<c.length;++p){var h=o+c[p-2],w=o+c[p-1],m=o+c[p],v=new dt.Vector3(r[3*h],r[3*h+1],r[3*h+2]),b=new dt.Vector3(r[3*w],r[3*w+1],r[3*w+2]),f=new dt.Vector3(r[3*m],r[3*m+1],r[3*m+2]),k=new dt.Vector3(a[3*h],a[3*h+1],a[3*h+2]),y=new dt.Vector3(a[3*h],a[3*h+1],a[3*h+2]),g=new dt.Vector3(a[3*h],a[3*h+1],a[3*h+2]),R=b.clone().sub(v).cross(f.clone().sub(v));d&&R.negate(),(R.dot(k)<0?1:0)+(R.dot(y)<0?1:0)+(R.dot(g)<0?1:0)>=2&&(d=!d),d?(i.push(w),i.push(h),i.push(m)):(i.push(h),i.push(w),i.push(m)),d=!d}}}function Ot(e){return _t(e,"nj")}function It(e){return _t(e,"xj")}function _t(e,n){for(;e.bytesLeft;){var t=e.stringAscii(4,!1,!1),r=e.u32();if("NJCM"===t)return jt(e.take(r),n);e.seek(r)}}function jt(e,n){var t;if(e.bytesLeft)return t="nj"===n?{format:n,positions:[],normals:[],cachedChunkOffsets:[],vertices:[]}:{format:n,positions:[],normals:[],indices:[]},function e(n,t,r){var a=n.u32();var i=0!==(1&a);var o=0!==(2&a);var s=0!==(4&a);var l=0!==(8&a);var u=0!==(16&a);var c=0!==(32&a);var d=n.u32();var p=n.f32();var h=n.f32();var w=n.f32();var m=n.i32()*(2*Math.PI/65535);var v=n.i32()*(2*Math.PI/65535);var b=n.i32()*(2*Math.PI/65535);var f=n.f32();var k=n.f32();var y=n.f32();var g=n.u32();var R=n.u32();var S=new dt.Euler(m,v,b,c?"ZXY":"ZYX");var O=(new dt.Matrix4).compose(i?new dt.Vector3:new dt.Vector3(p,h,w),o?new dt.Quaternion(0,0,0,1):(new dt.Quaternion).setFromEuler(S),s?new dt.Vector3(1,1,1):new dt.Vector3(f,k,y)).premultiply(t);d&&!l&&(n.seekStart(d),function(e,n,t){"nj"===t.format?function(e,n,t){var r=t.positions,a=t.normals,i=t.cachedChunkOffsets,o=t.vertices,s=e.u32(),l=e.u32(),u=(new dt.Matrix3).getNormalMatrix(n);if(s){e.seekStart(s);var c=!0,d=!1,p=void 0;try{for(var h,w=gt(e,i,!0)[Symbol.iterator]();!(c=(h=w.next()).done);c=!0){var m=h.value;if("VERTEX"===m.chunkType){var v=m.data,b=!0,f=!1,k=void 0;try{for(var y,g=v[Symbol.iterator]();!(b=(y=g.next()).done);b=!0){var R=y.value,S=Object(yt.a)(dt.Vector3,Object(D.a)(R.position)).applyMatrix4(n),O=R.normal?Object(yt.a)(dt.Vector3,Object(D.a)(R.normal)).applyMatrix3(u):new dt.Vector3(0,1,0);o[R.index]={position:S,normal:O}}}catch(H){f=!0,k=H}finally{try{b||null==g.return||g.return()}finally{if(f)throw k}}}}}catch(H){d=!0,p=H}finally{try{c||null==w.return||w.return()}finally{if(d)throw p}}}if(l){e.seekStart(l);var I=!0,_=!1,j=void 0;try{for(var C,L=gt(e,i,!1)[Symbol.iterator]();!(I=(C=L.next()).done);I=!0){var B=C.value;if("STRIP"===B.chunkType){var E=!0,x=!1,M=void 0;try{for(var A,F=B.data[Symbol.iterator]();!(E=(A=F.next()).done);E=!0)for(var T=A.value,G=T.clockwiseWinding,P=T.indices,U=2;U<P.length;++U){var z=o[P[U-2]],W=o[P[U-1]],N=o[P[U]];z&&W&&N&&(U%2===(G?1:0)?(r.splice(r.length,0,z.position.x,z.position.y,z.position.z),r.splice(r.length,0,W.position.x,W.position.y,W.position.z),r.splice(r.length,0,N.position.x,N.position.y,N.position.z),a.splice(a.length,0,z.normal.x,z.normal.y,z.normal.z),a.splice(a.length,0,W.normal.x,W.normal.y,W.normal.z),a.splice(a.length,0,N.normal.x,N.normal.y,N.normal.z)):(r.splice(r.length,0,W.position.x,W.position.y,W.position.z),r.splice(r.length,0,z.position.x,z.position.y,z.position.z),r.splice(r.length,0,N.position.x,N.position.y,N.position.z),a.splice(a.length,0,W.normal.x,W.normal.y,W.normal.z),a.splice(a.length,0,z.normal.x,z.normal.y,z.normal.z),a.splice(a.length,0,N.normal.x,N.normal.y,N.normal.z)))}}catch(H){x=!0,M=H}finally{try{E||null==F.return||F.return()}finally{if(x)throw M}}}}}catch(H){_=!0,j=H}finally{try{I||null==L.return||L.return()}finally{if(_)throw j}}}}(e,n,t):function(e,n,t){var r=t.positions,a=t.normals,i=t.indices;e.seek(4);var o=e.u32();e.seek(4);var s=e.u32(),l=e.u32(),u=e.u32(),c=e.u32();e.seek(16);var d=(new dt.Matrix3).getNormalMatrix(n),p=r.length/3;if(o){e.seekStart(o),e.seek(4);for(var h=e.u32(),w=e.u32(),m=e.u32(),v=0;v<m;++v){e.seekStart(h+v*w);var b=new dt.Vector3(e.f32(),e.f32(),e.f32()).applyMatrix4(n),f=void 0;f=28===w||32===w||36===w?new dt.Vector3(e.f32(),e.f32(),e.f32()).applyMatrix3(d):new dt.Vector3(0,1,0),r.push(b.x),r.push(b.y),r.push(b.z),a.push(f.x),a.push(f.y),a.push(f.z)}}s&&St(e,s,l,r,a,i,p),u&&St(e,u,c,r,a,i,p)}(e,n,t)}(n,O,r));g&&!u&&(n.seekStart(g),e(n,O,r));R&&(n.seekStart(R),e(n,t,r))}(e,new dt.Matrix4,t),function(e){var n=new dt.BufferGeometry;n.addAttribute("position",new dt.BufferAttribute(new Float32Array(e.positions),3)),n.addAttribute("normal",new dt.BufferAttribute(new Float32Array(e.normals),3)),"indices"in e&&n.setIndex(new dt.BufferAttribute(new Uint16Array(e.indices),1));return n}(t)}var Ct=new Map,Lt=new Map;function Bt(e){var n=Ct.get(String(e.id));return n||(n=function(e){return rt.apply(this,arguments)}(e).then(function(e){var n=e.url,t=e.data,r=new tt(t,!0),a=n.endsWith(".nj")?Ot(r):It(r);if(a)return a;throw new Error("File could not be parsed into a BufferGeometry.")}),Ct.set(String(e.id),n),n)}function Et(e){var n=Lt.get(String(e.id));return n||(n=function(e){return at.apply(this,arguments)}(e).then(function(e){var n=e.url,t=e.data,r=new tt(t,!0),a=n.endsWith(".nj")?Ot(r):It(r);if(a)return a;throw new Error("File could not be parsed into a BufferGeometry.")}),Lt.set(String(e.id),n),n)}function xt(e){var n=new Tt(e),t=new Gt;if(n.src.size<=3)for(;n.src.bytesLeft;)n.setBit(1),n.copyLiteral();else{for(t.put(t.hash(n.src),0),n.src.seek(1),t.put(t.hash(n.src),1),n.src.seek(-1),n.setBit(1),n.copyLiteral(),n.setBit(1),n.copyLiteral();n.src.bytesLeft>1;){var r=n.findLongestMatch(t,!1),a=Object(S.a)(r,2),i=a[0],o=a[1];if(o>0){n.src.seek(1);var s=n.findLongestMatch(t,!0),l=Object(S.a)(s,2),u=l[0],c=l[1];if(n.src.seek(-1),c>o){var d=!0;if(o>=2&&o<=5&&u<i&&i>=-256&&u<-256&&c-o<3&&(d=!1),d){n.setBit(1),n.copyLiteral();continue}}if(o>=2&&o<=5&&i>=-256){n.setBit(0),n.setBit(0),n.setBit(o-2&2),n.setBit(o-2&1),n.writeLiteral(255&i),n.addIntermediates(t,o);continue}if(o>=3&&o<=9){n.setBit(0),n.setBit(1),n.writeLiteral((31&i)<<3|o-2&7),n.writeLiteral(i>>5),n.addIntermediates(t,o);continue}if(o>9){o>256&&(o=256),n.setBit(0),n.setBit(1),n.writeLiteral((31&i)<<3),n.writeLiteral(i>>5),n.writeLiteral(o-1),n.addIntermediates(t,o);continue}}n.setBit(1),n.copyLiteral()}n.src.bytesLeft&&(n.setBit(1),n.copyLiteral())}return n.writeEof(),n.dst.seekStart(0)}var Mt=8192,At=Mt-1,Ft=256,Tt=function(){function e(n){Object(u.a)(this,e),this.src=void 0,this.dst=void 0,this.flags=void 0,this.flagBitsLeft=void 0,this.flagOffset=void 0,this.src=n,this.dst=new tt(n.size,n.littleEndian),this.flags=0,this.flagBitsLeft=0,this.flagOffset=0}return Object(c.a)(e,[{key:"setBit",value:function(e){if(!this.flagBitsLeft--){var n=this.dst.position;this.dst.seekStart(this.flagOffset).writeU8(this.flags).seekStart(n).writeU8(0),this.flagOffset=n,this.flagBitsLeft=7}this.flags>>>=1,e&&(this.flags|=128)}},{key:"copyLiteral",value:function(){this.dst.writeU8(this.src.u8())}},{key:"writeLiteral",value:function(e){this.dst.writeU8(e)}},{key:"writeFinalFlags",value:function(){this.flags>>>=this.flagBitsLeft;var e=this.dst.position;this.dst.seekStart(this.flagOffset).writeU8(this.flags).seekStart(e)}},{key:"writeEof",value:function(){this.setBit(0),this.setBit(1),this.writeFinalFlags(),this.writeLiteral(0),this.writeLiteral(0)}},{key:"matchLength",value:function(e){for(var n=this.src.uint8ArrayView(),t=0,r=this.src.position;r<n.byteLength&&n[r]===n[e];)++t,++r,++e;return t}},{key:"findLongestMatch",value:function(e,n){if(!this.src.bytesLeft)return[0,0];var t=e.hash(this.src),r=e.get(t);if(null===r)return n||e.put(t,this.src.position),[0,0];if(this.src.position-r>Mt)return e.hashToOffset[t]=null,n||e.put(t,this.src.position),[0,0];for(var a=0,i=0;null!=r;){var o=this.matchLength(r);(o>a||o>=256)&&(a=o,i=r);var s=e.prev(r);null!==s&&this.src.position-s>Mt&&(e.setPrev(r,null),s=null),r=s}return n||e.put(t,this.src.position),[a>0?i-this.src.position:0,a]}},{key:"addIntermediates",value:function(e,n){this.src.seek(1);for(var t=1;t<n;++t){var r=e.hash(this.src);e.put(r,this.src.position),this.src.seek(1)}}}]),e}(),Gt=function(){function e(){Object(u.a)(this,e),this.hashToOffset=new Array(Ft).fill(null),this.maskedOffsetToPrev=new Array(Mt).fill(null)}return Object(c.a)(e,[{key:"hash",value:function(e){var n=e.u8();return e.bytesLeft&&(n^=e.u8(),e.seek(-1)),e.seek(-1),n}},{key:"get",value:function(e){return this.hashToOffset[e]}},{key:"put",value:function(e,n){this.setPrev(n,this.hashToOffset[e]),this.hashToOffset[e]=n}},{key:"prev",value:function(e){return this.maskedOffsetToPrev[e&At]}},{key:"setPrev",value:function(e,n){this.maskedOffsetToPrev[e&At]=n}}]),e}();function Pt(e){for(var n=new Ut(e);;)if(1===n.readFlagBit())n.copyU8();else{var t=void 0,r=void 0;if(0===n.readFlagBit())t=n.readFlagBit()<<1,t|=n.readFlagBit(),t+=2,r=n.readU8()-256;else{if(0===(r=n.readU16()))break;t=7&r,r>>>=3,0===t?(t=n.readU8(),t+=1):t+=2,r-=8192}n.offsetCopy(r,t)}return n.dst.seekStart(0)}var Ut=function(){function e(n){Object(u.a)(this,e),this.src=void 0,this.dst=void 0,this.flags=void 0,this.flagBitsLeft=void 0,this.src=n,this.dst=new tt(4*n.size,n.littleEndian),this.flags=0,this.flagBitsLeft=0}return Object(c.a)(e,[{key:"readFlagBit",value:function(){0===this.flagBitsLeft&&(this.flags=this.readU8(),this.flagBitsLeft=8);var e=1&this.flags;return this.flags>>>=1,this.flagBitsLeft-=1,e}},{key:"copyU8",value:function(){this.dst.writeU8(this.readU8())}},{key:"readU8",value:function(){return this.src.u8()}},{key:"readU16",value:function(){return this.src.u16()}},{key:"offsetCopy",value:function(e,n){(e<-8192||e>0)&&console.error("offset was ".concat(e,", should be between -8192 and 0.")),(n<1||n>256)&&console.error("length was ".concat(n,", should be between 1 and 256."));var t=Math.min(-e,n);this.dst.seek(e);var r=this.dst.take(t);this.dst.seek(-e-t);for(var a=0;a<Math.floor(n/t);++a)this.dst.writeCursor(r);this.dst.writeCursor(r.take(n%t))}}]),e}(),zt=68,Wt=72;function Nt(e){var n=e.u32(),t=e.u32(),r=e.u32();e.seek(4);var a=e.u32(),i=e.u32(),o=e.stringUtf16(64,!0,!0),s=e.stringUtf16(256,!0,!0),l=e.stringUtf16(576,!0,!0);r!==e.size&&console.warn("Value ".concat(r," in bin size field does not match actual size ").concat(e.size,"."));var u=Math.floor((e.size-t)/4);e.seekStart(t);for(var c=[],d=0;d<u;++d)c.push(e.i32());return{questNumber:a,language:i,questName:o,shortDescription:s,longDescription:l,functionOffsets:c,instructions:function(e){var n=[];for(;e.bytesLeft;){var t=e.u8(),r=void 0,a=void 0,i=void 0;switch(t){case 248:r=e.u8(),a=2,i=qt;break;case 249:r=e.u8(),a=2,i=Yt;break;default:r=t,a=1,i=Vt}var o=Object(S.a)(i[r],3),s=o[1],l=o[2],u=Ht(e,l);if(!u){console.error("Parameters unknown for opcode 0x".concat(r.toString(16).toUpperCase(),"."));break}n.push({opcode:r,mnemonic:s,args:u.args,size:a+u.size})}return n}(e.seekStart(n).take(t-n)),data:e.seekStart(0).take(e.size)}}function Ht(e,n){if(null!=n){var t=e.position,r=[],a=0;e:for(var i=0;i<n.length;++i)switch(n.charAt(i)){case"p":break;case"a":break e;case"B":r.push(e.u8()),a+=1;break;case"W":r.push(e.u16()),a+=2;break;case"L":r.push(e.u32()),a+=4;break;case"I":r.push(e.i32()),a+=4;break;case"f":case"F":r.push(e.f32()),a+=4;break;case"R":case"r":a+=1;break;case"b":r.push(e.u8()),a+=1;break;case"w":r.push(e.u16()),a+=2;break;case"l":r.push(e.u32()),a+=4;break;case"i":r.push(e.i32()),a+=4;break;case"j":case"J":a+=1+2*e.seek(a).u8();break;case"t":case"T":a+=1+e.seek(a).u8();break;case"s":case"S":for(;e.u16();)a+=2;a+=2;break;default:throw new Error("Unknown mask part ".concat(n.charAt(i),"."))}return e.seekStart(t+a),{args:r,size:a}}}var Vt=[[0,"nop",""],[1,"ret",""],[2,"sync",""],[3,"exit","aL"],[4,"thread","W"],[5,"va_start",""],[6,"va_end",""],[7,"va_call","W"],[8,"let","RR"],[9,"leti","RI"],[10,"unknown",null],[11,"unknown",null],[12,"unknown",null],[13,"unknown",null],[14,"unknown",null],[15,"unknown",null],[16,"set","R"],[17,"clear","R"],[18,"rev","R"],[19,"gset","w"],[20,"gclear","w"],[21,"grev","w"],[22,"glet","w"],[23,"gget","wR"],[24,"add","RR"],[25,"addi","RI"],[26,"sub","RR"],[27,"subi","RI"],[28,"mul","RR"],[29,"muli","RI"],[30,"div","RR"],[31,"divi","RI"],[32,"and","RR"],[33,"andi","RI"],[34,"or","RR"],[35,"ori","RI"],[36,"xor","RR"],[37,"xori","RI"],[38,"mod","RR"],[39,"modi","RI"],[40,"jmp","W"],[41,"call","W"],[42,"jmp_on","Wt"],[43,"jmp_off","Wt"],[44,"jmp_=","RRW"],[45,"jmpi_=","RIW"],[46,"jmp_!=","RRW"],[47,"jmpi_!=","RIW"],[48,"ujmp_>","RRW"],[49,"ujmpi_>","RLW"],[50,"jmp_>","RRW"],[51,"jmpi_>","RIW"],[52,"ujmp_<","RRW"],[53,"ujmpi_<","RLW"],[54,"jmp_<","RRW"],[55,"jmpi_<","RIW"],[56,"ujmp_>=","RRW"],[57,"ujmpi_>=","RLW"],[58,"jmp_>=","RRW"],[59,"jmpi_>=","RIW"],[60,"ujmp_<=","RRW"],[61,"ujmpi_<=","RLW"],[62,"jmp_<=","RRW"],[63,"jmpi_<=","RIW"],[64,"switch_jmp","Rj"],[65,"switch_call","Rj"],[66,"stack_push","R"],[67,"stack_pop","R"],[68,"stack_pushm","RL"],[69,"stack_popm","RL"],[70,"unknown",null],[71,"unknown",null],[72,"arg_pushr","pR"],[73,"arg_pushl","pI"],[74,"arg_pushb","pB"],[75,"arg_pushw","pW"],[76,"unknown",null],[77,"unknown",null],[78,"arg_pushs","ps"],[79,"unknown4F","RR"],[80,"message","aLs"],[81,"list","aRs"],[82,"fadein",""],[83,"fadeout",""],[84,"se","aL"],[85,"bgm","aL"],[86,"unknown",null],[87,"unknown",null],[88,"enable","aL"],[89,"disable","aL"],[90,"window_msg","as"],[91,"add_msg","as"],[92,"mesend",""],[93,"gettime","R"],[94,"winend",""],[95,"unknown",null],[96,"npc_crt_V3","R"],[97,"npc_stop","aR"],[98,"npc_play","aL"],[99,"npc_kill","aR"],[100,"npc_nont",""],[101,"npc_talk",""],[102,"npc_crp_V3","R"],[103,"unknown",null],[104,"create_pipe","aL"],[105,"p_hpstat_V3","aRL"],[106,"p_dead_V3","aRL"],[107,"p_disablewarp",""],[108,"p_enablewarp",""],[109,"p_move_V3","R"],[110,"p_look","aL"],[111,"unknown",null],[112,"p_action_disable",""],[113,"p_action_enable",""],[114,"disable_movement1","aR"],[115,"enable_movement1","aR"],[116,"p_noncol",""],[117,"p_col",""],[118,"p_setpos","aRR"],[119,"p_return_guild",""],[120,"p_talk_guild","aL"],[121,"npc_talk_pl_V3","R"],[122,"npc_talk_kill","aL"],[123,"npc_crtpk_V3","R"],[124,"npc_crppk_V3","R"],[125,"npc_crptalk_v3","R"],[126,"p_look_at_V1","aLL"],[127,"npc_crp_id_V3","R"],[128,"cam_quake",""],[129,"cam_adj",""],[130,"cam_zmin",""],[131,"cam_zmout",""],[132,"cam_pan_V3","R"],[133,"game_lev_super",""],[134,"game_lev_reset",""],[135,"pos_pipe_V3","R"],[136,"if_zone_clear","RR"],[137,"chk_ene_num","R"],[138,"unhide_obj","R"],[139,"unhide_ene","R"],[140,"at_coords_call","R"],[141,"at_coords_talk","R"],[142,"col_npcin","R"],[143,"col_npcinr","R"],[144,"switch_on","aL"],[145,"switch_off","aL"],[146,"playbgm_epi","aL"],[147,"set_mainwarp","aL"],[148,"set_obj_param","RR"],[149,"set_floor_handler","aLW"],[150,"clr_floor_handler","aL"],[151,"col_plinaw","R"],[152,"hud_hide",""],[153,"hud_show",""],[154,"cine_enable",""],[155,"cine_disable",""],[156,"unknown",null],[157,"unknown",null],[158,"unknown",null],[159,"unknown",null],[160,"unknown",null],[161,"set_qt_failure","W"],[162,"set_qt_success","W"],[163,"clr_qt_failure",""],[164,"clr_qt_success",""],[165,"set_qt_cancel","W"],[166,"clr_qt_cancel",""],[167,"unknown",null],[168,"pl_walk_V3","R"],[169,"unknown",null],[170,"unknown",null],[171,"unknown",null],[172,"unknown",null],[173,"unknown",null],[174,"unknown",null],[175,"unknown",null],[176,"pl_add_meseta","aLL"],[177,"thread_stg","W"],[178,"del_obj_param","R"],[179,"item_create","RR"],[180,"item_create2","RR"],[181,"item_delete","RR"],[182,"item_delete2","RR"],[183,"item_check","RR"],[184,"setevt","aL"],[185,"get_difflvl","R"],[186,"set_qt_exit","W"],[187,"clr_qt_exit",""],[188,"unknown",null],[189,"unknown",null],[190,"unknown",null],[191,"unknown",null],[192,"particle_V3","R"],[193,"npc_text","aLs"],[194,"npc_chkwarp",""],[195,"pl_pkoff",""],[196,"map_designate","R"],[197,"masterkey_on",""],[198,"masterkey_off",""],[199,"window_time",""],[200,"winend_time",""],[201,"winset_time","R"],[202,"getmtime","R"],[203,"set_quest_board_handler","aLWs"],[204,"clear_quest_board_handler","aL"],[205,"particle_id_V3","R"],[206,"npc_crptalk_id_V3","R"],[207,"npc_lang_clean",""],[208,"pl_pkon",""],[209,"pl_chk_item2","RR"],[210,"enable_mainmenu",""],[211,"disable_mainmenu",""],[212,"start_battlebgm",""],[213,"end_battlebgm",""],[214,"disp_msg_qb","as"],[215,"close_msg_qb",""],[216,"set_eventflag_v3","aLL"],[217,"sync_leti",null],[218,"set_returnhunter",""],[219,"set_returncity",""],[220,"load_pvr",""],[221,"load_midi",""],[222,"unknown",null],[223,"npc_param_V3","aRL"],[224,"pad_dragon",""],[225,"clear_mainwarp","aL"],[226,"pcam_param_V3","R"],[227,"start_setevt_v3","aRL"],[228,"warp_on",""],[229,"warp_off",""],[230,"get_slotnumber","R"],[231,"get_servernumber","R"],[232,"set_eventflag2","aLR"],[233,"res","RR"],[234,"unknownEA","RL"],[235,"enable_bgmctrl","aL"],[236,"sw_send","R"],[237,"create_bgmctrl",""],[238,"pl_add_meseta2","aL"],[239,"sync_register","aRL"],[240,"send_regwork",null],[241,"leti_fixed_camera_V3","R"],[242,"default_camera_pos1",""],[243,"unknown",null],[244,"unknown",null],[245,"unknown",null],[246,"unknown",null],[247,"unknown",null],[248,"unknownF8","R"],[249,"unknown",null],[250,"get_gc_number","R"],[251,"unknownFB","W"],[252,"unknown",null],[253,"unknown",null],[254,"unknown",null],[255,"unknownFF",""]],qt=[[0,"unknown",null],[1,"set_chat_callback?","aRs"],[2,"unknown",null],[3,"unknown",null],[4,"unknown",null],[5,"unknown",null],[6,"unknown",null],[7,"unknown",null],[8,"get_difficulty_level2","R"],[9,"get_number_of_player1","R"],[10,"get_coord_of_player","RR"],[11,"unknownF80B",""],[12,"unknownF80C",""],[13,"map_designate_ex","R"],[14,"unknownF80E","aL"],[15,"unknownF80F","aL"],[16,"ba_initial_floor","aL"],[17,"set_ba_rules",""],[18,"unknownF812","aL"],[19,"unknownF813","aL"],[20,"unknownF814","aL"],[21,"unknownF815","aL"],[22,"unknownF816","aL"],[23,"unknownF817","aL"],[24,"unknownF818","aL"],[25,"unknownF819","aL"],[26,"unknownF81A","aL"],[27,"unknownF81B","aL"],[28,"ba_disp_msg","as"],[29,"death_lvl_up","aL"],[30,"death_tech_lvl_up","aL"],[31,"unknown",null],[32,"cmode_stage","aL"],[33,"unknown",null],[34,"unknown",null],[35,"unknownF823","aL"],[36,"unknownF824","aL"],[37,"exp_multiplication","R"],[38,"exp_division?","R"],[39,"get_user_is_dead?","R"],[40,"go_floor","RR"],[41,"unknown",null],[42,"unknown",null],[43,"unlock_door2","aLL"],[44,"lock_door2","aLL"],[45,"if_switch_not_pressed","R"],[46,"if_switch_pressed","R"],[47,"unknownF82F","aLL"],[48,"control_dragon","R"],[49,"release_dragon",""],[50,"unknown",null],[51,"unknown",null],[52,"unknown",null],[53,"unknown",null],[54,"unknown",null],[55,"unknown",null],[56,"shrink","R"],[57,"unshrink","R"],[58,"unknown",null],[59,"unknown",null],[60,"display_clock2?","R"],[61,"unknownF83D","aL"],[62,"delete_area_title?","aL"],[63,"unknown",null],[64,"load_npc_data",""],[65,"get_npc_data","W"],[66,"unknown",null],[67,"unknown",null],[68,"unknown",null],[69,"unknown",null],[70,"unknown",null],[71,"unknown",null],[72,"give_damage_score","R"],[73,"take_damage_score","R"],[74,"unk_score_F84A","R"],[75,"unk_score_F84B","R"],[76,"kill_score","R"],[77,"death_score","R"],[78,"unk_score_F84E","R"],[79,"enemy_death_score","R"],[80,"meseta_score","R"],[81,"unknownF851","R"],[82,"unknownF852","aL"],[83,"reverse_warps",""],[84,"unreverse_warps",""],[85,"set_ult_map",""],[86,"unset_ult_map",""],[87,"set_area_title","as"],[88,"unknownF858",""],[89,"unknown",null],[90,"equip_item","R"],[91,"unequip_item","aLL"],[92,"unknown",null],[93,"unknown",null],[94,"unknownF85E","aL"],[95,"unknownF85F","aL"],[96,"unknownF860",""],[97,"unknownF861","aL"],[98,"unknown",null],[99,"unknown",null],[100,"cmode_rank","aLs"],[101,"award_item_name?",""],[102,"award_item_select?",""],[103,"award_item_give_to?","R"],[104,"unknownF868","RR"],[105,"unknownF869","RR"],[106,"item_create_cmode","RR"],[107,"unknownF86B","R"],[108,"award_item_ok?","R"],[109,"unknownF86D",""],[110,"unknownF86E",""],[111,"ba_set_lives","aL"],[112,"ba_set_tech_lvl","aL"],[113,"ba_set_lvl","aL"],[114,"ba_set_time_limit","aL"],[115,"boss_is_dead?","R"],[116,"unknown",null],[117,"unknown",null],[118,"unknown",null],[119,"enable_techs","R"],[120,"disable_techs","R"],[121,"get_gender","RR"],[122,"get_chara_class","RR"],[123,"take_slot_meseta","RR"],[124,"unknown",null],[125,"unknown",null],[126,"unknown",null],[127,"read_guildcard_flag","RR"],[128,"unknownF880","R"],[129,"get_pl_name?","R"],[130,"unknown",null],[131,"unknownF883","RR"],[132,"unknown",null],[133,"unknown",null],[134,"unknown",null],[135,"unknown",null],[136,"ba_close_msg",""],[137,"unknown",null],[138,"get_player_status","RR"],[139,"send_mail","aRs"],[140,"online_check","R"],[141,"chl_set_timerecord?","R"],[142,"chl_get_timerecord?","R"],[143,"unknownF88F","R"],[144,"unknownF890",""],[145,"load_enemy_data","aL"],[146,"get_physical_data","W"],[147,"get_attack_data","W"],[148,"get_resist_data","W"],[149,"get_movement_data","W"],[150,"unknown",null],[151,"unknown",null],[152,"shift_left","RR"],[153,"shift_right","RR"],[154,"get_random","RR"],[155,"reset_map",""],[156,"disp_chl_retry_menu","R"],[157,"chl_reverser?",""],[158,"unknownF89E","aL"],[159,"unknownF89F","R"],[160,"unknownF8A0",""],[161,"unknownF8A1",""],[162,"unknown",null],[163,"unknown",null],[164,"unknown",null],[165,"unknown",null],[166,"unknown",null],[167,"unknown",null],[168,"unknownF8A8","aL"],[169,"unknownF8A9","R"],[170,"unknown",null],[171,"unknown",null],[172,"unknown",null],[173,"get_number_of_player2","R"],[174,"unknown",null],[175,"unknown",null],[176,"unknown",null],[177,"unknown",null],[178,"unknown",null],[179,"unknown",null],[180,"unknown",null],[181,"unknown",null],[182,"unknown",null],[183,"unknown",null],[184,"unknownF8B8",""],[185,"chl_recovery?",""],[186,"unknown",null],[187,"unknown",null],[188,"set_episode","L"],[189,"unknown",null],[190,"unknown",null],[191,"unknown",null],[192,"file_dl_req","aLs"],[193,"get_dl_status","R"],[194,"gba_unknown4?",""],[195,"get_gba_state?","R"],[196,"unknownF8C4","R"],[197,"unknownF8C5","R"],[198,"QEXIT",""],[199,"use_animation","RR"],[200,"stop_animation","R"],[201,"run_to_coord","RR"],[202,"set_slot_invincible","RR"],[203,"unknownF8CB","R"],[204,"set_slot_poison","R"],[205,"set_slot_paralyze","R"],[206,"set_slot_shock","R"],[207,"set_slot_freeze","R"],[208,"set_slot_slow","R"],[209,"set_slot_confuse","R"],[210,"set_slot_shifta","R"],[211,"set_slot_deband","R"],[212,"set_slot_jellen","R"],[213,"set_slot_zalure","R"],[214,"fleti_fixed_camera","aR"],[215,"fleti_locked_camera","aLR"],[216,"default_camera_pos2",""],[217,"set_motion_blur",""],[218,"set_screen_b&w",""],[219,"unknownF8DB","aLLLLRW"],[220,"NPC_action_string","RRW"],[221,"get_pad_cond","RR"],[222,"get_button_cond","RR"],[223,"freeze_enemies",""],[224,"unfreeze_enemies",""],[225,"freeze_everything",""],[226,"unfreeze_everything",""],[227,"restore_hp","R"],[228,"restore_tp","R"],[229,"close_chat_bubble","R"],[230,"unknownF8E6","RR"],[231,"unknownF8E7","RR"],[232,"unknownF8E8","RR"],[233,"unknownF8E9","RR"],[234,"unknownF8EA","RR"],[235,"unknownF8EB","RR"],[236,"unknownF8EC","RR"],[237,"animation_check","RR"],[238,"call_image_data","aLW"],[239,"unknownF8EF",""],[240,"turn_off_bgm_p2",""],[241,"turn_on_bgm_p2",""],[242,"load_unk_data","aLLLLRW"],[243,"particle2","aRLf"],[244,"unknown",null],[245,"unknown",null],[246,"unknown",null],[247,"unknown",null],[248,"unknown",null],[249,"unknown",null],[250,"unknown",null],[251,"unknown",null],[252,"unknown",null],[253,"unknown",null],[254,"unknown",null],[255,"unknown",null]],Yt=[[0,"unknown",null],[1,"dec2float","RR"],[2,"float2dec","RR"],[3,"flet","RR"],[4,"fleti","RF"],[5,"unknown",null],[6,"unknown",null],[7,"unknown",null],[8,"fadd","RR"],[9,"faddi","RF"],[10,"fsub","RR"],[11,"fsubi","RF"],[12,"fmul","RR"],[13,"fmuli","RF"],[14,"fdiv","RR"],[15,"fdivi","RF"],[16,"get_unknown_count?","aLR"],[17,"get_stackable_item_count","RR"],[18,"freeze_and_hide_equip",""],[19,"thaw_and_show_equip",""],[20,"set_paletteX_callback","aRW"],[21,"activate_paletteX","aR"],[22,"enable_paletteX","aR"],[23,"restore_paletteX","aL"],[24,"disable_paletteX","aL"],[25,"get_paletteX_activated","aLR"],[26,"get_unknown_paletteX_status?","aLR"],[27,"disable_movement2","aR"],[28,"enable_movement2","aR"],[29,"get_time_played","R"],[30,"get_guildcard_total","R"],[31,"get_slot_meseta","R"],[32,"get_player_level","aLR"],[33,"get_Section_ID","aLR"],[34,"get_player_hp","aRR"],[35,"get_floor_number","aRR"],[36,"get_coord_player_detect","RR"],[37,"read_global_flag","abR"],[38,"write_global_flag","abR"],[39,"unknownF927","RR"],[40,"floor_player_detect","R"],[41,"read_disk_file?","as"],[42,"open_pack_select",""],[43,"item_select","R"],[44,"get_item_id","R"],[45,"color_change","aRRRRR"],[46,"send_statistic?","aLLLLLLLL"],[47,"unknownF92F","aLL"],[48,"chat_box","aLLLLLs"],[49,"chat_bubble","aLs"],[50,"unknown",null],[51,"unknownF933","R"],[52,"scroll_text","aLLLLLfRs"],[53,"gba_unknown1",""],[54,"gba_unknown2",""],[55,"gba_unknown3",""],[56,"add_damage_to?","aLL"],[57,"item_delete2","aL"],[58,"get_item_info","aLR"],[59,"item_packing1","aL"],[60,"item_packing2","aLL"],[61,"get_lang_setting?","aR"],[62,"prepare_statistic?","aLWW"],[63,"keyword_detect",""],[64,"Keyword","aRLs"],[65,"get_guildcard_num","aLR"],[66,"unknown",null],[67,"unknown",null],[68,"get_wrap_status","aLR"],[69,"initial_floor","aL"],[70,"sin","aRL"],[71,"cos","aRL"],[72,"unknown",null],[73,"unknown",null],[74,"boss_is_dead2?","R"],[75,"unknownF94B","R"],[76,"unknownF94C","R"],[77,"is_there_cardbattle","R"],[78,"unknown",null],[79,"unknown",null],[80,"BB_p2_menu","aL"],[81,"BB_Map_Designate","BWBB"],[82,"BB_get_number_in_pack","R"],[83,"BB_swap_item","aLLLLLLWW"],[84,"BB_check_wrap","aRR"],[85,"BB_exchange_PD_item","aRRRWW"],[86,"BB_exchange_PD_srank","aRRRRRWW"],[87,"BB_exchange_PD_special","aRRRRRLWW"],[88,"BB_exchange_PD_percent","aRRRRRLWW"],[89,"unknownF959","aL"],[90,"unknown",null],[91,"unknown",null],[92,"BB_exchange_SLT","aLRWW"],[93,"BB_exchange_PC",""],[94,"BB_box_create_BP","aLff"],[95,"BB_exchange_PT","aRRLWW"],[96,"unknownF960","aL"],[97,"unknownF961",""],[98,"unknown",null],[99,"unknown",null],[100,"unknown",null],[101,"unknown",null],[102,"unknown",null],[103,"unknown",null],[104,"unknown",null],[105,"unknown",null],[106,"unknown",null],[107,"unknown",null],[108,"unknown",null],[109,"unknown",null],[110,"unknown",null],[111,"unknown",null],[112,"unknown",null],[113,"unknown",null],[114,"unknown",null],[115,"unknown",null],[116,"unknown",null],[117,"unknown",null],[118,"unknown",null],[119,"unknown",null],[120,"unknown",null],[121,"unknown",null],[122,"unknown",null],[123,"unknown",null],[124,"unknown",null],[125,"unknown",null],[126,"unknown",null],[127,"unknown",null],[128,"unknown",null],[129,"unknown",null],[130,"unknown",null],[131,"unknown",null],[132,"unknown",null],[133,"unknown",null],[134,"unknown",null],[135,"unknown",null],[136,"unknown",null],[137,"unknown",null],[138,"unknown",null],[139,"unknown",null],[140,"unknown",null],[141,"unknown",null],[142,"unknown",null],[143,"unknown",null],[144,"unknown",null],[145,"unknown",null],[146,"unknown",null],[147,"unknown",null],[148,"unknown",null],[149,"unknown",null],[150,"unknown",null],[151,"unknown",null],[152,"unknown",null],[153,"unknown",null],[154,"unknown",null],[155,"unknown",null],[156,"unknown",null],[157,"unknown",null],[158,"unknown",null],[159,"unknown",null],[160,"unknown",null],[161,"unknown",null],[162,"unknown",null],[163,"unknown",null],[164,"unknown",null],[165,"unknown",null],[166,"unknown",null],[167,"unknown",null],[168,"unknown",null],[169,"unknown",null],[170,"unknown",null],[171,"unknown",null],[172,"unknown",null],[173,"unknown",null],[174,"unknown",null],[175,"unknown",null],[176,"unknown",null],[177,"unknown",null],[178,"unknown",null],[179,"unknown",null],[180,"unknown",null],[181,"unknown",null],[182,"unknown",null],[183,"unknown",null],[184,"unknown",null],[185,"unknown",null],[186,"unknown",null],[187,"unknown",null],[188,"unknown",null],[189,"unknown",null],[190,"unknown",null],[191,"unknown",null],[192,"unknown",null],[193,"unknown",null],[194,"unknown",null],[195,"unknown",null],[196,"unknown",null],[197,"unknown",null],[198,"unknown",null],[199,"unknown",null],[200,"unknown",null],[201,"unknown",null],[202,"unknown",null],[203,"unknown",null],[204,"unknown",null],[205,"unknown",null],[206,"unknown",null],[207,"unknown",null],[208,"unknown",null],[209,"unknown",null],[210,"unknown",null],[211,"unknown",null],[212,"unknown",null],[213,"unknown",null],[214,"unknown",null],[215,"unknown",null],[216,"unknown",null],[217,"unknown",null],[218,"unknown",null],[219,"unknown",null],[220,"unknown",null],[221,"unknown",null],[222,"unknown",null],[223,"unknown",null],[224,"unknown",null],[225,"unknown",null],[226,"unknown",null],[227,"unknown",null],[228,"unknown",null],[229,"unknown",null],[230,"unknown",null],[231,"unknown",null],[232,"unknown",null],[233,"unknown",null],[234,"unknown",null],[235,"unknown",null],[236,"unknown",null],[237,"unknown",null],[238,"unknown",null],[239,"unknown",null],[240,"unknown",null],[241,"unknown",null],[242,"unknown",null],[243,"unknown",null],[244,"unknown",null],[245,"unknown",null],[246,"unknown",null],[247,"unknown",null],[248,"unknown",null],[249,"unknown",null],[250,"unknown",null],[251,"unknown",null],[252,"unknown",null],[253,"unknown",null],[254,"unknown",null],[255,"unknown",null]];function Zt(e){var n="PC",t=e.u8();e.seek(1);var r=e.u8();if(68===t?n="Dreamcast/GameCube":88===t?68===r&&(n="Blue Burst"):166===t&&(n="Dreamcast download"),"Blue Burst"===n){e.seekStart(0);var a=function(e){for(var n=[],t=0;t<2;++t){e.seek(4);var r=e.u16();e.seek(38);var a=e.stringAscii(16,!0,!0),i=e.u32(),o=e.stringAscii(24,!0,!0);n.push({questNo:r,fileName:a,fileName2:o,size:i})}return n}(e),i=function(e,n){var t=new Map;for(;e.bytesLeft;){var r=e.position,a=e.seek(4).u8(),i=e.seek(3).stringAscii(16,!0,!0),o=t.get(i);if(!o){var s=n.get(i);t.set(i,o={name:i,expectedSize:s,data:new tt(s||10240,!0),chunkNos:new Set})}o.chunkNos.has(a)?console.warn("File chunk number ".concat(a," of file ").concat(i," was already encountered, overwriting previous chunk.")):o.chunkNos.add(a);var l=e.seek(1024).u32();e.seek(-1028),l>1024&&(console.warn("Data segment size of ".concat(l," is larger than expected maximum size, reading just 1024 bytes.")),l=1024);var u=e.take(l),c=1024*a;if(o.data.size=Math.max(c+l,o.data.size),o.data.seekStart(c).writeCursor(u),e.seek(1032-u.size),e.position!==r+1056)throw new Error("Read ".concat(e.position-r," file chunk message bytes instead of expected 1056."))}var d=!0,p=!1,h=void 0;try{for(var w,m=t.values()[Symbol.iterator]();!(d=(w=m.next()).done);d=!0){var v=w.value;v.data.seekStart(0),v.chunkNos=new Set(Array.from(v.chunkNos.values()).sort(function(e,n){return e-n})),null!=v.expectedSize&&v.data.size!==v.expectedSize&&console.warn("File ".concat(v.name," has an actual size of ").concat(v.data.size," instead of the expected size ").concat(v.expectedSize,"."));for(var b=Math.max(v.data.size,v.expectedSize||0),f=0;f<Math.ceil(b/1024);++f)v.chunkNos.has(f)||console.warn("File ".concat(v.name," is missing chunk ").concat(f,"."))}}catch(k){p=!0,h=k}finally{try{d||null==m.return||m.return()}finally{if(p)throw h}}return Array.from(t.values())}(e,new Map(a.map(function(e){return[e.fileName,e.size]}))),o=!0,s=!1,l=void 0;try{for(var u,c=function(){var e=u.value,n=a.find(function(n){return n.fileName===e.name});n&&(e.questNo=n.questNo,e.name2=n.fileName2)},d=i[Symbol.iterator]();!(o=(u=d.next()).done);o=!0)c()}catch(p){s=!0,l=p}finally{try{o||null==d.return||d.return()}finally{if(s)throw l}}return{version:n,files:i}}console.error("Can't parse ".concat(n," QST files."))}function Kt(e){var n=e.files,t=n.map(function(e){return 88+1056*Math.ceil(e.data.size/1024)}).reduce(function(e,n){return e+n}),r=new tt(t,!0);if(function(e,n){var t=!0,r=!1,a=void 0;try{for(var i,o=n[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;if(s.name.length>16)throw Error("File ".concat(s.name," has a name longer than 16 characters."));e.writeU16(88),e.writeU16(68),e.writeU16(s.questNo||0);for(var l=0;l<38;++l)e.writeU8(0);e.writeStringAscii(s.name,16),e.writeU32(s.data.size);var u=void 0;if(null==s.name2){var c=s.name.lastIndexOf(".");u=-1===c?s.name+"_j":s.name.slice(0,c)+"_j"+s.name.slice(c)}else u=s.name2;if(u.length>24)throw Error("File ".concat(s.name," has a fileName2 length (").concat(u,") longer than 24 characters."));e.writeStringAscii(u,24)}}catch(d){r=!0,a=d}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}}(r,n),function(e,n){n=n.slice();var t=new Array(n.length).fill(0);for(;n.length;)for(var r=0;r<n.length;)Qt(e,n[r].data,t[r]++,n[r].name)?++r:(n.splice(r,1),t.splice(r,1))}(r,n),r.size!==t)throw new Error("Expected a final file size of ".concat(t,", but got ").concat(r.size,"."));return r.seekStart(0)}function Qt(e,n,t,r){e.writeU8Array([28,4,19,0]),e.writeU8(t),e.writeU8Array([0,0,0]),e.writeStringAscii(r,16);var a=Math.min(1024,n.bytesLeft);e.writeCursor(n.take(a));for(var i=a;i<1024;++i)e.writeU8(0);return e.writeU32(a),e.writeU32(0),!!n.bytesLeft}function Jt(e,n,t,r){var a,i=new Me(e,n,t,[]),o=Array(r).fill(null).map(function(e,n){return new Ae(n,i)});return(a=i.areaVariants).splice.apply(a,[0,0].concat(Object(D.a)(o))),i}var Xt=new(function(){function e(){Object(u.a)(this,e),this.areas=void 0,this.areas=[];var n=0;this.areas[1]=[Jt(0,"Pioneer II",n++,1),Jt(1,"Forest 1",n++,1),Jt(2,"Forest 2",n++,1),Jt(11,"Under the Dome",n++,1),Jt(3,"Cave 1",n++,6),Jt(4,"Cave 2",n++,5),Jt(5,"Cave 3",n++,6),Jt(12,"Underground Channel",n++,1),Jt(6,"Mine 1",n++,6),Jt(7,"Mine 2",n++,6),Jt(13,"Monitor Room",n++,1),Jt(8,"Ruins 1",n++,5),Jt(9,"Ruins 2",n++,5),Jt(10,"Ruins 3",n++,5),Jt(14,"Dark Falz",n++,1)],n=0,this.areas[2]=[Jt(0,"Lab",n++,1),Jt(1,"VR Temple Alpha",n++,3),Jt(2,"VR Temple Beta",n++,3),Jt(14,"VR Temple Final",n++,1),Jt(3,"VR Spaceship Alpha",n++,3),Jt(4,"VR Spaceship Beta",n++,3),Jt(15,"VR Spaceship Final",n++,1),Jt(5,"Central Control Area",n++,1),Jt(6,"Jungle Area East",n++,1),Jt(7,"Jungle Area North",n++,1),Jt(8,"Mountain Area",n++,3),Jt(9,"Seaside Area",n++,1),Jt(12,"Cliffs of Gal Da Val",n++,1),Jt(10,"Seabed Upper Levels",n++,3),Jt(11,"Seabed Lower Levels",n++,3),Jt(13,"Test Subject Disposal Area",n++,1),Jt(16,"Seaside Area at Night",n++,1),Jt(17,"Control Tower",n++,5)],n=0,this.areas[4]=[Jt(0,"Pioneer II (Ep. IV)",n++,1),Jt(1,"Crater Route 1",n++,1),Jt(2,"Crater Route 2",n++,1),Jt(3,"Crater Route 3",n++,1),Jt(4,"Crater Route 4",n++,1),Jt(5,"Crater Interior",n++,1),Jt(6,"Subterranean Desert 1",n++,3),Jt(7,"Subterranean Desert 2",n++,3),Jt(8,"Subterranean Desert 3",n++,3),Jt(9,"Meteor Impact Site",n++,1)]}return Object(c.a)(e,[{key:"getVariant",value:function(e,n,t){if(1!==e&&2!==e&&4!==e)throw new Error("Expected episode to be 1, 2 or 4, got ".concat(e,"."));var r=this.areas[e].find(function(e){return e.id===n});if(!r)throw new Error("Area id ".concat(n," for episode ").concat(e," is invalid."));var a=r.areaVariants[t];if(!a)throw new Error("Area variant id ".concat(t," for area ").concat(n," of episode ").concat(e," is invalid."));return a}}]),e}());function $t(e){var n=Zt(e);if(n){var t=null,r=null,a=!0,i=!1,o=void 0;try{for(var s,l=n.files[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var u=s.value;u.name.endsWith(".dat")?t=u:u.name.endsWith(".bin")&&(r=u)}}catch(m){i=!0,o=m}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}if(t){if(r){var c=function(e){for(var n=[],t=[],r=[];e.bytesLeft;){var a=e.u32(),i=e.u32(),o=e.u32(),s=e.u32();if(0===a)break;if(s!==i-16)throw Error("Malformed DAT file. Expected an entities size of ".concat(i-16,", got ").concat(s,"."));if(1===a){for(var l=Math.floor(s/zt),u=e.position,c=0;c<l;++c){var d=e.u16(),p=e.u8Array(10),h=e.u16(),w=e.u8Array(2),m=e.f32(),v=e.f32(),b=e.f32(),f=e.i32()/65535*2*Math.PI,k=e.i32()/65535*2*Math.PI,y=e.i32()/65535*2*Math.PI,g=e.u8Array(28);n.push({typeId:d,sectionId:h,position:{x:m,y:v,z:b},rotation:{x:f,y:k,z:y},areaId:o,unknown:[p,w,g]})}var R=e.position-u;R!==s&&(console.warn("Read ".concat(R," bytes instead of expected ").concat(s," for entity type ").concat(a," (Object).")),e.seek(s-R))}else if(2===a){for(var D=Math.floor(s/Wt),S=e.position,O=0;O<D;++O){var I=e.u16(),_=e.u8Array(10),j=e.u16(),C=e.u8Array(6),L=e.f32(),B=e.f32(),E=e.f32(),x=e.i32()/65535*2*Math.PI,M=e.i32()/65535*2*Math.PI,A=e.i32()/65535*2*Math.PI,F=e.u8Array(20),T=e.u32(),G=e.u8Array(4);t.push({typeId:I,sectionId:j,position:{x:L,y:B,z:E},rotation:{x:x,y:M,z:A},skin:T,areaId:o,unknown:[_,C,F,G]})}var P=e.position-S;P!==s&&(console.warn("Read ".concat(P," bytes instead of expected ").concat(s," for entity type ").concat(a," (NPC).")),e.seek(s-P))}else r.push({entityType:a,totalSize:i,areaId:o,entitiesSize:s,data:e.u8Array(s)})}return{objs:n,npcs:t,unknowns:r}}(Pt(t.data)),d=Nt(Pt(r.data)),p=1,h=[];if(d.functionOffsets.length){var w=function(e,n){var t=0,r=!1,a=[],i=!0,o=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;if(t===n&&(r=!0),r&&(a.push(c),1===c.opcode))break;t+=c.size}}catch(m){o=!0,s=m}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}return r?a:null}(d.instructions,d.functionOffsets[0]);w?h=function(e,n){var t=new Map,r=n.filter(function(e){return"BB_Map_Designate"===e.mnemonic}),a=!0,i=!1,o=void 0;try{for(var s,l=r[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var u=s.value,c=u.args[0],d=u.args[2];t.set(c,d)}}catch(m){i=!0,o=m}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return Array.from(t).map(function(n){var t=Object(S.a)(n,2),r=t[0],a=t[1];return Xt.getVariant(e,r,a)}).sort(function(e,n){return e.area.order-n.area.order||e.id-n.id})}(p=function(e){var n=e.find(function(e){return"set_episode"===e.mnemonic});if(!n)return console.warn("Function 0 has no set_episode instruction."),1;switch(n.args[0]){default:case 0:return 1;case 1:return 2;case 2:return 4}}(w),w):console.warn("Function 0 offset ".concat(d.functionOffsets[0]," is invalid."))}else console.warn("File contains no functions.");return new Le(d.questName,d.shortDescription,d.longDescription,t.questNo,p,h,c.objs.map(function(e){var n=e.position,t=n.x,r=n.y,a=n.z,i=e.rotation;return new Ee(e.areaId,e.sectionId,new je(t,r,a),new je(i.x,i.y,i.z),T.fromPsoId(e.typeId),e)}),function(e,n){return n.map(function(n){var t=n.position,r=t.x,a=t.y,i=t.z,o=n.rotation;return new xe(n.areaId,n.sectionId,new je(r,a,i),new je(o.x,o.y,o.z),function(e,n){var t=n.typeId,r=n.unknown,a=n.skin,i=n.areaId,o=0===(128&r[2][18]);switch("".concat(t,", ").concat(a%3,", ").concat(e)){case"".concat(68,", 0, 1"):return M.Booma;case"".concat(68,", 1, 1"):return M.Gobooma;case"".concat(68,", 2, 1"):return M.Gigobooma;case"".concat(99,", 0, 1"):return M.EvilShark;case"".concat(99,", 1, 1"):return M.PalShark;case"".concat(99,", 2, 1"):return M.GuilShark;case"".concat(166,", 0, 1"):return M.Dimenian;case"".concat(166,", 0, 2"):return M.Dimenian2;case"".concat(166,", 1, 1"):return M.LaDimenian;case"".concat(166,", 1, 2"):return M.LaDimenian2;case"".concat(166,", 2, 1"):return M.SoDimenian;case"".concat(166,", 2, 2"):return M.SoDimenian2;case"".concat(214,", 0, 2"):return M.Mericarol;case"".concat(214,", 1, 2"):return M.Mericus;case"".concat(214,", 2, 2"):return M.Merikle;case"".concat(277,", 0, 4"):return M.Boota;case"".concat(277,", 1, 4"):return M.ZeBoota;case"".concat(277,", 2, 4"):return M.BaBoota;case"".concat(279,", 0, 4"):return M.Goran;case"".concat(279,", 1, 4"):return M.PyroGoran;case"".concat(279,", 2, 4"):return M.GoranDetonator}switch("".concat(t,", ").concat(a%2,", ").concat(e)){case"".concat(64,", 0, 1"):return M.Hildebear;case"".concat(64,", 0, 2"):return M.Hildebear2;case"".concat(64,", 1, 1"):return M.Hildeblue;case"".concat(64,", 1, 2"):return M.Hildeblue2;case"".concat(65,", 0, 1"):return M.RagRappy;case"".concat(65,", 0, 2"):return M.RagRappy2;case"".concat(65,", 0, 4"):return M.SandRappy;case"".concat(65,", 1, 1"):return M.AlRappy;case"".concat(65,", 1, 2"):return M.LoveRappy;case"".concat(65,", 1, 4"):return M.DelRappy;case"".concat(97,", 0, 1"):return i>15?M.DelLily:M.PoisonLily;case"".concat(97,", 0, 2"):return i>15?M.DelLily:M.PoisonLily2;case"".concat(97,", 1, 1"):return i>15?M.DelLily:M.NarLily;case"".concat(97,", 1, 2"):return i>15?M.DelLily:M.NarLily2;case"".concat(128,", 0, 1"):return M.Dubchic;case"".concat(128,", 0, 2"):return M.Dubchic2;case"".concat(128,", 1, 1"):return M.Gilchic;case"".concat(128,", 1, 2"):return M.Gilchic2;case"".concat(212,", 0, 2"):return M.SinowBerill;case"".concat(212,", 1, 2"):return M.SinowSpigell;case"".concat(213,", 0, 2"):return M.Merillia;case"".concat(213,", 1, 2"):return M.Meriltas;case"".concat(215,", 0, 2"):return M.UlGibbon;case"".concat(215,", 1, 2"):return M.ZolGibbon;case"".concat(221,", 0, 2"):return M.Dolmolm;case"".concat(221,", 1, 2"):return M.Dolmdarl;case"".concat(224,", 0, 2"):return i>15?M.Epsilon:M.SinowZoa;case"".concat(224,", 1, 2"):return i>15?M.Epsilon:M.SinowZele;case"".concat(274,", 0, 4"):return M.MerissaA;case"".concat(274,", 1, 4"):return M.MerissaAA;case"".concat(276,", 0, 4"):return M.Zu;case"".concat(276,", 1, 4"):return M.Pazuzu;case"".concat(278,", 0, 4"):return M.Dorphon;case"".concat(278,", 1, 4"):return M.DorphonEclair;case"".concat(281,", 0, 4"):return o?M.SaintMilion:M.Kondrieu;case"".concat(281,", 1, 4"):return o?M.Shambertin:M.Kondrieu}switch("".concat(t,", ").concat(e)){case"".concat(66,", 1"):return M.Monest;case"".concat(66,", 2"):return M.Monest2;case"".concat(67,", 1"):return o?M.SavageWolf:M.BarbarousWolf;case"".concat(67,", 2"):return o?M.SavageWolf2:M.BarbarousWolf2;case"".concat(96,", 1"):return M.GrassAssassin;case"".concat(96,", 2"):return M.GrassAssassin2;case"".concat(98,", 1"):return M.NanoDragon;case"".concat(100,", 1"):return o?M.PofuillySlime:M.PouillySlime;case"".concat(101,", 1"):return M.PanArms;case"".concat(101,", 2"):return M.PanArms2;case"".concat(129,", 1"):return M.Garanz;case"".concat(129,", 2"):return M.Garanz2;case"".concat(130,", 1"):return o?M.SinowBeat:M.SinowGold;case"".concat(131,", 1"):return M.Canadine;case"".concat(132,", 1"):return M.Canane;case"".concat(133,", 1"):return M.Dubswitch;case"".concat(133,", 2"):return M.Dubswitch2;case"".concat(160,", 1"):return M.Delsaber;case"".concat(160,", 2"):return M.Delsaber2;case"".concat(161,", 1"):return M.ChaosSorcerer;case"".concat(161,", 2"):return M.ChaosSorcerer2;case"".concat(162,", 1"):return M.DarkGunner;case"".concat(164,", 1"):return M.ChaosBringer;case"".concat(165,", 1"):return M.DarkBelra;case"".concat(165,", 2"):return M.DarkBelra2;case"".concat(167,", 1"):return M.Bulclaw;case"".concat(168,", 1"):return M.Claw;case"".concat(192,", 1"):return M.Dragon;case"".concat(192,", 2"):return M.GalGryphon;case"".concat(193,", 1"):return M.DeRolLe;case"".concat(197,", 1"):return M.VolOpt;case"".concat(200,", 1"):return M.DarkFalz;case"".concat(202,", 2"):return M.OlgaFlow;case"".concat(203,", 2"):return M.BarbaRay;case"".concat(204,", 2"):return M.GolDragon;case"".concat(216,", 2"):return M.Gibbles;case"".concat(217,", 2"):return M.Gee;case"".concat(218,", 2"):return M.GiGue;case"".concat(219,", 2"):return M.Deldepth;case"".concat(220,", 2"):return M.Delbiter;case"".concat(222,", 2"):return M.Morfos;case"".concat(223,", 2"):return M.Recobox;case"".concat(225,", 2"):return M.IllGill;case"".concat(272,", 4"):return M.Astark;case"".concat(273,", 4"):return o?M.SatelliteLizard:M.Yowie;case"".concat(275,", 4"):return M.Girtablulu}switch(t){case 4:return M.FemaleFat;case 5:return M.FemaleMacho;case 7:return M.FemaleTall;case 10:return M.MaleDwarf;case 11:return M.MaleFat;case 12:return M.MaleMacho;case 13:return M.MaleOld;case 25:return M.BlueSoldier;case 26:return M.RedSoldier;case 27:return M.Principal;case 28:return M.Tekker;case 29:return M.GuildLady;case 30:return M.Scientist;case 31:return M.Nurse;case 32:return M.Irene;case 241:return M.ItemShop;case 254:return M.Nurse2}return M.Unknown}(e,n),n)})}(p,c.npcs),c.unknowns,d.data)}console.error("File contains no BIN file.")}else console.error("File contains no DAT file.")}}function er(e,n){var t,r,a=function(e){var n=e.objs,t=e.npcs,r=e.unknowns,a=new tt(n.length*zt+t.length*Wt+1e3*r.length,!0),i=Object(Ye.groupBy)(n,function(e){return e.areaId}),o=Object.keys(i).map(function(e){return parseInt(e,10)}).sort(function(e,n){return e-n}),s=!0,l=!1,u=void 0;try{for(var c,d=o[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var p=c.value,h=i[p],w=h.length*zt;a.writeU32(1),a.writeU32(w+16),a.writeU32(p),a.writeU32(w);var m=!0,v=!1,b=void 0;try{for(var f,k=h[Symbol.iterator]();!(m=(f=k.next()).done);m=!0){var y=f.value;a.writeU16(y.typeId),a.writeU8Array(y.unknown[0]),a.writeU16(y.sectionId),a.writeU8Array(y.unknown[1]),a.writeF32(y.position.x),a.writeF32(y.position.y),a.writeF32(y.position.z),a.writeI32(Math.round(y.rotation.x/(2*Math.PI)*65535)),a.writeI32(Math.round(y.rotation.y/(2*Math.PI)*65535)),a.writeI32(Math.round(y.rotation.z/(2*Math.PI)*65535)),a.writeU8Array(y.unknown[2])}}catch(N){v=!0,b=N}finally{try{m||null==k.return||k.return()}finally{if(v)throw b}}}}catch(N){l=!0,u=N}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}var g=Object(Ye.groupBy)(t,function(e){return e.areaId}),R=Object.keys(g).map(function(e){return parseInt(e,10)}).sort(function(e,n){return e-n}),D=!0,S=!1,O=void 0;try{for(var I,_=R[Symbol.iterator]();!(D=(I=_.next()).done);D=!0){var j=I.value,C=g[j],L=C.length*Wt;a.writeU32(2),a.writeU32(L+16),a.writeU32(j),a.writeU32(L);var B=!0,E=!1,x=void 0;try{for(var M,A=C[Symbol.iterator]();!(B=(M=A.next()).done);B=!0){var F=M.value;a.writeU16(F.typeId),a.writeU8Array(F.unknown[0]),a.writeU16(F.sectionId),a.writeU8Array(F.unknown[1]),a.writeF32(F.position.x),a.writeF32(F.position.y),a.writeF32(F.position.z),a.writeI32(Math.round(F.rotation.x/(2*Math.PI)*65535)),a.writeI32(Math.round(F.rotation.y/(2*Math.PI)*65535)),a.writeI32(Math.round(F.rotation.z/(2*Math.PI)*65535)),a.writeU8Array(F.unknown[2]),a.writeU32(F.skin),a.writeU8Array(F.unknown[3])}}catch(N){E=!0,x=N}finally{try{B||null==A.return||A.return()}finally{if(E)throw x}}}}catch(N){S=!0,O=N}finally{try{D||null==_.return||_.return()}finally{if(S)throw O}}var T=!0,G=!1,P=void 0;try{for(var U,z=r[Symbol.iterator]();!(T=(U=z.next()).done);T=!0){var W=U.value;a.writeU32(W.entityType),a.writeU32(W.totalSize),a.writeU32(W.areaId),a.writeU32(W.entitiesSize),a.writeU8Array(W.data)}}catch(N){G=!0,P=N}finally{try{T||null==z.return||z.return()}finally{if(G)throw P}}return a.writeU32(0),a.writeU32(0),a.writeU32(0),a.writeU32(0),a.seekStart(0),a}({objs:(r=e.objects,r.map(function(e){return{typeId:e.type.psoId,sectionId:e.sectionId,position:e.sectionPosition,rotation:e.rotation,areaId:e.areaId,unknown:e.dat.unknown}})),npcs:(t=e.npcs,t.map(function(e){var n=function(e){switch(e){default:throw new Error("Unexpected type ".concat(e.code,"."));case M.Unknown:return null;case M.FemaleFat:return{typeId:4,skin:0,regular:!0};case M.FemaleMacho:return{typeId:5,skin:0,regular:!0};case M.FemaleTall:return{typeId:7,skin:0,regular:!0};case M.MaleDwarf:return{typeId:10,skin:0,regular:!0};case M.MaleFat:return{typeId:11,skin:0,regular:!0};case M.MaleMacho:return{typeId:12,skin:0,regular:!0};case M.MaleOld:return{typeId:13,skin:0,regular:!0};case M.BlueSoldier:return{typeId:25,skin:0,regular:!0};case M.RedSoldier:return{typeId:26,skin:0,regular:!0};case M.Principal:return{typeId:27,skin:0,regular:!0};case M.Tekker:return{typeId:28,skin:0,regular:!0};case M.GuildLady:return{typeId:29,skin:0,regular:!0};case M.Scientist:return{typeId:30,skin:0,regular:!0};case M.Nurse:return{typeId:31,skin:0,regular:!0};case M.Irene:return{typeId:32,skin:0,regular:!0};case M.ItemShop:return{typeId:241,skin:0,regular:!0};case M.Nurse2:return{typeId:254,skin:0,regular:!0};case M.Hildebear:return{typeId:64,skin:0,regular:!0};case M.Hildeblue:return{typeId:64,skin:1,regular:!0};case M.RagRappy:return{typeId:65,skin:0,regular:!0};case M.AlRappy:return{typeId:65,skin:1,regular:!0};case M.Monest:return{typeId:66,skin:0,regular:!0};case M.SavageWolf:return{typeId:67,skin:0,regular:!0};case M.BarbarousWolf:return{typeId:67,skin:0,regular:!1};case M.Booma:return{typeId:68,skin:0,regular:!0};case M.Gobooma:return{typeId:68,skin:1,regular:!0};case M.Gigobooma:return{typeId:68,skin:2,regular:!0};case M.Dragon:return{typeId:192,skin:0,regular:!0};case M.GrassAssassin:return{typeId:96,skin:0,regular:!0};case M.PoisonLily:return{typeId:97,skin:0,regular:!0};case M.NarLily:return{typeId:97,skin:1,regular:!0};case M.NanoDragon:return{typeId:98,skin:0,regular:!0};case M.EvilShark:return{typeId:99,skin:0,regular:!0};case M.PalShark:return{typeId:99,skin:1,regular:!0};case M.GuilShark:return{typeId:99,skin:2,regular:!0};case M.PofuillySlime:return{typeId:100,skin:0,regular:!0};case M.PouillySlime:return{typeId:100,skin:0,regular:!1};case M.PanArms:return{typeId:101,skin:0,regular:!0};case M.DeRolLe:return{typeId:193,skin:0,regular:!0};case M.Dubchic:return{typeId:128,skin:0,regular:!0};case M.Gilchic:return{typeId:128,skin:1,regular:!0};case M.Garanz:return{typeId:129,skin:0,regular:!0};case M.SinowBeat:return{typeId:130,skin:0,regular:!0};case M.SinowGold:return{typeId:130,skin:0,regular:!1};case M.Canadine:return{typeId:131,skin:0,regular:!0};case M.Canane:return{typeId:132,skin:0,regular:!0};case M.Dubswitch:return{typeId:133,skin:0,regular:!0};case M.VolOpt:return{typeId:197,skin:0,regular:!0};case M.Delsaber:return{typeId:160,skin:0,regular:!0};case M.ChaosSorcerer:return{typeId:161,skin:0,regular:!0};case M.DarkGunner:return{typeId:162,skin:0,regular:!0};case M.ChaosBringer:return{typeId:164,skin:0,regular:!0};case M.DarkBelra:return{typeId:165,skin:0,regular:!0};case M.Dimenian:return{typeId:166,skin:0,regular:!0};case M.LaDimenian:return{typeId:166,skin:1,regular:!0};case M.SoDimenian:return{typeId:166,skin:2,regular:!0};case M.Bulclaw:return{typeId:167,skin:0,regular:!0};case M.Claw:return{typeId:168,skin:0,regular:!0};case M.DarkFalz:return{typeId:200,skin:0,regular:!0};case M.Hildebear2:return{typeId:64,skin:0,regular:!0};case M.Hildeblue2:return{typeId:64,skin:1,regular:!0};case M.RagRappy2:return{typeId:65,skin:0,regular:!0};case M.LoveRappy:return{typeId:65,skin:1,regular:!0};case M.Monest2:return{typeId:66,skin:0,regular:!0};case M.PoisonLily2:return{typeId:97,skin:0,regular:!0};case M.NarLily2:return{typeId:97,skin:1,regular:!0};case M.GrassAssassin2:return{typeId:96,skin:0,regular:!0};case M.Dimenian2:return{typeId:166,skin:0,regular:!0};case M.LaDimenian2:return{typeId:166,skin:1,regular:!0};case M.SoDimenian2:return{typeId:166,skin:2,regular:!0};case M.DarkBelra2:return{typeId:165,skin:0,regular:!0};case M.BarbaRay:return{typeId:203,skin:0,regular:!0};case M.SavageWolf2:return{typeId:67,skin:0,regular:!0};case M.BarbarousWolf2:return{typeId:67,skin:0,regular:!1};case M.PanArms2:return{typeId:101,skin:0,regular:!0};case M.Dubchic2:return{typeId:128,skin:0,regular:!0};case M.Gilchic2:return{typeId:128,skin:1,regular:!0};case M.Garanz2:return{typeId:129,skin:0,regular:!0};case M.Dubswitch2:return{typeId:133,skin:0,regular:!0};case M.Delsaber2:return{typeId:160,skin:0,regular:!0};case M.ChaosSorcerer2:return{typeId:161,skin:0,regular:!0};case M.GolDragon:return{typeId:204,skin:0,regular:!0};case M.SinowBerill:return{typeId:212,skin:0,regular:!0};case M.SinowSpigell:return{typeId:212,skin:1,regular:!0};case M.Merillia:return{typeId:213,skin:0,regular:!0};case M.Meriltas:return{typeId:213,skin:1,regular:!0};case M.Mericarol:return{typeId:214,skin:0,regular:!0};case M.Mericus:return{typeId:214,skin:1,regular:!0};case M.Merikle:return{typeId:214,skin:2,regular:!0};case M.UlGibbon:return{typeId:215,skin:0,regular:!0};case M.ZolGibbon:return{typeId:215,skin:1,regular:!0};case M.Gibbles:return{typeId:216,skin:0,regular:!0};case M.Gee:return{typeId:217,skin:0,regular:!0};case M.GiGue:return{typeId:218,skin:0,regular:!0};case M.GalGryphon:return{typeId:192,skin:0,regular:!0};case M.Deldepth:return{typeId:219,skin:0,regular:!0};case M.Delbiter:return{typeId:220,skin:0,regular:!0};case M.Dolmolm:return{typeId:221,skin:0,regular:!0};case M.Dolmdarl:return{typeId:221,skin:1,regular:!0};case M.Morfos:return{typeId:222,skin:0,regular:!0};case M.Recobox:return{typeId:223,skin:0,regular:!0};case M.Epsilon:case M.SinowZoa:return{typeId:224,skin:0,regular:!0};case M.SinowZele:return{typeId:224,skin:1,regular:!0};case M.IllGill:return{typeId:225,skin:0,regular:!0};case M.DelLily:return{typeId:97,skin:0,regular:!0};case M.OlgaFlow:return{typeId:202,skin:0,regular:!0};case M.SandRappy:return{typeId:65,skin:0,regular:!0};case M.DelRappy:return{typeId:65,skin:1,regular:!0};case M.Astark:return{typeId:272,skin:0,regular:!0};case M.SatelliteLizard:return{typeId:273,skin:0,regular:!0};case M.Yowie:return{typeId:273,skin:0,regular:!1};case M.MerissaA:return{typeId:274,skin:0,regular:!0};case M.MerissaAA:return{typeId:274,skin:1,regular:!0};case M.Girtablulu:return{typeId:275,skin:0,regular:!0};case M.Zu:return{typeId:276,skin:0,regular:!0};case M.Pazuzu:return{typeId:276,skin:1,regular:!0};case M.Boota:return{typeId:277,skin:0,regular:!0};case M.ZeBoota:return{typeId:277,skin:1,regular:!0};case M.BaBoota:return{typeId:277,skin:2,regular:!0};case M.Dorphon:return{typeId:278,skin:0,regular:!0};case M.DorphonEclair:return{typeId:278,skin:1,regular:!0};case M.Goran:return{typeId:279,skin:0,regular:!0};case M.PyroGoran:return{typeId:279,skin:1,regular:!0};case M.GoranDetonator:return{typeId:279,skin:2,regular:!0};case M.SaintMilion:return{typeId:281,skin:0,regular:!0};case M.Shambertin:return{typeId:281,skin:1,regular:!0};case M.Kondrieu:return{typeId:281,skin:0,regular:!1}}}(e.type);return n&&(e.dat.unknown[2][18]=-129&e.dat.unknown[2][18]|(n.regular?0:128)),{typeId:n?n.typeId:e.dat.typeId,sectionId:e.sectionId,position:e.sectionPosition,rotation:e.rotation,skin:n?n.skin:e.dat.skin,areaId:e.areaId,unknown:e.dat.unknown}})),unknowns:e.datUnkowns}),i={data:e.binData}.data.seekStart(0),o=n.lastIndexOf("."),s=-1===o?n:n.slice(0,o);return Kt({files:[{name:s+".dat",questNo:e.questNo,data:xt(a)},{name:s+".bin",questNo:e.questNo,data:xt(i)}]})}var nr,tr,rr,ar,ir,or=16776960,sr=16711680;function lr(e,n){return cr(e,n,or,"Object")}function ur(e,n){return cr(e,n,sr,"NPC")}function cr(e,n,t,r){var a=new dt.Mesh(n,new dt.MeshLambertMaterial({color:t,side:dt.DoubleSide}));return a.name=r,a.userData.entity=e,Object(E.c)(function(){var n=e.position,t=n.x,r=n.y,i=n.z;a.position.set(t,r,i);var o=e.rotation;a.rotation.set(o.x,o.y,o.z)}),a}function dr(e){return e&&new dt.Mesh(e,new dt.MeshLambertMaterial({color:16711935,side:dt.DoubleSide}))}var pr,hr,wr=new(nr=function(){function e(){var n=this;Object(u.a)(this,e),Object(j.a)(this,"currentModel",tr,this),Object(j.a)(this,"currentQuest",rr,this),Object(j.a)(this,"currentArea",ar,this),Object(j.a)(this,"selectedEntity",ir,this),this.setModel=Object(E.b)("setModel",function(e){n.resetModelAndQuestState(),n.currentModel=e}),this.setQuest=Object(E.b)("setQuest",function(e){n.resetModelAndQuestState(),n.currentQuest=e,e&&e.areaVariants.length&&(n.currentArea=e.areaVariants[0].area)}),this.setSelectedEntity=function(e){n.selectedEntity=e},this.setCurrentAreaId=Object(E.b)("setCurrentAreaId",function(e){if(n.selectedEntity=void 0,null==e)n.currentArea=void 0;else if(n.currentQuest){var t=n.currentQuest.areaVariants.find(function(n){return n.area.id===e});n.currentArea=t&&t.area}}),this.loadFile=function(e){var t=new FileReader;t.addEventListener("loadend",function(){n.loadend(e,t)}),t.readAsArrayBuffer(e)},this.loadend=function(){var e=Object(_.a)(I.a.mark(function e(t,r){var a,i,o,s,l,u,c;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.result instanceof ArrayBuffer){e.next=3;break}return console.error("Couldn't read file."),e.abrupt("return");case 3:if(!t.name.endsWith(".nj")){e.next=7;break}n.setModel(dr(Ot(new tt(r.result,!0)))),e.next=42;break;case 7:if(!t.name.endsWith(".xj")){e.next=11;break}n.setModel(dr(It(new tt(r.result,!0)))),e.next=42;break;case 11:if(a=$t(new tt(r.result,!0)),n.setQuest(a),!a){e.next=41;break}i=!0,o=!1,s=void 0,e.prev=17,l=I.a.mark(function e(){var t,r,i,o,s,l,u,d,p,h,w,m,v,b,f,k;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.value,e.next=3,bt(a.episode,t.area.id,t.id);case 3:r=e.sent,t.sections=r,i=!0,o=!1,s=void 0,e.prev=8,l=a.objects.filter(function(e){return e.areaId===t.area.id})[Symbol.iterator]();case 10:if(i=(u=l.next()).done){e.next=26;break}return d=u.value,e.prev=12,e.next=15,Et(d.type);case 15:p=e.sent,n.setSectionOnVisibleQuestEntity(d,r),d.object3d=lr(d,p),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(12),console.error(e.t0);case 23:i=!0,e.next=10;break;case 26:e.next=32;break;case 28:e.prev=28,e.t1=e.catch(8),o=!0,s=e.t1;case 32:e.prev=32,e.prev=33,i||null==l.return||l.return();case 35:if(e.prev=35,!o){e.next=38;break}throw s;case 38:return e.finish(35);case 39:return e.finish(32);case 40:h=!0,w=!1,m=void 0,e.prev=43,v=a.npcs.filter(function(e){return e.areaId===t.area.id})[Symbol.iterator]();case 45:if(h=(b=v.next()).done){e.next=61;break}return f=b.value,e.prev=47,e.next=50,Bt(f.type);case 50:k=e.sent,n.setSectionOnVisibleQuestEntity(f,r),f.object3d=ur(f,k),e.next=58;break;case 55:e.prev=55,e.t2=e.catch(47),console.error(e.t2);case 58:h=!0,e.next=45;break;case 61:e.next=67;break;case 63:e.prev=63,e.t3=e.catch(43),w=!0,m=e.t3;case 67:e.prev=67,e.prev=68,h||null==v.return||v.return();case 70:if(e.prev=70,!w){e.next=73;break}throw m;case 73:return e.finish(70);case 74:return e.finish(67);case 75:case"end":return e.stop()}},e,null,[[8,28,32,40],[12,20],[33,,35,39],[43,63,67,75],[47,55],[68,,70,74]])}),u=a.areaVariants[Symbol.iterator]();case 20:if(i=(c=u.next()).done){e.next=25;break}return e.delegateYield(l(),"t0",22);case 22:i=!0,e.next=20;break;case 25:e.next=31;break;case 27:e.prev=27,e.t1=e.catch(17),o=!0,s=e.t1;case 31:e.prev=31,e.prev=32,i||null==u.return||u.return();case 34:if(e.prev=34,!o){e.next=37;break}throw s;case 37:return e.finish(34);case 38:return e.finish(31);case 39:e.next=42;break;case 41:console.error("Couldn't parse quest file.");case 42:case"end":return e.stop()}},e,null,[[17,27,31,39],[32,,34,38]])}));return function(n,t){return e.apply(this,arguments)}}(),this.setSectionOnVisibleQuestEntity=function(){var e=Object(_.a)(I.a.mark(function e(n,t){var r,a,i,o,s,l,u,c,d,p,h;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n.position,a=r.x,i=r.y,o=r.z,s=t.find(function(e){return e.id===n.sectionId}),n.section=s,s?(l=s.position,u=l.x,c=l.y,d=l.z,p=s.cosYAxisRotation*a+s.sinYAxisRotation*o,h=-s.sinYAxisRotation*a+s.cosYAxisRotation*o,a=p+u,i+=c,o=h+d):console.warn("Section ".concat(n.sectionId," not found.")),n.position=new je(a,i,o);case 5:case"end":return e.stop()}},e)}));return function(n,t){return e.apply(this,arguments)}}(),this.saveCurrentQuestToFile=function(e){if(n.currentQuest){var t=er(n.currentQuest,e);e.endsWith(".qst")||(e+=".qst");var r=document.createElement("a");r.href=URL.createObjectURL(new Blob([t.buffer])),r.download=e,document.body.appendChild(r),r.click(),URL.revokeObjectURL(r.href),document.body.removeChild(r)}}}return Object(c.a)(e,[{key:"resetModelAndQuestState",value:function(){this.currentQuest=void 0,this.currentArea=void 0,this.selectedEntity=void 0,this.currentModel=void 0}}]),e}(),tr=Object(C.a)(nr.prototype,"currentModel",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rr=Object(C.a)(nr.prototype,"currentQuest",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ar=Object(C.a)(nr.prototype,"currentArea",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ir=Object(C.a)(nr.prototype,"selectedEntity",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nr),mr=(t(374),Object(w.a)(pr=function(e){function n(){return Object(u.a)(this,n),Object(d.a)(this,Object(p.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e=this.props.entity;if(e){var n=e.section?e.section.id:e.sectionId,t=null;return e instanceof Ee?t=a.a.createElement("tr",null,a.a.createElement("td",null,"Object: "),a.a.createElement("td",{colSpan:2},e.type.name)):e instanceof xe&&(t=a.a.createElement("tr",null,a.a.createElement("td",null,"NPC: "),a.a.createElement("td",null,e.type.name))),a.a.createElement("div",{className:"EntityInfoComponent-container"},a.a.createElement("table",{className:"EntityInfoComponent-table"},a.a.createElement("tbody",null,t,a.a.createElement("tr",null,a.a.createElement("td",null,"Section: "),a.a.createElement("td",null,n)),a.a.createElement("tr",null,a.a.createElement("td",{colSpan:2},"World position: ")),a.a.createElement("tr",null,a.a.createElement("td",{colSpan:2},a.a.createElement("table",null,a.a.createElement("tbody",null,a.a.createElement(vr,{entity:e,positionType:"position",coord:"x"}),a.a.createElement(vr,{entity:e,positionType:"position",coord:"y"}),a.a.createElement(vr,{entity:e,positionType:"position",coord:"z"}))))),a.a.createElement("tr",null,a.a.createElement("td",{colSpan:2},"Section position: ")),a.a.createElement("tr",null,a.a.createElement("td",{colSpan:2},a.a.createElement("table",null,a.a.createElement("tbody",null,a.a.createElement(vr,{entity:e,positionType:"sectionPosition",coord:"x"}),a.a.createElement(vr,{entity:e,positionType:"sectionPosition",coord:"y"}),a.a.createElement(vr,{entity:e,positionType:"sectionPosition",coord:"z"}))))))))}return a.a.createElement("div",{className:"EntityInfoComponent-container"})}}]),n}(a.a.Component))||pr),vr=Object(w.a)(hr=function(e){function n(){var e,t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(a)))).changed=function(e){if(null!=e){var n=t.props.entity,r=t.props.positionType,a=n[r].clone();a[t.props.coord]=e,n[r]=a}},t}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e=this.props.entity[this.props.positionType][this.props.coord];return a.a.createElement("tr",null,a.a.createElement("td",null,this.props.coord.toUpperCase(),": "),a.a.createElement("td",null,a.a.createElement(k.a,{value:e,size:"small",precision:3,className:"EntityInfoComponent-coord",onChange:this.changed})))}}]),n}(a.a.Component))||hr;t(375),t(376);function br(e){var n=e.quest;if(n){var t=4===n.episode?"IV":2===n.episode?"II":"I",r=new Map,i=!0,o=!1,s=void 0;try{for(var l,u=n.npcs[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value,d=r.get(c.type)||0;r.set(c.type,d+1)}}catch(w){o=!0,s=w}finally{try{i||null==u.return||u.return()}finally{if(o)throw s}}var p=8*(r.get(M.Canane)||0),h=Object(D.a)(r).sort(function(e,n){return e[0].id-n[0].id}).map(function(e){var n=Object(S.a)(e,2),t=n[0],r=n[1],i=t===M.Canadine?p:0;return a.a.createElement("tr",{key:t.id},a.a.createElement("td",null,t.name,":"),a.a.createElement("td",null,r+i))});return a.a.createElement("div",{className:"qe-QuestInfoComponent"},a.a.createElement("table",null,a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Name:"),a.a.createElement("td",null,n.name)),a.a.createElement("tr",null,a.a.createElement("th",null,"Episode:"),a.a.createElement("td",null,t)),a.a.createElement("tr",null,a.a.createElement("td",{colSpan:2},a.a.createElement("pre",null,n.shortDescription))),a.a.createElement("tr",null,a.a.createElement("td",{colSpan:2},a.a.createElement("pre",null,n.longDescription))))),a.a.createElement("div",{className:"qe-QuestInfoComponent-npc-counts-container"},a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{colSpan:2},"NPC Counts"))),a.a.createElement("tbody",null,h))))}return a.a.createElement("div",{className:"qe-QuestInfoComponent"})}var fr,kr=t(214),yr=t.n(kr)()(dt);var gr,Rr,Dr,Sr,Or,Ir,_r,jr,Cr,Lr,Br,Er,xr,Mr,Ar,Fr=function(){function e(){var n=this;Object(u.a)(this,e),this.renderer=new dt.WebGLRenderer({antialias:!0}),this.camera=void 0,this.controls=void 0,this.raycaster=new dt.Raycaster,this.scene=new dt.Scene,this.quest=void 0,this.questEntitiesLoaded=!1,this.area=void 0,this.objs=new Map,this.npcs=new Map,this.collisionGeometry=new dt.Object3D,this.renderGeometry=new dt.Object3D,this.objGeometry=new dt.Object3D,this.npcGeometry=new dt.Object3D,this.hoveredData=void 0,this.selectedData=void 0,this.model=void 0,this.renderLoop=function(){n.controls.update(),n.addLoadedEntities(),n.renderer.render(n.scene,n.camera),requestAnimationFrame(n.renderLoop)},this.onMouseDown=function(e){var t=n.selectedData,r=n.pickEntity(n.pointerPosToDeviceCoords(e));!n.hoveredData||r&&r.object===n.hoveredData.object||n.hoveredData.object.material.color.set(n.getColor(n.hoveredData.entity,"normal")),!n.selectedData||r&&r.object===n.selectedData.object||(n.selectedData.object.material.color.set(n.getColor(n.selectedData.entity,"normal")),n.selectedData.manipulating=!1),r?(r.object.material.color.set(n.getColor(r.entity,"selected")),r.manipulating=!0,n.hoveredData=r,n.selectedData=r,n.controls.enabled=!1):(n.hoveredData=void 0,n.selectedData=void 0,n.controls.enabled=!0),(t&&r?t.object!==r.object:t!==r)&&wr.setSelectedEntity(r&&r.entity)},this.onMouseUp=function(){n.selectedData&&(n.selectedData.manipulating=!1,n.controls.enabled=!0)},this.onMouseMove=function(e){var t=n.pointerPosToDeviceCoords(e);if(n.selectedData&&n.selectedData.manipulating){if(1===e.buttons){var r=n.selectedData;if(e.shiftKey){n.raycaster.setFromCamera(t,n.camera);var a=n.raycaster.ray,i=n.camera.getWorldDirection(new dt.Vector3).negate(),o=(new dt.Plane).setFromNormalAndCoplanarPoint(new dt.Vector3(i.x,0,i.z).normalize(),r.object.position.sub(r.grabOffset)),s=new dt.Vector3;if(a.intersectPlane(o,s)){var l=s.y+r.grabOffset.y,u=l-r.entity.position.y;r.dragY+=u,r.dragAdjust.y-=u,r.entity.position=new je(r.entity.position.x,l,r.entity.position.z)}}else{var c=n.pickTerrain(t,r),d=c.intersection,p=c.section;if(d)r.entity.position=new je(d.point.x,d.point.y+r.dragY,d.point.z),r.entity.section=p;else{n.raycaster.setFromCamera(t,n.camera);var h=n.raycaster.ray,w=new dt.Plane(new dt.Vector3(0,1,0),-r.entity.position.y+r.grabOffset.y),m=new dt.Vector3;h.intersectPlane(w,m)&&(r.entity.position=new je(m.x+r.grabOffset.x,r.entity.position.y,m.z+r.grabOffset.z))}}}}else{var v=n.hoveredData,b=n.pickEntity(t);!v||b&&b.object===v.object||(n.selectedData&&v.object===n.selectedData.object||v.object.material.color.set(n.getColor(v.entity,"normal")),n.hoveredData=void 0),!b||v&&b.object===v.object||(n.selectedData&&b.object===n.selectedData.object||b.object.material.color.set(n.getColor(b.entity,"hover")),n.hoveredData=b)}},this.renderer.domElement.addEventListener("mousedown",this.onMouseDown),this.renderer.domElement.addEventListener("mouseup",this.onMouseUp),this.renderer.domElement.addEventListener("mousemove",this.onMouseMove),this.camera=new dt.PerspectiveCamera(75,1,.1,5e3),this.controls=new yr(this.camera,this.renderer.domElement),this.controls.mouseButtons.ORBIT=dt.MOUSE.RIGHT,this.controls.mouseButtons.PAN=dt.MOUSE.LEFT,this.scene.background=new dt.Color(1383457),this.scene.add(new dt.HemisphereLight(16777215,5263440,1)),this.scene.add(this.objGeometry),this.scene.add(this.npcGeometry),requestAnimationFrame(this.renderLoop)}return Object(c.a)(e,[{key:"setSize",value:function(e,n){this.renderer.setSize(e,n),this.camera.aspect=e/n,this.camera.updateProjectionMatrix()}},{key:"setQuestAndArea",value:function(e,n){var t=!1;if(this.area!==n&&(this.area=n,t=!0),this.quest!==e){if(this.quest=e,this.objs.clear(),this.npcs.clear(),e){var r=!0,a=!1,i=void 0;try{for(var o,s=e.objects[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value,u=this.objs.get(l.areaId)||[];u.push(l),this.objs.set(l.areaId,u)}}catch(b){a=!0,i=b}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}var c=!0,d=!1,p=void 0;try{for(var h,w=e.npcs[Symbol.iterator]();!(c=(h=w.next()).done);c=!0){var m=h.value,v=this.npcs.get(m.areaId)||[];v.push(m),this.npcs.set(m.areaId,v)}}catch(b){d=!0,p=b}finally{try{c||null==w.return||w.return()}finally{if(d)throw p}}}t=!0}t&&this.updateGeometry()}},{key:"setModel",value:function(e){this.model!==e&&(this.model&&this.scene.remove(this.model),e&&(this.setQuestAndArea(void 0,void 0),this.scene.add(e),this.resetCamera()),this.model=e)}},{key:"updateGeometry",value:function(){var e=this;if(this.scene.remove(this.objGeometry),this.scene.remove(this.npcGeometry),this.objGeometry=new dt.Object3D,this.npcGeometry=new dt.Object3D,this.scene.add(this.objGeometry),this.scene.add(this.npcGeometry),this.questEntitiesLoaded=!1,this.scene.remove(this.collisionGeometry),this.quest&&this.area){var n=this.quest.episode,t=this.area.id,r=this.quest.areaVariants.find(function(e){return e.area.id===t}),a=r&&r.id||0;ft(n,t,a).then(function(n){e.quest&&e.area&&(e.setModel(void 0),e.scene.remove(e.collisionGeometry),e.resetCamera(),e.collisionGeometry=n,e.scene.add(n))}),function(e,n,t){var r=mt.get("".concat(e,"-").concat(n,"-").concat(t));return r||kt(e,n,t).then(function(e){return e.object3d})}(n,t,a).then(function(n){e.quest&&e.area&&(e.renderGeometry=n)})}}},{key:"resetCamera",value:function(){this.controls.reset(),this.camera.position.set(0,800,700),this.camera.lookAt(new dt.Vector3(0,0,0))}},{key:"addLoadedEntities",value:function(){if(this.quest&&this.area&&!this.questEntitiesLoaded){var e=!0,n=!0,t=!1,r=void 0;try{for(var a,i=this.quest.objects[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var o=a.value;o.areaId===this.area.id&&(o.object3d?this.objGeometry.add(o.object3d):e=!1)}}catch(h){t=!0,r=h}finally{try{n||null==i.return||i.return()}finally{if(t)throw r}}var s=!0,l=!1,u=void 0;try{for(var c,d=this.quest.npcs[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var p=c.value;p.areaId===this.area.id&&(p.object3d?this.npcGeometry.add(p.object3d):e=!1)}}catch(h){l=!0,u=h}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}this.questEntitiesLoaded=e}}},{key:"pointerPosToDeviceCoords",value:function(e){var n=new dt.Vector2;return this.renderer.getSize(n),n.width=e.offsetX/n.width*2-1,n.height=e.offsetY/n.height*-2+1,n}},{key:"pickEntity",value:function(e){this.raycaster.setFromCamera(e,this.camera);var n=this.raycaster.intersectObjects(this.objGeometry.children),t=Object(S.a)(n,1)[0],r=this.raycaster.intersectObjects(this.npcGeometry.children),a=Object(S.a)(r,1)[0];if(t||a){var i=(t?t.distance:1/0)<(a?a.distance:1/0)?t:a,o=i.object.userData.entity,s=i.object.position.clone().sub(i.point),l=s.clone(),u=0;this.raycaster.set(i.object.position,new dt.Vector3(0,-1,0));var c=this.raycaster.intersectObjects(this.collisionGeometry.children,!0),d=Object(S.a)(c,1)[0];return d&&(l.sub(new dt.Vector3(0,d.distance,0)),u+=d.distance),{object:i.object,entity:o,grabOffset:s,dragAdjust:l,dragY:u,manipulating:!1}}}},{key:"pickTerrain",value:function(e,n){this.raycaster.setFromCamera(e,this.camera),this.raycaster.ray.origin.add(n.dragAdjust);var t=this.raycaster.intersectObjects(this.collisionGeometry.children,!0),r=!0,a=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;if(l.face.normal.y>.75){this.raycaster.set(l.point.clone().setY(1e3),new dt.Vector3(0,-1,0));var u=this.raycaster.intersectObjects(this.renderGeometry.children,!0).filter(function(e){return e.object.userData.section.id>=0});return{intersection:l,section:u[0]&&u[0].object.userData.section}}}}catch(c){a=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return{}}},{key:"getColor",value:function(e,n){var t=e instanceof xe;switch(n){default:case"normal":return t?sr:or;case"hover":return t?16727903:16768831;case"selected":return t?16711764:16755200}}},{key:"domElement",get:function(){return this.renderer.domElement}}]),e}(),Tr=function(e){function n(){var e,t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(a)))).renderer=(fr||(fr=new Fr),fr),t.modifyDom=function(e){e&&(t.renderer.setSize(e.clientWidth,e.clientHeight),e.appendChild(t.renderer.domElement))},t.onResize=function(){var e=t.renderer.domElement.parentNode;t.renderer.setSize(e.clientWidth,e.clientHeight)},t}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{style:{overflow:"hidden"},ref:this.modifyDom})}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"componentWillReceiveProps",value:function(e){var n=e.quest,t=e.area,r=e.model;r?this.renderer.setModel(r):this.renderer.setQuestAndArea(n,t)}},{key:"shouldComponentUpdate",value:function(){return!1}}]),n}(a.a.Component),Gr=Object(w.a)(gr=function(e){function n(){var e,t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(a)))).state={saveDialogOpen:!1,saveDialogFilename:"Untitled"},t.saveAsClicked=function(e){var n=e?e.endsWith(".qst")?e.slice(0,-4):e:t.state.saveDialogFilename;t.setState({saveDialogOpen:!0,saveDialogFilename:n})},t.saveDialogFilenameChanged=function(e){t.setState({saveDialogFilename:e})},t.saveDialogAffirmed=function(){wr.saveCurrentQuestToFile(t.state.saveDialogFilename),t.setState({saveDialogOpen:!1})},t.saveDialogCancelled=function(){t.setState({saveDialogOpen:!1})},t}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e=wr.currentQuest,n=wr.currentModel,t=wr.currentArea;return a.a.createElement("div",{className:"qe-QuestEditorComponent"},a.a.createElement(Pr,{onSaveAsClicked:this.saveAsClicked}),a.a.createElement("div",{className:"qe-QuestEditorComponent-main"},a.a.createElement(br,{quest:e}),a.a.createElement(Tr,{quest:e,area:t,model:n}),a.a.createElement(mr,{entity:wr.selectedEntity})),a.a.createElement(Ur,{isOpen:this.state.saveDialogOpen,filename:this.state.saveDialogFilename,onFilenameChange:this.saveDialogFilenameChanged,onOk:this.saveDialogAffirmed,onCancel:this.saveDialogCancelled}))}}]),n}(a.a.Component))||gr,Pr=Object(w.a)(Rr=function(e){function n(){var e,t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(a)))).state={filename:void 0},t.setFilename=function(e){e.file.originFileObj&&(t.setState({filename:e.file.name}),wr.loadFile(e.file.originFileObj))},t.saveAsClicked=function(){t.props.onSaveAsClicked(t.state.filename)},t}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e=wr.currentQuest,n=e&&Array.from(e.areaVariants).map(function(e){return e.area}),t=wr.currentArea,r=t&&t.id;return a.a.createElement("div",{className:"qe-QuestEditorComponent-toolbar"},a.a.createElement(Zn.a,{accept:".nj, .qst, .xj",showUploadList:!1,onChange:this.setFilename},a.a.createElement(g.a,{icon:"file"},this.state.filename||"Choose file...")),n&&a.a.createElement(s.a,{onChange:wr.setCurrentAreaId,value:r,style:{width:200}},n.map(function(e){return a.a.createElement(s.a.Option,{key:e.id,value:e.id},e.name)})),e&&a.a.createElement(g.a,{icon:"save",onClick:this.saveAsClicked},"Save as..."))}}]),n}(a.a.Component))||Rr,Ur=function(e){function n(){var e,t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(a)))).nameChanged=function(e){t.props.onFilenameChange(e.currentTarget.value)},t}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return a.a.createElement(Hn.a,{title:a.a.createElement(a.a.Fragment,null,a.a.createElement(Yn.a,{type:"save"})," Save as..."),visible:this.props.isOpen,onOk:this.props.onOk,onCancel:this.props.onCancel},a.a.createElement(Vn.a,{layout:"vertical"},a.a.createElement(Vn.a.Item,{label:"Name"},a.a.createElement(qn.a,{autoFocus:!0,maxLength:12,value:this.props.filename,onChange:this.nameChanged}))))}}]),n}(a.a.Component),zr=(Dr=function(){function e(n,t){Object(u.a)(this,e),this.store=n,this.type=void 0,Object(j.a)(this,"attributePercentage",Sr,this),Object(j.a)(this,"grind",Or,this),this.type=t}return Object(c.a)(e,[{key:"shiftaAtp",get:function(){return this.type.minAtp===this.type.maxAtp?0:this.type.maxAtp*this.store.shiftaFactor}},{key:"grindAtp",get:function(){return 2*this.grind}},{key:"minAtp",get:function(){return this.type.minAtp+this.grindAtp}},{key:"maxAtp",get:function(){return this.type.maxAtp+this.grindAtp+this.shiftaAtp}},{key:"finalMinAtp",get:function(){return this.minAtp+this.store.armorAtp+this.store.shieldAtp+this.store.baseAtp+this.store.baseShiftaAtp}},{key:"finalMaxAtp",get:function(){return this.maxAtp+this.store.armorAtp+this.store.shieldAtp+this.store.baseAtp+this.store.baseShiftaAtp}},{key:"minNormalDamage",get:function(){return(this.finalMinAtp-this.store.enemyDfp)*(.2*.9)}},{key:"maxNormalDamage",get:function(){return(this.finalMaxAtp-this.store.enemyDfp)*(.2*.9)}},{key:"avgNormalDamage",get:function(){return(this.minNormalDamage+this.maxNormalDamage)/2}},{key:"minHeavyDamage",get:function(){return.3402*(this.finalMinAtp-this.store.enemyDfp)}},{key:"maxHeavyDamage",get:function(){return.3402*(this.finalMaxAtp-this.store.enemyDfp)}},{key:"avgHeavyDamage",get:function(){return(this.minHeavyDamage+this.maxHeavyDamage)/2}}]),e}(),Sr=Object(C.a)(Dr.prototype,"attributePercentage",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Or=Object(C.a)(Dr.prototype,"grind",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(C.a)(Dr.prototype,"shiftaAtp",[E.d],Object.getOwnPropertyDescriptor(Dr.prototype,"shiftaAtp"),Dr.prototype),Object(C.a)(Dr.prototype,"grindAtp",[E.d],Object.getOwnPropertyDescriptor(Dr.prototype,"grindAtp"),Dr.prototype),Object(C.a)(Dr.prototype,"minAtp",[E.d],Object.getOwnPropertyDescriptor(Dr.prototype,"minAtp"),Dr.prototype),Object(C.a)(Dr.prototype,"maxAtp",[E.d],Object.getOwnPropertyDescriptor(Dr.prototype,"maxAtp"),Dr.prototype),Object(C.a)(Dr.prototype,"finalMinAtp",[E.d],Object.getOwnPropertyDescriptor(Dr.prototype,"finalMinAtp"),Dr.prototype),Object(C.a)(Dr.prototype,"finalMaxAtp",[E.d],Object.getOwnPropertyDescriptor(Dr.prototype,"finalMaxAtp"),Dr.prototype),Object(C.a)(Dr.prototype,"minNormalDamage",[E.d],Object.getOwnPropertyDescriptor(Dr.prototype,"minNormalDamage"),Dr.prototype),Object(C.a)(Dr.prototype,"maxNormalDamage",[E.d],Object.getOwnPropertyDescriptor(Dr.prototype,"maxNormalDamage"),Dr.prototype),Object(C.a)(Dr.prototype,"avgNormalDamage",[E.d],Object.getOwnPropertyDescriptor(Dr.prototype,"avgNormalDamage"),Dr.prototype),Object(C.a)(Dr.prototype,"minHeavyDamage",[E.d],Object.getOwnPropertyDescriptor(Dr.prototype,"minHeavyDamage"),Dr.prototype),Object(C.a)(Dr.prototype,"maxHeavyDamage",[E.d],Object.getOwnPropertyDescriptor(Dr.prototype,"maxHeavyDamage"),Dr.prototype),Object(C.a)(Dr.prototype,"avgHeavyDamage",[E.d],Object.getOwnPropertyDescriptor(Dr.prototype,"avgHeavyDamage"),Dr.prototype),new(Ir=function(){function e(){Object(u.a)(this,e),Object(j.a)(this,"charAtp",_r,this),Object(j.a)(this,"magPow",jr,this),Object(j.a)(this,"armorAtp",Cr,this),Object(j.a)(this,"shieldAtp",Lr,this),Object(j.a)(this,"shiftaLvl",Br,this),Object(j.a)(this,"weapons",Er,this),Object(j.a)(this,"enemyDfp",xr,this)}return Object(c.a)(e,[{key:"baseAtp",get:function(){return this.charAtp+2*this.magPow}},{key:"shiftaFactor",get:function(){return this.shiftaLvl?.013*(this.shiftaLvl-1)+.1:0}},{key:"baseShiftaAtp",get:function(){return this.baseAtp*this.shiftaFactor}}]),e}(),_r=Object(C.a)(Ir.prototype,"charAtp",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),jr=Object(C.a)(Ir.prototype,"magPow",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Cr=Object(C.a)(Ir.prototype,"armorAtp",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Lr=Object(C.a)(Ir.prototype,"shieldAtp",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Br=Object(C.a)(Ir.prototype,"shiftaLvl",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(C.a)(Ir.prototype,"baseAtp",[E.d],Object.getOwnPropertyDescriptor(Ir.prototype,"baseAtp"),Ir.prototype),Object(C.a)(Ir.prototype,"shiftaFactor",[E.d],Object.getOwnPropertyDescriptor(Ir.prototype,"shiftaFactor"),Ir.prototype),Object(C.a)(Ir.prototype,"baseShiftaAtp",[E.d],Object.getOwnPropertyDescriptor(Ir.prototype,"baseShiftaAtp"),Ir.prototype),Er=Object(C.a)(Ir.prototype,"weapons",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.k.array()}}),xr=Object(C.a)(Ir.prototype,"enemyDfp",[E.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ir)),Wr=Object(w.a)(Mr=function(e){function n(){return Object(u.a)(this,n),Object(d.a)(this,Object(p.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return a.a.createElement("section",null,a.a.createElement("section",null,a.a.createElement("div",null,"Character ATP:"),a.a.createElement(k.a,{value:zr.charAtp,min:0,step:1,onChange:function(e){return zr.charAtp=e||0}}),a.a.createElement("div",null,"MAG POW:"),a.a.createElement(k.a,{value:zr.magPow,min:0,max:200,step:1,onChange:function(e){return zr.magPow=e||0}}),a.a.createElement("div",null,"Armor ATP:"),a.a.createElement(k.a,{value:zr.armorAtp,min:0,step:1,onChange:function(e){return zr.armorAtp=e||0}}),a.a.createElement("div",null,"Shield ATP:"),a.a.createElement(k.a,{value:zr.shieldAtp,min:0,step:1,onChange:function(e){return zr.shieldAtp=e||0}}),a.a.createElement("div",null,"Shifta level:"),a.a.createElement(k.a,{value:zr.shiftaLvl,min:0,max:30,step:1,onChange:function(e){return zr.shiftaLvl=e||0}}),a.a.createElement("div",null,"Shifta factor:"),a.a.createElement("div",null,zr.shiftaFactor.toFixed(3)),a.a.createElement("div",null,"Base shifta ATP:"),a.a.createElement("div",null,zr.baseShiftaAtp.toFixed(2))))}}]),n}(a.a.Component))||Mr,Nr=b(Gr),Hr=b(function(){return a.a.createElement("section",{className:"ho-HuntOptimizerComponent"},a.a.createElement(f.a,{type:"card"},a.a.createElement(Nn,{tab:"Optimize",key:"optimize"},a.a.createElement(Mn,null)),a.a.createElement(Nn,{tab:"Methods",key:"methods"},a.a.createElement(Wn,null))))}),Vr=b(Wr),qr=Object(w.a)(Ar=function(e){function n(){var e,t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=Object(d.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(a)))).state={tool:t.initTool()},t.menuClicked=function(e){t.setState({tool:e.key})},t}return Object(h.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e;switch(this.state.tool){case"questEditor":e=a.a.createElement(Nr,null);break;case"huntOptimizer":e=a.a.createElement(Hr,null);break;case"dpsCalc":e=a.a.createElement(Vr,null)}return a.a.createElement("div",{className:"ApplicationComponent"},a.a.createElement("div",{className:"ApplicationComponent-navbar"},a.a.createElement("h1",{className:"ApplicationComponent-heading"},"Phantasmal World"),a.a.createElement(l.b,{className:"ApplicationComponent-heading-menu",onClick:this.menuClicked,selectedKeys:[this.state.tool],mode:"horizontal"},a.a.createElement(l.b.Item,{key:"questEditor"},"Quest Editor",a.a.createElement("sup",{className:"ApplicationComponent-beta"},"(Beta)")),a.a.createElement(l.b.Item,{key:"huntOptimizer"},"Hunt Optimizer")),a.a.createElement("div",{className:"ApplicationComponent-server-select"},a.a.createElement("span",null,"Server:"),a.a.createElement(s.a,{defaultValue:ce.Ephinea,style:{width:120}},a.a.createElement(s.a.Option,{value:ce.Ephinea},ce.Ephinea)))),a.a.createElement("div",{className:"ApplicationComponent-main"},e))}},{key:"initTool",value:function(){var e=window.location.search.slice(1).split("&").find(function(e){return e.startsWith("tool=")});return e?e.slice(5):"questEditor"}}]),n}(a.a.Component))||Ar;t(482),t(483),t(484);o.a.render(a.a.createElement(qr,null),document.getElementById("phantasmal-world-root"))}},[[226,1,2]]]);
//# sourceMappingURL=main.57e66464.chunk.js.map