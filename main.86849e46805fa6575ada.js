(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+LO4":function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(i("GGSb")).default.get("core/observable/property/AbstractMinimalProperty");t.AbstractMinimalProperty=class{constructor(){this.is_property=!0,this.observers=[]}observe(e,t){return this.observers.includes(e)||this.observers.push(e),t&&t.call_now&&this.call_observer(e,this.val),{dispose:()=>{const t=this.observers.indexOf(e);-1!==t&&this.observers.splice(t,1)}}}emit(e){for(const t of this.observers)this.call_observer(t,e)}call_observer(e,t){try{e({value:this.val,old_value:t})}catch(e){o.error("Observer threw error.",e)}}}},"+oIp":function(e,t,i){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Unknown=1e3]="Unknown",e[e.PlayerSet=1001]="PlayerSet",e[e.Particle=1002]="Particle",e[e.Teleporter=1003]="Teleporter",e[e.Warp=1004]="Warp",e[e.LightCollision=1005]="LightCollision",e[e.Item=1006]="Item",e[e.EnvSound=1007]="EnvSound",e[e.FogCollision=1008]="FogCollision",e[e.EventCollision=1009]="EventCollision",e[e.CharaCollision=1010]="CharaCollision",e[e.ElementalTrap=1011]="ElementalTrap",e[e.StatusTrap=1012]="StatusTrap",e[e.HealTrap=1013]="HealTrap",e[e.LargeElementalTrap=1014]="LargeElementalTrap",e[e.ObjRoomID=1015]="ObjRoomID",e[e.Sensor=1016]="Sensor",e[e.UnknownItem16=1017]="UnknownItem16",e[e.Lensflare=1018]="Lensflare",e[e.ScriptCollision=1019]="ScriptCollision",e[e.HealRing=1020]="HealRing",e[e.MapCollision=1021]="MapCollision",e[e.ScriptCollisionA=1022]="ScriptCollisionA",e[e.ItemLight=1023]="ItemLight",e[e.RadarCollision=1024]="RadarCollision",e[e.FogCollisionSW=1025]="FogCollisionSW",e[e.BossTeleporter=1026]="BossTeleporter",e[e.ImageBoard=1027]="ImageBoard",e[e.QuestWarp=1028]="QuestWarp",e[e.Epilogue=1029]="Epilogue",e[e.UnknownItem29=1030]="UnknownItem29",e[e.UnknownItem30=1031]="UnknownItem30",e[e.UnknownItem31=1032]="UnknownItem31",e[e.BoxDetectObject=1033]="BoxDetectObject",e[e.SymbolChatObject=1034]="SymbolChatObject",e[e.TouchPlateObject=1035]="TouchPlateObject",e[e.TargetableObject=1036]="TargetableObject",e[e.EffectObject=1037]="EffectObject",e[e.CountDownObject=1038]="CountDownObject",e[e.UnknownItem38=1039]="UnknownItem38",e[e.UnknownItem39=1040]="UnknownItem39",e[e.UnknownItem40=1041]="UnknownItem40",e[e.UnknownItem41=1042]="UnknownItem41",e[e.MenuActivation=1043]="MenuActivation",e[e.TelepipeLocation=1044]="TelepipeLocation",e[e.BGMCollision=1045]="BGMCollision",e[e.MainRagolTeleporter=1046]="MainRagolTeleporter",e[e.LobbyTeleporter=1047]="LobbyTeleporter",e[e.PrincipalWarp=1048]="PrincipalWarp",e[e.ShopDoor=1049]="ShopDoor",e[e.HuntersGuildDoor=1050]="HuntersGuildDoor",e[e.TeleporterDoor=1051]="TeleporterDoor",e[e.MedicalCenterDoor=1052]="MedicalCenterDoor",e[e.Elevator=1053]="Elevator",e[e.EasterEgg=1054]="EasterEgg",e[e.ValentinesHeart=1055]="ValentinesHeart",e[e.ChristmasTree=1056]="ChristmasTree",e[e.ChristmasWreath=1057]="ChristmasWreath",e[e.HalloweenPumpkin=1058]="HalloweenPumpkin",e[e.TwentyFirstCentury=1059]="TwentyFirstCentury",e[e.Sonic=1060]="Sonic",e[e.WelcomeBoard=1061]="WelcomeBoard",e[e.Firework=1062]="Firework",e[e.LobbyScreenDoor=1063]="LobbyScreenDoor",e[e.MainRagolTeleporterBattleInNextArea=1064]="MainRagolTeleporterBattleInNextArea",e[e.LabTeleporterDoor=1065]="LabTeleporterDoor",e[e.Pioneer2InvisibleTouchplate=1066]="Pioneer2InvisibleTouchplate",e[e.ForestDoor=1067]="ForestDoor",e[e.ForestSwitch=1068]="ForestSwitch",e[e.LaserFence=1069]="LaserFence",e[e.LaserSquareFence=1070]="LaserSquareFence",e[e.ForestLaserFenceSwitch=1071]="ForestLaserFenceSwitch",e[e.LightRays=1072]="LightRays",e[e.BlueButterfly=1073]="BlueButterfly",e[e.Probe=1074]="Probe",e[e.RandomTypeBox1=1075]="RandomTypeBox1",e[e.ForestWeatherStation=1076]="ForestWeatherStation",e[e.Battery=1077]="Battery",e[e.ForestConsole=1078]="ForestConsole",e[e.BlackSlidingDoor=1079]="BlackSlidingDoor",e[e.RicoMessagePod=1080]="RicoMessagePod",e[e.EnergyBarrier=1081]="EnergyBarrier",e[e.ForestRisingBridge=1082]="ForestRisingBridge",e[e.SwitchNoneDoor=1083]="SwitchNoneDoor",e[e.EnemyBoxGrey=1084]="EnemyBoxGrey",e[e.FixedTypeBox=1085]="FixedTypeBox",e[e.EnemyBoxBrown=1086]="EnemyBoxBrown",e[e.EmptyTypeBox=1087]="EmptyTypeBox",e[e.LaserFenseEx=1088]="LaserFenseEx",e[e.LaserSquareFenceEx=1089]="LaserSquareFenceEx",e[e.FloorPanel1=1090]="FloorPanel1",e[e.Caves4ButtonDoor=1091]="Caves4ButtonDoor",e[e.CavesNormalDoor=1092]="CavesNormalDoor",e[e.CavesSmashingPillar=1093]="CavesSmashingPillar",e[e.CavesSign1=1094]="CavesSign1",e[e.CavesSign2=1095]="CavesSign2",e[e.CavesSign3=1096]="CavesSign3",e[e.HexagalTank=1097]="HexagalTank",e[e.BrownPlatform=1098]="BrownPlatform",e[e.WarningLightObject=1099]="WarningLightObject",e[e.Rainbow=1100]="Rainbow",e[e.FloatingJelifish=1101]="FloatingJelifish",e[e.FloatingDragonfly=1102]="FloatingDragonfly",e[e.CavesSwitchDoor=1103]="CavesSwitchDoor",e[e.RobotRechargeStation=1104]="RobotRechargeStation",e[e.CavesCakeShop=1105]="CavesCakeShop",e[e.Caves1SmallRedRock=1106]="Caves1SmallRedRock",e[e.Caves1MediumRedRock=1107]="Caves1MediumRedRock",e[e.Caves1LargeRedRock=1108]="Caves1LargeRedRock",e[e.Caves2SmallRock1=1109]="Caves2SmallRock1",e[e.Caves2MediumRock1=1110]="Caves2MediumRock1",e[e.Caves2LargeRock1=1111]="Caves2LargeRock1",e[e.Caves2SmallRock2=1112]="Caves2SmallRock2",e[e.Caves2MediumRock2=1113]="Caves2MediumRock2",e[e.Caves2LargeRock2=1114]="Caves2LargeRock2",e[e.Caves3SmallRock=1115]="Caves3SmallRock",e[e.Caves3MediumRock=1116]="Caves3MediumRock",e[e.Caves3LargeRock=1117]="Caves3LargeRock",e[e.FloorPanel2=1118]="FloorPanel2",e[e.DestructableRockCaves1=1119]="DestructableRockCaves1",e[e.DestructableRockCaves2=1120]="DestructableRockCaves2",e[e.DestructableRockCaves3=1121]="DestructableRockCaves3",e[e.MinesDoor=1122]="MinesDoor",e[e.FloorPanel3=1123]="FloorPanel3",e[e.MinesSwitchDoor=1124]="MinesSwitchDoor",e[e.LargeCryoTube=1125]="LargeCryoTube",e[e.ComputerLikeCalus=1126]="ComputerLikeCalus",e[e.GreenScreenOpeningAndClosing=1127]="GreenScreenOpeningAndClosing",e[e.FloatingRobot=1128]="FloatingRobot",e[e.FloatingBlueLight=1129]="FloatingBlueLight",e[e.SelfDestructingObject1=1130]="SelfDestructingObject1",e[e.SelfDestructingObject2=1131]="SelfDestructingObject2",e[e.SelfDestructingObject3=1132]="SelfDestructingObject3",e[e.SparkMachine=1133]="SparkMachine",e[e.MinesLargeFlashingCrate=1134]="MinesLargeFlashingCrate",e[e.RuinsSeal=1135]="RuinsSeal",e[e.RuinsTeleporter=1136]="RuinsTeleporter",e[e.RuinsWarpSiteToSite=1137]="RuinsWarpSiteToSite",e[e.RuinsSwitch=1138]="RuinsSwitch",e[e.FloorPanel4=1139]="FloorPanel4",e[e.Ruins1Door=1140]="Ruins1Door",e[e.Ruins3Door=1141]="Ruins3Door",e[e.Ruins2Door=1142]="Ruins2Door",e[e.Ruins11ButtonDoor=1143]="Ruins11ButtonDoor",e[e.Ruins21ButtonDoor=1144]="Ruins21ButtonDoor",e[e.Ruins31ButtonDoor=1145]="Ruins31ButtonDoor",e[e.Ruins4ButtonDoor=1146]="Ruins4ButtonDoor",e[e.Ruins2ButtonDoor=1147]="Ruins2ButtonDoor",e[e.RuinsSensor=1148]="RuinsSensor",e[e.RuinsFenceSwitch=1149]="RuinsFenceSwitch",e[e.RuinsLaserFence4x2=1150]="RuinsLaserFence4x2",e[e.RuinsLaserFence6x2=1151]="RuinsLaserFence6x2",e[e.RuinsLaserFence4x4=1152]="RuinsLaserFence4x4",e[e.RuinsLaserFence6x4=1153]="RuinsLaserFence6x4",e[e.RuinsPoisonBlob=1154]="RuinsPoisonBlob",e[e.RuinsPilarTrap=1155]="RuinsPilarTrap",e[e.PopupTrapNoTech=1156]="PopupTrapNoTech",e[e.RuinsCrystal=1157]="RuinsCrystal",e[e.Monument=1158]="Monument",e[e.RuinsRock1=1159]="RuinsRock1",e[e.RuinsRock2=1160]="RuinsRock2",e[e.RuinsRock3=1161]="RuinsRock3",e[e.RuinsRock4=1162]="RuinsRock4",e[e.RuinsRock5=1163]="RuinsRock5",e[e.RuinsRock6=1164]="RuinsRock6",e[e.RuinsRock7=1165]="RuinsRock7",e[e.Poison=1166]="Poison",e[e.FixedBoxTypeRuins=1167]="FixedBoxTypeRuins",e[e.RandomBoxTypeRuins=1168]="RandomBoxTypeRuins",e[e.EnemyTypeBoxYellow=1169]="EnemyTypeBoxYellow",e[e.EnemyTypeBoxBlue=1170]="EnemyTypeBoxBlue",e[e.EmptyTypeBoxBlue=1171]="EmptyTypeBoxBlue",e[e.DestructableRock=1172]="DestructableRock",e[e.PopupTrapsTechs=1173]="PopupTrapsTechs",e[e.FlyingWhiteBird=1174]="FlyingWhiteBird",e[e.Tower=1175]="Tower",e[e.FloatingRocks=1176]="FloatingRocks",e[e.FloatingSoul=1177]="FloatingSoul",e[e.Butterfly=1178]="Butterfly",e[e.LobbyGameMenu=1179]="LobbyGameMenu",e[e.LobbyWarpObject=1180]="LobbyWarpObject",e[e.Lobby1EventObjectDefaultTree=1181]="Lobby1EventObjectDefaultTree",e[e.UnknownItem387=1182]="UnknownItem387",e[e.UnknownItem388=1183]="UnknownItem388",e[e.UnknownItem389=1184]="UnknownItem389",e[e.LobbyEventObjectStaticPumpkin=1185]="LobbyEventObjectStaticPumpkin",e[e.LobbyEventObject3ChristmasWindows=1186]="LobbyEventObject3ChristmasWindows",e[e.LobbyEventObjectRedAndWhiteCurtain=1187]="LobbyEventObjectRedAndWhiteCurtain",e[e.UnknownItem393=1188]="UnknownItem393",e[e.UnknownItem394=1189]="UnknownItem394",e[e.LobbyFishTank=1190]="LobbyFishTank",e[e.LobbyEventObjectButterflies=1191]="LobbyEventObjectButterflies",e[e.UnknownItem400=1192]="UnknownItem400",e[e.GreyWallLow=1193]="GreyWallLow",e[e.SpaceshipDoor=1194]="SpaceshipDoor",e[e.GreyWallHigh=1195]="GreyWallHigh",e[e.TempleNormalDoor=1196]="TempleNormalDoor",e[e.BreakableWallWallButUnbreakable=1197]="BreakableWallWallButUnbreakable",e[e.BrokenCilinderAndRubble=1198]="BrokenCilinderAndRubble",e[e.ThreeBrokenWallPiecesOnFloor=1199]="ThreeBrokenWallPiecesOnFloor",e[e.HighBrickCilinder=1200]="HighBrickCilinder",e[e.LyingCilinder=1201]="LyingCilinder",e[e.BrickConeWithFlatTop=1202]="BrickConeWithFlatTop",e[e.BreakableTempleWall=1203]="BreakableTempleWall",e[e.TempleMapDetect=1204]="TempleMapDetect",e[e.SmallBrownBrickRisingBridge=1205]="SmallBrownBrickRisingBridge",e[e.LongRisingBridgeWithPinkHighEdges=1206]="LongRisingBridgeWithPinkHighEdges",e[e.FourSwitchTempleDoor=1207]="FourSwitchTempleDoor",e[e.FourButtonSpaceshipDoor=1208]="FourButtonSpaceshipDoor",e[e.ItemBoxCca=1209]="ItemBoxCca",e[e.TeleporterEp2=1210]="TeleporterEp2",e[e.CCADoor=1211]="CCADoor",e[e.SpecialBoxCCA=1212]="SpecialBoxCCA",e[e.BigCCADoor=1213]="BigCCADoor",e[e.BigCCADoorSwitch=1214]="BigCCADoorSwitch",e[e.LittleRock=1215]="LittleRock",e[e.Little3StoneWall=1216]="Little3StoneWall",e[e.Medium3StoneWall=1217]="Medium3StoneWall",e[e.SpiderPlant=1218]="SpiderPlant",e[e.CCAAreaTeleporter=1219]="CCAAreaTeleporter",e[e.UnknownItem523=1220]="UnknownItem523",e[e.WhiteBird=1221]="WhiteBird",e[e.OrangeBird=1222]="OrangeBird",e[e.Saw=1223]="Saw",e[e.LaserDetect=1224]="LaserDetect",e[e.UnknownItem529=1225]="UnknownItem529",e[e.UnknownItem530=1226]="UnknownItem530",e[e.Seagull=1227]="Seagull",e[e.Fish=1228]="Fish",e[e.SeabedDoorWithBlueEdges=1229]="SeabedDoorWithBlueEdges",e[e.SeabedDoorAlwaysOpenNonTriggerable=1230]="SeabedDoorAlwaysOpenNonTriggerable",e[e.LittleCryotube=1231]="LittleCryotube",e[e.WideGlassWallBreakable=1232]="WideGlassWallBreakable",e[e.BlueFloatingRobot=1233]="BlueFloatingRobot",e[e.RedFloatingRobot=1234]="RedFloatingRobot",e[e.Dolphin=1235]="Dolphin",e[e.CaptureTrap=1236]="CaptureTrap",e[e.VRLink=1237]="VRLink",e[e.UnknownItem576=1238]="UnknownItem576",e[e.WarpInBarbaRayRoom=1239]="WarpInBarbaRayRoom",e[e.UnknownItem672=1240]="UnknownItem672",e[e.GeeNest=1241]="GeeNest",e[e.LabComputerConsole=1242]="LabComputerConsole",e[e.LabComputerConsoleGreenScreen=1243]="LabComputerConsoleGreenScreen",e[e.ChairYelllowPillow=1244]="ChairYelllowPillow",e[e.OrangeWallWithHoleInMiddle=1245]="OrangeWallWithHoleInMiddle",e[e.GreyWallWithHoleInMiddle=1246]="GreyWallWithHoleInMiddle",e[e.LongTable=1247]="LongTable",e[e.GBAStation=1248]="GBAStation",e[e.TalkLinkToSupport=1249]="TalkLinkToSupport",e[e.InstaWarp=1250]="InstaWarp",e[e.LabInvisibleObject=1251]="LabInvisibleObject",e[e.LabGlassWindowDoor=1252]="LabGlassWindowDoor",e[e.UnknownItem700=1253]="UnknownItem700",e[e.LabCelingWarp=1254]="LabCelingWarp",e[e.Ep4LightSource=1255]="Ep4LightSource",e[e.Cacti=1256]="Cacti",e[e.BigBrownRock=1257]="BigBrownRock",e[e.BreakableBrownRock=1258]="BreakableBrownRock",e[e.UnknownItem832=1259]="UnknownItem832",e[e.UnknownItem833=1260]="UnknownItem833",e[e.PoisonPlant=1261]="PoisonPlant",e[e.UnknownItem897=1262]="UnknownItem897",e[e.UnknownItem898=1263]="UnknownItem898",e[e.OozingDesertPlant=1264]="OozingDesertPlant",e[e.UnknownItem901=1265]="UnknownItem901",e[e.BigBlackRocks=1266]="BigBlackRocks",e[e.UnknownItem903=1267]="UnknownItem903",e[e.UnknownItem904=1268]="UnknownItem904",e[e.UnknownItem905=1269]="UnknownItem905",e[e.UnknownItem906=1270]="UnknownItem906",e[e.FallingRock=1271]="FallingRock",e[e.DesertPlantHasCollision=1272]="DesertPlantHasCollision",e[e.DesertFixedTypeBoxBreakableCrystals=1273]="DesertFixedTypeBoxBreakableCrystals",e[e.UnknownItem910=1274]="UnknownItem910",e[e.BeeHive=1275]="BeeHive",e[e.UnknownItem912=1276]="UnknownItem912",e[e.Heat=1277]="Heat",e[e.TopOfSaintMillionEgg=1278]="TopOfSaintMillionEgg",e[e.UnknownItem961=1279]="UnknownItem961"}(n=t.ObjectType||(t.ObjectType={})),t.OBJECT_TYPES=[],t.object_data=function(e){return o[e]},t.pso_id_to_object_type=function(e){switch(e){default:return n.Unknown;case 0:return n.PlayerSet;case 1:return n.Particle;case 2:return n.Teleporter;case 3:return n.Warp;case 4:return n.LightCollision;case 5:return n.Item;case 6:return n.EnvSound;case 7:return n.FogCollision;case 8:return n.EventCollision;case 9:return n.CharaCollision;case 10:return n.ElementalTrap;case 11:return n.StatusTrap;case 12:return n.HealTrap;case 13:return n.LargeElementalTrap;case 14:return n.ObjRoomID;case 15:return n.Sensor;case 16:return n.UnknownItem16;case 17:return n.Lensflare;case 18:return n.ScriptCollision;case 19:return n.HealRing;case 20:return n.MapCollision;case 21:return n.ScriptCollisionA;case 22:return n.ItemLight;case 23:return n.RadarCollision;case 24:return n.FogCollisionSW;case 25:return n.BossTeleporter;case 26:return n.ImageBoard;case 27:return n.QuestWarp;case 28:return n.Epilogue;case 29:return n.UnknownItem29;case 30:return n.UnknownItem30;case 31:return n.UnknownItem31;case 32:return n.BoxDetectObject;case 33:return n.SymbolChatObject;case 34:return n.TouchPlateObject;case 35:return n.TargetableObject;case 36:return n.EffectObject;case 37:return n.CountDownObject;case 38:return n.UnknownItem38;case 39:return n.UnknownItem39;case 40:return n.UnknownItem40;case 41:return n.UnknownItem41;case 64:return n.MenuActivation;case 65:return n.TelepipeLocation;case 66:return n.BGMCollision;case 67:return n.MainRagolTeleporter;case 68:return n.LobbyTeleporter;case 69:return n.PrincipalWarp;case 70:return n.ShopDoor;case 71:return n.HuntersGuildDoor;case 72:return n.TeleporterDoor;case 73:return n.MedicalCenterDoor;case 74:return n.Elevator;case 75:return n.EasterEgg;case 76:return n.ValentinesHeart;case 77:return n.ChristmasTree;case 78:return n.ChristmasWreath;case 79:return n.HalloweenPumpkin;case 80:return n.TwentyFirstCentury;case 81:return n.Sonic;case 82:return n.WelcomeBoard;case 83:return n.Firework;case 84:return n.LobbyScreenDoor;case 85:return n.MainRagolTeleporterBattleInNextArea;case 86:return n.LabTeleporterDoor;case 87:return n.Pioneer2InvisibleTouchplate;case 128:return n.ForestDoor;case 129:return n.ForestSwitch;case 130:return n.LaserFence;case 131:return n.LaserSquareFence;case 132:return n.ForestLaserFenceSwitch;case 133:return n.LightRays;case 134:return n.BlueButterfly;case 135:return n.Probe;case 136:return n.RandomTypeBox1;case 137:return n.ForestWeatherStation;case 138:return n.Battery;case 139:return n.ForestConsole;case 140:return n.BlackSlidingDoor;case 141:return n.RicoMessagePod;case 142:return n.EnergyBarrier;case 143:return n.ForestRisingBridge;case 144:return n.SwitchNoneDoor;case 145:return n.EnemyBoxGrey;case 146:return n.FixedTypeBox;case 147:return n.EnemyBoxBrown;case 149:return n.EmptyTypeBox;case 150:return n.LaserFenseEx;case 151:return n.LaserSquareFenceEx;case 192:return n.FloorPanel1;case 193:return n.Caves4ButtonDoor;case 194:return n.CavesNormalDoor;case 195:return n.CavesSmashingPillar;case 196:return n.CavesSign1;case 197:return n.CavesSign2;case 198:return n.CavesSign3;case 199:return n.HexagalTank;case 200:return n.BrownPlatform;case 201:return n.WarningLightObject;case 203:return n.Rainbow;case 204:return n.FloatingJelifish;case 205:return n.FloatingDragonfly;case 206:return n.CavesSwitchDoor;case 207:return n.RobotRechargeStation;case 208:return n.CavesCakeShop;case 209:return n.Caves1SmallRedRock;case 210:return n.Caves1MediumRedRock;case 211:return n.Caves1LargeRedRock;case 212:return n.Caves2SmallRock1;case 213:return n.Caves2MediumRock1;case 214:return n.Caves2LargeRock1;case 215:return n.Caves2SmallRock2;case 216:return n.Caves2MediumRock2;case 217:return n.Caves2LargeRock2;case 218:return n.Caves3SmallRock;case 219:return n.Caves3MediumRock;case 220:return n.Caves3LargeRock;case 222:return n.FloorPanel2;case 223:return n.DestructableRockCaves1;case 224:return n.DestructableRockCaves2;case 225:return n.DestructableRockCaves3;case 256:return n.MinesDoor;case 257:return n.FloorPanel3;case 258:return n.MinesSwitchDoor;case 259:return n.LargeCryoTube;case 260:return n.ComputerLikeCalus;case 261:return n.GreenScreenOpeningAndClosing;case 262:return n.FloatingRobot;case 263:return n.FloatingBlueLight;case 264:return n.SelfDestructingObject1;case 265:return n.SelfDestructingObject2;case 266:return n.SelfDestructingObject3;case 267:return n.SparkMachine;case 268:return n.MinesLargeFlashingCrate;case 304:return n.RuinsSeal;case 320:return n.RuinsTeleporter;case 321:return n.RuinsWarpSiteToSite;case 322:return n.RuinsSwitch;case 323:return n.FloorPanel4;case 324:return n.Ruins1Door;case 325:return n.Ruins3Door;case 326:return n.Ruins2Door;case 327:return n.Ruins11ButtonDoor;case 328:return n.Ruins21ButtonDoor;case 329:return n.Ruins31ButtonDoor;case 330:return n.Ruins4ButtonDoor;case 331:return n.Ruins2ButtonDoor;case 332:return n.RuinsSensor;case 333:return n.RuinsFenceSwitch;case 334:return n.RuinsLaserFence4x2;case 335:return n.RuinsLaserFence6x2;case 336:return n.RuinsLaserFence4x4;case 337:return n.RuinsLaserFence6x4;case 338:return n.RuinsPoisonBlob;case 339:return n.RuinsPilarTrap;case 340:return n.PopupTrapNoTech;case 341:return n.RuinsCrystal;case 342:return n.Monument;case 345:return n.RuinsRock1;case 346:return n.RuinsRock2;case 347:return n.RuinsRock3;case 348:return n.RuinsRock4;case 349:return n.RuinsRock5;case 350:return n.RuinsRock6;case 351:return n.RuinsRock7;case 352:return n.Poison;case 353:return n.FixedBoxTypeRuins;case 354:return n.RandomBoxTypeRuins;case 355:return n.EnemyTypeBoxYellow;case 356:return n.EnemyTypeBoxBlue;case 357:return n.EmptyTypeBoxBlue;case 358:return n.DestructableRock;case 359:return n.PopupTrapsTechs;case 368:return n.FlyingWhiteBird;case 369:return n.Tower;case 370:return n.FloatingRocks;case 371:return n.FloatingSoul;case 372:return n.Butterfly;case 384:return n.LobbyGameMenu;case 385:return n.LobbyWarpObject;case 386:return n.Lobby1EventObjectDefaultTree;case 387:return n.UnknownItem387;case 388:return n.UnknownItem388;case 389:return n.UnknownItem389;case 390:return n.LobbyEventObjectStaticPumpkin;case 391:return n.LobbyEventObject3ChristmasWindows;case 392:return n.LobbyEventObjectRedAndWhiteCurtain;case 393:return n.UnknownItem393;case 394:return n.UnknownItem394;case 395:return n.LobbyFishTank;case 396:return n.LobbyEventObjectButterflies;case 400:return n.UnknownItem400;case 401:return n.GreyWallLow;case 402:return n.SpaceshipDoor;case 403:return n.GreyWallHigh;case 416:return n.TempleNormalDoor;case 417:return n.BreakableWallWallButUnbreakable;case 418:return n.BrokenCilinderAndRubble;case 419:return n.ThreeBrokenWallPiecesOnFloor;case 420:return n.HighBrickCilinder;case 421:return n.LyingCilinder;case 422:return n.BrickConeWithFlatTop;case 423:return n.BreakableTempleWall;case 424:return n.TempleMapDetect;case 425:return n.SmallBrownBrickRisingBridge;case 426:return n.LongRisingBridgeWithPinkHighEdges;case 427:return n.FourSwitchTempleDoor;case 448:return n.FourButtonSpaceshipDoor;case 512:return n.ItemBoxCca;case 513:return n.TeleporterEp2;case 514:return n.CCADoor;case 515:return n.SpecialBoxCCA;case 516:return n.BigCCADoor;case 517:return n.BigCCADoorSwitch;case 518:return n.LittleRock;case 519:return n.Little3StoneWall;case 520:return n.Medium3StoneWall;case 521:return n.SpiderPlant;case 522:return n.CCAAreaTeleporter;case 523:return n.UnknownItem523;case 524:return n.WhiteBird;case 525:return n.OrangeBird;case 527:return n.Saw;case 528:return n.LaserDetect;case 529:return n.UnknownItem529;case 530:return n.UnknownItem530;case 531:return n.Seagull;case 544:return n.Fish;case 545:return n.SeabedDoorWithBlueEdges;case 546:return n.SeabedDoorAlwaysOpenNonTriggerable;case 547:return n.LittleCryotube;case 548:return n.WideGlassWallBreakable;case 549:return n.BlueFloatingRobot;case 550:return n.RedFloatingRobot;case 551:return n.Dolphin;case 552:return n.CaptureTrap;case 553:return n.VRLink;case 576:return n.UnknownItem576;case 640:return n.WarpInBarbaRayRoom;case 672:return n.UnknownItem672;case 688:return n.GeeNest;case 689:return n.LabComputerConsole;case 690:return n.LabComputerConsoleGreenScreen;case 691:return n.ChairYelllowPillow;case 692:return n.OrangeWallWithHoleInMiddle;case 693:return n.GreyWallWithHoleInMiddle;case 694:return n.LongTable;case 695:return n.GBAStation;case 696:return n.TalkLinkToSupport;case 697:return n.InstaWarp;case 698:return n.LabInvisibleObject;case 699:return n.LabGlassWindowDoor;case 700:return n.UnknownItem700;case 701:return n.LabCelingWarp;case 768:return n.Ep4LightSource;case 769:return n.Cacti;case 770:return n.BigBrownRock;case 771:return n.BreakableBrownRock;case 832:return n.UnknownItem832;case 833:return n.UnknownItem833;case 896:return n.PoisonPlant;case 897:return n.UnknownItem897;case 898:return n.UnknownItem898;case 899:return n.OozingDesertPlant;case 901:return n.UnknownItem901;case 902:return n.BigBlackRocks;case 903:return n.UnknownItem903;case 904:return n.UnknownItem904;case 905:return n.UnknownItem905;case 906:return n.UnknownItem906;case 907:return n.FallingRock;case 908:return n.DesertPlantHasCollision;case 909:return n.DesertFixedTypeBoxBreakableCrystals;case 910:return n.UnknownItem910;case 911:return n.BeeHive;case 912:return n.UnknownItem912;case 913:return n.Heat;case 960:return n.TopOfSaintMillionEgg;case 961:return n.UnknownItem961}};const o=[];function s(e,i,n){t.OBJECT_TYPES.push(e),o[e]={name:n,pso_id:i}}s(n.Unknown,void 0,"Unknown"),s(n.PlayerSet,0,"Player Set"),s(n.Particle,1,"Particle"),s(n.Teleporter,2,"Teleporter"),s(n.Warp,3,"Warp"),s(n.LightCollision,4,"Light Collision"),s(n.Item,5,"Item"),s(n.EnvSound,6,"Env Sound"),s(n.FogCollision,7,"Fog Collision"),s(n.EventCollision,8,"Event Collision"),s(n.CharaCollision,9,"Chara Collision"),s(n.ElementalTrap,10,"Elemental Trap"),s(n.StatusTrap,11,"Status Trap"),s(n.HealTrap,12,"Heal Trap"),s(n.LargeElementalTrap,13,"Large Elemental Trap"),s(n.ObjRoomID,14,"Obj Room ID"),s(n.Sensor,15,"Sensor"),s(n.UnknownItem16,16,"Unknown Item (16)"),s(n.Lensflare,17,"Lensflare"),s(n.ScriptCollision,18,"Script Collision"),s(n.HealRing,19,"Heal Ring"),s(n.MapCollision,20,"Map Collision"),s(n.ScriptCollisionA,21,"Script Collision A"),s(n.ItemLight,22,"Item Light"),s(n.RadarCollision,23,"Radar Collision"),s(n.FogCollisionSW,24,"Fog Collision SW"),s(n.BossTeleporter,25,"Boss Teleporter"),s(n.ImageBoard,26,"Image Board"),s(n.QuestWarp,27,"Quest Warp"),s(n.Epilogue,28,"Epilogue"),s(n.UnknownItem29,29,"Unknown Item (29)"),s(n.UnknownItem30,30,"Unknown Item (30)"),s(n.UnknownItem31,31,"Unknown Item (31)"),s(n.BoxDetectObject,32,"Box Detect Object"),s(n.SymbolChatObject,33,"Symbol Chat Object"),s(n.TouchPlateObject,34,"Touch plate Object"),s(n.TargetableObject,35,"Targetable Object"),s(n.EffectObject,36,"Effect object"),s(n.CountDownObject,37,"Count Down Object"),s(n.UnknownItem38,38,"Unknown Item (38)"),s(n.UnknownItem39,39,"Unknown Item (39)"),s(n.UnknownItem40,40,"Unknown Item (40)"),s(n.UnknownItem41,41,"Unknown Item (41)"),s(n.MenuActivation,64,"Menu activation"),s(n.TelepipeLocation,65,"Telepipe Location"),s(n.BGMCollision,66,"BGM Collision"),s(n.MainRagolTeleporter,67,"Main Ragol Teleporter"),s(n.LobbyTeleporter,68,"Lobby Teleporter"),s(n.PrincipalWarp,69,"Principal warp"),s(n.ShopDoor,70,"Shop Door"),s(n.HuntersGuildDoor,71,"Hunter's Guild Door"),s(n.TeleporterDoor,72,"Teleporter Door"),s(n.MedicalCenterDoor,73,"Medical Center Door"),s(n.Elevator,74,"Elevator"),s(n.EasterEgg,75,"Easter Egg"),s(n.ValentinesHeart,76,"Valentines Heart"),s(n.ChristmasTree,77,"Christmas Tree"),s(n.ChristmasWreath,78,"Christmas Wreath"),s(n.HalloweenPumpkin,79,"Halloween Pumpkin"),s(n.TwentyFirstCentury,80,"21st Century"),s(n.Sonic,81,"Sonic"),s(n.WelcomeBoard,82,"Welcome Board"),s(n.Firework,83,"Firework"),s(n.LobbyScreenDoor,84,"Lobby Screen Door"),s(n.MainRagolTeleporterBattleInNextArea,85,"Main Ragol Teleporter (Battle in next area?)"),s(n.LabTeleporterDoor,86,"Lab Teleporter Door"),s(n.Pioneer2InvisibleTouchplate,87,"Pioneer 2 Invisible Touchplate"),s(n.ForestDoor,128,"Forest Door"),s(n.ForestSwitch,129,"Forest Switch"),s(n.LaserFence,130,"Laser Fence"),s(n.LaserSquareFence,131,"Laser Square Fence"),s(n.ForestLaserFenceSwitch,132,"Forest Laser Fence Switch"),s(n.LightRays,133,"Light rays"),s(n.BlueButterfly,134,"Blue Butterfly"),s(n.Probe,135,"Probe"),s(n.RandomTypeBox1,136,"Random Type Box 1"),s(n.ForestWeatherStation,137,"Forest Weather Station"),s(n.Battery,138,"Battery"),s(n.ForestConsole,139,"Forest Console"),s(n.BlackSlidingDoor,140,"Black Sliding Door"),s(n.RicoMessagePod,141,"Rico Message Pod"),s(n.EnergyBarrier,142,"Energy Barrier"),s(n.ForestRisingBridge,143,"Forest Rising Bridge"),s(n.SwitchNoneDoor,144,"Switch (none door)"),s(n.EnemyBoxGrey,145,"Enemy Box (Grey)"),s(n.FixedTypeBox,146,"Fixed Type Box"),s(n.EnemyBoxBrown,147,"Enemy Box (Brown)"),s(n.EmptyTypeBox,149,"Empty Type Box"),s(n.LaserFenseEx,150,"Laser Fense Ex"),s(n.LaserSquareFenceEx,151,"Laser Square Fence Ex"),s(n.FloorPanel1,192,"Floor Panel 1"),s(n.Caves4ButtonDoor,193,"Caves 4 Button door"),s(n.CavesNormalDoor,194,"Caves Normal door"),s(n.CavesSmashingPillar,195,"Caves Smashing Pillar"),s(n.CavesSign1,196,"Caves Sign 1"),s(n.CavesSign2,197,"Caves Sign 2"),s(n.CavesSign3,198,"Caves Sign 3"),s(n.HexagalTank,199,"Hexagal Tank"),s(n.BrownPlatform,200,"Brown Platform"),s(n.WarningLightObject,201,"Warning Light Object"),s(n.Rainbow,203,"Rainbow"),s(n.FloatingJelifish,204,"Floating Jelifish"),s(n.FloatingDragonfly,205,"Floating Dragonfly"),s(n.CavesSwitchDoor,206,"Caves Switch Door"),s(n.RobotRechargeStation,207,"Robot Recharge Station"),s(n.CavesCakeShop,208,"Caves Cake Shop"),s(n.Caves1SmallRedRock,209,"Caves 1 Small Red Rock"),s(n.Caves1MediumRedRock,210,"Caves 1 Medium Red Rock"),s(n.Caves1LargeRedRock,211,"Caves 1 Large Red Rock"),s(n.Caves2SmallRock1,212,"Caves 2 Small Rock 1"),s(n.Caves2MediumRock1,213,"Caves 2 Medium Rock 1"),s(n.Caves2LargeRock1,214,"Caves 2 Large Rock 1"),s(n.Caves2SmallRock2,215,"Caves 2 Small Rock 2"),s(n.Caves2MediumRock2,216,"Caves 2 Medium Rock 2"),s(n.Caves2LargeRock2,217,"Caves 2 Large Rock 2"),s(n.Caves3SmallRock,218,"Caves 3 Small Rock"),s(n.Caves3MediumRock,219,"Caves 3 Medium Rock"),s(n.Caves3LargeRock,220,"Caves 3 Large Rock"),s(n.FloorPanel2,222,"Floor Panel 2"),s(n.DestructableRockCaves1,223,"Destructable Rock (Caves 1)"),s(n.DestructableRockCaves2,224,"Destructable Rock (Caves 2)"),s(n.DestructableRockCaves3,225,"Destructable Rock (Caves 3)"),s(n.MinesDoor,256,"Mines Door"),s(n.FloorPanel3,257,"Floor Panel 3"),s(n.MinesSwitchDoor,258,"Mines Switch Door"),s(n.LargeCryoTube,259,"Large Cryo-Tube"),s(n.ComputerLikeCalus,260,"Computer (like calus)"),s(n.GreenScreenOpeningAndClosing,261,"Green Screen opening and closing"),s(n.FloatingRobot,262,"Floating Robot"),s(n.FloatingBlueLight,263,"Floating Blue Light"),s(n.SelfDestructingObject1,264,"Self Destructing Object 1"),s(n.SelfDestructingObject2,265,"Self Destructing Object 2"),s(n.SelfDestructingObject3,266,"Self Destructing Object 3"),s(n.SparkMachine,267,"Spark Machine"),s(n.MinesLargeFlashingCrate,268,"Mines Large Flashing Crate"),s(n.RuinsSeal,304,"Ruins Seal"),s(n.RuinsTeleporter,320,"Ruins Teleporter"),s(n.RuinsWarpSiteToSite,321,"Ruins Warp (Site to site)"),s(n.RuinsSwitch,322,"Ruins Switch"),s(n.FloorPanel4,323,"Floor Panel 4"),s(n.Ruins1Door,324,"Ruins 1 Door"),s(n.Ruins3Door,325,"Ruins 3 Door"),s(n.Ruins2Door,326,"Ruins 2 Door"),s(n.Ruins11ButtonDoor,327,"Ruins 1-1 Button Door"),s(n.Ruins21ButtonDoor,328,"Ruins 2-1 Button Door"),s(n.Ruins31ButtonDoor,329,"Ruins 3-1 Button Door"),s(n.Ruins4ButtonDoor,330,"Ruins 4-Button Door"),s(n.Ruins2ButtonDoor,331,"Ruins 2-Button Door"),s(n.RuinsSensor,332,"Ruins Sensor"),s(n.RuinsFenceSwitch,333,"Ruins Fence Switch"),s(n.RuinsLaserFence4x2,334,"Ruins Laser Fence 4x2"),s(n.RuinsLaserFence6x2,335,"Ruins Laser Fence 6x2"),s(n.RuinsLaserFence4x4,336,"Ruins Laser Fence 4x4"),s(n.RuinsLaserFence6x4,337,"Ruins Laser Fence 6x4"),s(n.RuinsPoisonBlob,338,"Ruins poison Blob"),s(n.RuinsPilarTrap,339,"Ruins Pilar Trap"),s(n.PopupTrapNoTech,340,"Popup Trap (No Tech)"),s(n.RuinsCrystal,341,"Ruins Crystal"),s(n.Monument,342,"Monument"),s(n.RuinsRock1,345,"Ruins Rock 1"),s(n.RuinsRock2,346,"Ruins Rock 2"),s(n.RuinsRock3,347,"Ruins Rock 3"),s(n.RuinsRock4,348,"Ruins Rock 4"),s(n.RuinsRock5,349,"Ruins Rock 5"),s(n.RuinsRock6,350,"Ruins Rock 6"),s(n.RuinsRock7,351,"Ruins Rock 7"),s(n.Poison,352,"Poison"),s(n.FixedBoxTypeRuins,353,"Fixed Box Type (Ruins)"),s(n.RandomBoxTypeRuins,354,"Random Box Type (Ruins)"),s(n.EnemyTypeBoxYellow,355,"Enemy Type Box (Yellow)"),s(n.EnemyTypeBoxBlue,356,"Enemy Type Box (Blue)"),s(n.EmptyTypeBoxBlue,357,"Empty Type Box (Blue)"),s(n.DestructableRock,358,"Destructable Rock"),s(n.PopupTrapsTechs,359,"Popup Traps (techs)"),s(n.FlyingWhiteBird,368,"Flying White Bird"),s(n.Tower,369,"Tower"),s(n.FloatingRocks,370,"Floating Rocks"),s(n.FloatingSoul,371,"Floating Soul"),s(n.Butterfly,372,"Butterfly"),s(n.LobbyGameMenu,384,"Lobby Game menu"),s(n.LobbyWarpObject,385,"Lobby Warp Object"),s(n.Lobby1EventObjectDefaultTree,386,"Lobby 1 Event Object (Default Tree)"),s(n.UnknownItem387,387,"Unknown Item (387)"),s(n.UnknownItem388,388,"Unknown Item (388)"),s(n.UnknownItem389,389,"Unknown Item (389)"),s(n.LobbyEventObjectStaticPumpkin,390,"Lobby Event Object (Static Pumpkin)"),s(n.LobbyEventObject3ChristmasWindows,391,"Lobby Event Object (3 Christmas Windows)"),s(n.LobbyEventObjectRedAndWhiteCurtain,392,"Lobby Event Object (Red and White Curtain)"),s(n.UnknownItem393,393,"Unknown Item (393)"),s(n.UnknownItem394,394,"Unknown Item (394)"),s(n.LobbyFishTank,395,"Lobby Fish Tank"),s(n.LobbyEventObjectButterflies,396,"Lobby Event Object (Butterflies)"),s(n.UnknownItem400,400,"Unknown Item (400)"),s(n.GreyWallLow,401,"grey wall low"),s(n.SpaceshipDoor,402,"Spaceship Door"),s(n.GreyWallHigh,403,"grey wall high"),s(n.TempleNormalDoor,416,"Temple Normal Door"),s(n.BreakableWallWallButUnbreakable,417,'"breakable wall wall, but unbreakable"'),s(n.BrokenCilinderAndRubble,418,"Broken cilinder and rubble"),s(n.ThreeBrokenWallPiecesOnFloor,419,"3 broken wall pieces on floor"),s(n.HighBrickCilinder,420,"high brick cilinder"),s(n.LyingCilinder,421,"lying cilinder"),s(n.BrickConeWithFlatTop,422,"brick cone with flat top"),s(n.BreakableTempleWall,423,"breakable temple wall"),s(n.TempleMapDetect,424,"Temple Map Detect"),s(n.SmallBrownBrickRisingBridge,425,"small brown brick rising bridge"),s(n.LongRisingBridgeWithPinkHighEdges,426,"long rising bridge (with pink high edges)"),s(n.FourSwitchTempleDoor,427,"4 switch temple door"),s(n.FourButtonSpaceshipDoor,448,"4 button spaceship door"),s(n.ItemBoxCca,512,"item box cca"),s(n.TeleporterEp2,513,"Teleporter (Ep 2)"),s(n.CCADoor,514,"CCA Door"),s(n.SpecialBoxCCA,515,"Special Box CCA"),s(n.BigCCADoor,516,"Big CCA Door"),s(n.BigCCADoorSwitch,517,"Big CCA Door Switch"),s(n.LittleRock,518,"Little Rock"),s(n.Little3StoneWall,519,"Little 3 Stone Wall"),s(n.Medium3StoneWall,520,"Medium 3 stone wall"),s(n.SpiderPlant,521,"Spider Plant"),s(n.CCAAreaTeleporter,522,"CCA Area Teleporter"),s(n.UnknownItem523,523,"Unknown Item (523)"),s(n.WhiteBird,524,"White Bird"),s(n.OrangeBird,525,"Orange Bird"),s(n.Saw,527,"Saw"),s(n.LaserDetect,528,"Laser Detect"),s(n.UnknownItem529,529,"Unknown Item (529)"),s(n.UnknownItem530,530,"Unknown Item (530)"),s(n.Seagull,531,"Seagull"),s(n.Fish,544,"Fish"),s(n.SeabedDoorWithBlueEdges,545,"Seabed Door (with blue edges)"),s(n.SeabedDoorAlwaysOpenNonTriggerable,546,"Seabed door (always open, non-triggerable)"),s(n.LittleCryotube,547,"Little Cryotube"),s(n.WideGlassWallBreakable,548,"Wide Glass Wall (breakable)"),s(n.BlueFloatingRobot,549,"Blue floating robot"),s(n.RedFloatingRobot,550,"Red floating robot"),s(n.Dolphin,551,"Dolphin"),s(n.CaptureTrap,552,"Capture Trap"),s(n.VRLink,553,"VR link"),s(n.UnknownItem576,576,"Unknown Item (576)"),s(n.WarpInBarbaRayRoom,640,"Warp in Barba Ray Room"),s(n.UnknownItem672,672,"Unknown Item (672)"),s(n.GeeNest,688,"Gee Nest"),s(n.LabComputerConsole,689,"Lab Computer Console"),s(n.LabComputerConsoleGreenScreen,690,"Lab Computer Console (Green Screen)"),s(n.ChairYelllowPillow,691,"Chair, Yelllow Pillow"),s(n.OrangeWallWithHoleInMiddle,692,"orange wall with hole in middle"),s(n.GreyWallWithHoleInMiddle,693,"grey wall with hole in middle"),s(n.LongTable,694,"long table"),s(n.GBAStation,695,"GBA Station"),s(n.TalkLinkToSupport,696,"Talk (link to support)"),s(n.InstaWarp,697,"insta-warp"),s(n.LabInvisibleObject,698,"Lab Invisible Object"),s(n.LabGlassWindowDoor,699,"Lab Glass window Door"),s(n.UnknownItem700,700,"Unknown Item (700)"),s(n.LabCelingWarp,701,"Lab Celing Warp"),s(n.Ep4LightSource,768,"Ep4 Light Source"),s(n.Cacti,769,"cacti"),s(n.BigBrownRock,770,"Big Brown Rock"),s(n.BreakableBrownRock,771,"Breakable Brown Rock"),s(n.UnknownItem832,832,"Unknown Item (832)"),s(n.UnknownItem833,833,"Unknown Item (833)"),s(n.PoisonPlant,896,"Poison Plant"),s(n.UnknownItem897,897,"Unknown Item (897)"),s(n.UnknownItem898,898,"Unknown Item (898)"),s(n.OozingDesertPlant,899,"Oozing Desert Plant"),s(n.UnknownItem901,901,"Unknown Item (901)"),s(n.BigBlackRocks,902,"big black rocks"),s(n.UnknownItem903,903,"Unknown Item (903)"),s(n.UnknownItem904,904,"Unknown Item (904)"),s(n.UnknownItem905,905,"Unknown Item (905)"),s(n.UnknownItem906,906,"Unknown Item (906)"),s(n.FallingRock,907,"Falling Rock"),s(n.DesertPlantHasCollision,908,"Desert Plant (has collision)"),s(n.DesertFixedTypeBoxBreakableCrystals,909,"Desert Fixed Type Box (Breakable Crystals)"),s(n.UnknownItem910,910,"Unknown Item (910)"),s(n.BeeHive,911,"Bee Hive"),s(n.UnknownItem912,912,"Unknown Item (912)"),s(n.Heat,913,"Heat"),s(n.TopOfSaintMillionEgg,960,"Top of saint million egg"),s(n.UnknownItem961,961,"Unknown Item (961)")},"/7QA":function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i("1Qg8");i("8UJ8");const s=i("LvDl"),r=n(i("GGSb"));i("XtFL"),i("tjRy"),i("3oCa"),i("OP0w"),r.default.useDefaults({defaultLevel:r.default.WARN}),document.addEventListener("keydown",e=>{const t=e;t.ctrlKey&&!t.altKey&&"Z"===t.key.toUpperCase()&&t.preventDefault()}),document.addEventListener("beforeinput",e=>{const t=e;"historyUndo"!==t.inputType&&"historyRedo"!==t.inputType||e.preventDefault()}),function(){const e=new o.ApplicationView,t=s.throttle(()=>{e.resize(window.innerWidth,window.innerHeight)},100,{leading:!0,trailing:!0});t(),document.body.append(e.element),window.addEventListener("resize",t)}()},"/Wax":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("9dYx");class o extends n.AbstractWritableCursor{get size(){return this._size}set size(e){e>this._size?this.ensure_size(e-this._size):this._size=e}get backing_buffer(){return this.buffer.backing_buffer}get dv(){return this.buffer.view}constructor(e,t,i=0,n=e.size-i){if(i<0||i>e.size)throw new Error(`Offset ${i} is out of bounds.`);if(n<0||i+n>e.size)throw new Error(`Size ${n} is out of bounds.`);super(t,i),this.buffer=e,this._size=n}take(e){this.check_size("size",e,e);const t=this.offset+this.position,i=new o(this.buffer,this.endianness,t,e);return this._position+=e,i}ensure_size(e){const t=this.position+e-this._size;t>0&&(this._size+=t,this.buffer.size<this.offset+this._size&&(this.buffer.size=this.offset+this._size))}}t.ResizableBufferCursor=o},"0CzU":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("hUhj"),o=i("jJhE");t.SimpleProperty=class extends n.AbstractProperty{constructor(e){super(),this._val=e}get val(){return this.get_val()}set val(e){this.set_val(e)}get_val(){return this._val}set_val(e,t={}){if(e!==this._val){const i=this._val;this._val=e,t.silent||this.emit(i)}}update(e){this.val=e(this.val)}bind_to(e){return o.is_property(e)&&(this.val=e.val),e.observe(e=>this.val=e.value)}bind_bi(e){const t=this.bind_to(e),i=e.bind_to(this);return{dispose(){t.dispose(),i.dispose()}}}}},"0Xme":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("sDu+"),o=i("FXpb"),s=i("jJhE");i("x1yY");const r=i("4VsB");t.Input=class extends n.LabelledControl{constructor(e,t,i,n,s){super(o.el.span({class:`${t} core_Input`}),s),this._value=new r.WidgetProperty(this,e,this.set_value),this.value=this._value,this.input_element=o.create_element("input",{class:`${n} core_Input_inner`}),this.input_element.type=i,this.input_element.onchange=()=>{this._value.set_val(this.get_value(),{silent:!1})},this.element.append(this.input_element)}set_enabled(e){super.set_enabled(e),this.input_element.disabled=!e}set_attr(e,t,i){if(null==t)return;const n=this.input_element,o=i||(e=>e);s.is_any_property(t)?(n[e]=o(t.val),this.disposable(t.observe(({value:t})=>n[e]=o(t)))):n[e]=o(t)}}},"1Qg8":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("yxQK"),o=i("49yP"),s=i("FXpb"),r=i("nN8q");class a extends r.ResizableWidget{constructor(){super(s.el.div({class:"application_ApplicationView"})),this.menu_view=this.disposable(new n.NavigationView),this.main_content_view=this.disposable(new o.MainContentView),this.element.id="root",this.element.append(this.menu_view.element,this.main_content_view.element),this.finalize_construction(a.prototype)}resize(e,t){return super.resize(e,t),this.main_content_view.resize(e,t-this.menu_view.height),this}}t.ApplicationView=a},"1aHr":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("w6HN"),o=i("6cU9"),s=i("KVVN"),r=i("c5EP"),a=i("n5fr"),d=i("sv1z"),l=i("ouMO"),u=i("FXpb"),c=i("r+6V"),_=i("xs7i"),p=i("4Mnx"),v=i("4SjJ"),h=i("S6Bx");class w extends n.ToolBar{constructor(){const e=new c.DropDown("New quest",[_.Episode.I],e=>`Episode ${_.Episode[e]}`,{icon_left:u.Icon.NewFile}),t=new o.FileButton("Open file...",{icon_left:u.Icon.File,accept:".qst",tooltip:"Open a quest file (Ctrl-O)"}),i=new s.Button("Save as...",{icon_left:u.Icon.Save,tooltip:"Save this quest to new file (Ctrl-Shift-S)"}),n=new s.Button("Undo",{icon_left:u.Icon.Undo,tooltip:a.undo_manager.first_undo.map(e=>(e?`Undo "${e.description}"`:"Nothing to undo")+" (Ctrl-Z)")}),f=new s.Button("Redo",{icon_left:u.Icon.Redo,tooltip:a.undo_manager.first_redo.map(e=>(e?`Redo "${e.description}"`:"Nothing to redo")+" (Ctrl-Shift-Z)")}),m=new d.Select(r.quest_editor_store.current_quest.flat_map(e=>e?l.list_property(void 0,...p.area_store.get_areas_for_episode(e.episode)):l.list_property()),e=>{const t=r.quest_editor_store.current_quest.val;if(t){const i=t.entities_per_area.val.get(e.id);return e.name+(i?` (${i})`:"")}return e.name});super({children:[e,t,i,n,f,m]});const g=r.quest_editor_store.current_quest.map(e=>null!=e);this.disposables(e.chosen.observe(({value:e})=>r.quest_editor_store.new_quest(e)),t.files.observe(({value:e})=>{e.length&&r.quest_editor_store.open_file(e[0])}),i.enabled.bind_to(g),i.click.observe(r.quest_editor_store.save_as),n.enabled.bind_to(a.undo_manager.can_undo),n.click.observe(()=>a.undo_manager.undo()),f.enabled.bind_to(a.undo_manager.can_redo),f.click.observe(()=>a.undo_manager.redo()),m.enabled.bind_to(g),m.selected.bind_to(r.quest_editor_store.current_area),m.selected.observe(({value:e})=>r.quest_editor_store.set_current_area(e)),v.gui_store.on_global_keydown(v.GuiTool.QuestEditor,"Ctrl-O",()=>t.click()),v.gui_store.on_global_keydown(v.GuiTool.QuestEditor,"Ctrl-Shift-S",r.quest_editor_store.save_as),v.gui_store.on_global_keydown(v.GuiTool.QuestEditor,"Ctrl-Z",()=>{a.undo_manager.current.val!==h.asm_editor_store.undo&&a.undo_manager.undo()}),v.gui_store.on_global_keydown(v.GuiTool.QuestEditor,"Ctrl-Shift-Z",()=>{a.undo_manager.current.val!==h.asm_editor_store.undo&&a.undo_manager.redo()})),this.finalize_construction(w.prototype)}}t.QuestEditorToolBar=w},"1vWm":function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,s){function r(e){try{d(n.next(e))}catch(e){s(e)}}function a(e){try{d(n.throw(e))}catch(e){s(e)}}function d(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(r,a)}d((n=n.apply(e,t||[])).next())})},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i("nN8q"),r=i("FXpb"),a=i("1aHr"),d=o(i("xGNL")),l=i("zBQr"),u=i("yog5");i("88+i"),i("UrNz");const c=i("xyE7"),_=i("W7aE"),p=i("DUCy"),v=i("Yq7v"),h=i("4SjJ"),w=i("c5EP"),f=i("GGSb").get("quest_editor/gui/QuestEditorView"),m=new Map([[u.QuesInfoView,"quest_info"],[c.NpcCountsView,"npc_counts"],[_.QuestRendererView,"quest_renderer"],[p.AsmEditorView,"asm_editor"],[v.EntityInfoView,"entity_info"]]),g={settings:{showPopoutIcon:!1,showMaximiseIcon:!1},dimensions:{headerHeight:24},labels:{close:"Close",maximise:"Maximise",minimise:"Minimise",popout:"Open in new window"}},y=[{type:"row",content:[{type:"stack",width:3,content:[{title:"Info",type:"component",componentName:m.get(u.QuesInfoView),isClosable:!1},{title:"NPC Counts",type:"component",componentName:m.get(c.NpcCountsView),isClosable:!1}]},{type:"stack",width:9,content:[{title:"3D View",type:"component",componentName:m.get(_.QuestRendererView),isClosable:!1},{title:"Script",type:"component",componentName:m.get(p.AsmEditorView),isClosable:!1}]},{title:"Entity",type:"component",componentName:m.get(v.EntityInfoView),isClosable:!1,width:2}]}];class O extends s.ResizableWidget{constructor(){super(r.el.div({class:"quest_editor_QuestEditorView"})),this.tool_bar_view=this.disposable(new a.QuestEditorToolBar),this.layout_element=r.create_element("div",{class:"quest_editor_gl_container"}),this.sub_views=new Map,this.element.append(this.tool_bar_view.element,this.layout_element),this.layout=this.init_golden_layout(),this.disposables(h.gui_store.on_global_keydown(h.GuiTool.QuestEditor,"Ctrl-Alt-D",()=>w.quest_editor_store.debug.val=!w.quest_editor_store.debug.val)),this.finalize_construction(O.prototype)}resize(e,t){super.resize(e,t);const i=Math.max(0,t-this.tool_bar_view.height);return this.layout_element.style.width=`${e}px`,this.layout_element.style.height=`${i}px`,this.layout.then(t=>t.updateSize(e,i)),this}dispose(){super.dispose(),this.layout.then(e=>e.destroy());for(const e of this.sub_views.values())e.dispose();this.sub_views.clear()}init_golden_layout(){return n(this,void 0,void 0,function*(){const e=yield l.quest_editor_ui_persister.load_layout_config([...m.values()],y);try{return this.attempt_gl_init(Object.assign({},g,{content:e}))}catch(e){return f.warn("Couldn't instantiate golden layout with persisted layout.",e),this.attempt_gl_init(Object.assign({},g,{content:y}))}})}attempt_gl_init(e){const t=new d.default(e,this.layout_element),i=this;try{for(const[e,n]of m)t.registerComponent(n,function(t){const o=new e;t.on("close",()=>o.dispose()),t.on("resize",()=>o.resize(t.width,t.height-4)),o.resize(t.width,t.height),i.sub_views.set(n,o),t.getElement().append(o.element)});return t.on("stateChanged",()=>{this.layout&&l.quest_editor_ui_persister.persist_layout_config(t.toConfig().content)}),t.on("stackCreated",e=>{e.on("activeContentItemChanged",e=>{if("componentName"in e.config){const t=this.sub_views.get(e.config.componentName);t&&t.focus()}})}),t.init(),t}catch(e){throw t.destroy(),e}}}t.QuestEditorView=O},"1z6m":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("TRid"),o=i("FXpb"),s=i("4SjJ");i("Rbar");class r extends n.Widget{constructor(e,t){super(o.el.span({class:"application_NavigationButton"})),this.input=o.create_element("input"),this.label=o.create_element("label");const i=s.GuiTool[e];this.input.type="radio",this.input.name="application_NavigationButton",this.input.value=i,this.input.id=`application_NavigationButton_${i}`,this.label.append(t),this.label.htmlFor=`application_NavigationButton_${i}`,this.element.append(this.input,this.label),this.finalize_construction(r.prototype)}set checked(e){this.input.checked=e}}t.NavigationButton=r},"22Lq":function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i("ouMO"),s=i("hUhj"),r=i("oxtq"),a=n(i("GGSb")).default.get("core/observable/property/list/SimpleListProperty");t.SimpleListProperty=class extends s.AbstractProperty{constructor(e,...t){super(),this.is_list_property=!0,this._length=o.property(0),this.value_observers=[],this.list_observers=[],this.length=this._length,this.values=t,this.extract_observables=e}get val(){return this.get_val()}set val(e){this.set_val(e)}get_val(){return this.values}set_val(e){const t=this.values.splice(0,this.values.length,...e);return this.finalize_update({type:r.ListChangeType.ListChange,index:0,removed:t,inserted:e}),t}observe_list(e){return 0===this.value_observers.length&&this.extract_observables&&this.replace_element_observers(0,1/0,this.values),this.list_observers.includes(e)||this.list_observers.push(e),{dispose:()=>{const t=this.list_observers.indexOf(e);if(-1!==t&&this.list_observers.splice(t,1),0===this.list_observers.length){for(const{disposables:e}of this.value_observers)for(const t of e)t.dispose();this.value_observers.splice(0,1/0)}}}}bind_to(e){return r.is_list_property(e)?e.observe_list(e=>{e.type===r.ListChangeType.ListChange&&this.splice(e.index,e.removed.length,...e.inserted)}):e.observe(({value:e})=>this.set_val(e))}bind_bi(e){const t=this.bind_to(e),i=e.bind_to(this);return{dispose(){t.dispose(),i.dispose()}}}update(e){this.splice(0,this.values.length,...e(this.values))}get(e){return this.values[e]}set(e,t){const i=[this.values[e]];this.values[e]=t,this.finalize_update({type:r.ListChangeType.ListChange,index:e,removed:i,inserted:[t]})}push(...e){const t=this.values.length;return this.values.push(...e),this.finalize_update({type:r.ListChangeType.ListChange,index:t,removed:[],inserted:e}),this.length.val}remove(...e){for(const t of e){const e=this.values.indexOf(t);this.values.splice(e,1),this.finalize_update({type:r.ListChangeType.ListChange,index:e,removed:[t],inserted:[]})}}clear(){const e=this.values.splice(0,this.values.length);this.finalize_update({type:r.ListChangeType.ListChange,index:0,removed:e,inserted:[]})}splice(e,t,...i){let n;return n=null==t?this.values.splice(e):this.values.splice(e,t,...i),this.finalize_update({type:r.ListChangeType.ListChange,index:e,removed:n,inserted:i}),n}sort(e){this.values.sort(e),this.finalize_update({type:r.ListChangeType.ListChange,index:0,removed:this.values,inserted:this.values})}finalize_update(e){this.list_observers.length&&this.extract_observables&&e.type===r.ListChangeType.ListChange&&this.replace_element_observers(e.index,e.removed.length,e.inserted);const t=this._length.val;this._length.set_val(this.values.length,{silent:!0});for(const t of this.list_observers)this.call_list_observer(t,e);this.emit(this.values),this._length.set_val(t,{silent:!0}),this._length.set_val(this.values.length,{silent:!1})}call_list_observer(e,t){try{e(t)}catch(e){a.error("Observer threw error.",e)}}replace_element_observers(e,t,i){let n=e;const o=this.value_observers.splice(e,t,...i.map(e=>{const t={index:n,disposables:this.extract_observables(e).map(i=>i.observe(()=>{this.finalize_update({type:r.ListChangeType.ValueChange,updated:[e],index:t.index})}))};return n++,t}));for(const{disposables:e}of o)for(const t of e)t.dispose();const s=i.length-t;for(;n<this.value_observers.length;)this.value_observers[n++].index+=s}}},"39ZU":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("FXpb"),o=i("nN8q");class s extends o.ResizableWidget{constructor(e){super(n.el.div({class:"core_LazyView"})),this.create_view=e,this.initialized=!1,this.visible.val=!1}set_visible(e){super.set_visible(e),e&&!this.initialized&&(this.initialized=!0,this.create_view().then(e=>{this.disposed||(this.view=this.disposable(e),this.view.resize(this.width,this.height),this.element.append(e.element))})),this.finalize_construction(s.prototype)}resize(e,t){return super.resize(e,t),this.view&&this.view.resize(e,t),this}}t.LazyWidget=s},"3AeF":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("x4IQ");t.EditLongDescriptionAction=class extends n.QuestEditAction{constructor(){super(...arguments),this.description="Edit long description"}undo(){this.quest.set_long_description(this.old)}redo(){this.quest.set_long_description(this.new)}}},"3CEK":function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,s){function r(e){try{d(n.next(e))}catch(e){s(e)}}function a(e){try{d(n.throw(e))}catch(e){s(e)}}function d(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(r,a)}d((n=n.apply(e,t||[])).next())})},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(i("GGSb")),r=i("Womt"),a=i("4vnR"),d=i("aEXR"),l=i("Tpfs"),u=i("4Mnx"),c=i("xpi7"),_=s.default.get("quest_editor/rendering/QuestModelManager"),p=new r.Vector3(0,800,700),v=new r.Vector3(0,0,0),h=new r.Object3D;t.QuestModelManager=class{constructor(e){this.renderer=e,this.disposer=new l.Disposer}load_models(e,t){return n(this,void 0,void 0,function*(){let i;if(e&&t&&(i=e.area_variants.val.find(e=>e.area.id===t.id)||u.area_store.get_variant(e.episode,t.id,0)),this.quest!==e||this.area_variant!==i)if(this.quest=e,this.area=t,this.area_variant=i,this.disposer.dispose_all(),e&&t)try{const n=e.episode,o=t.id,s=i?i.id:0,r=yield d.load_area_collision_geometry(n,o,s),l=yield d.load_area_render_geometry(n,o,s);if(this.add_sections_to_collision_geometry(r,l),this.quest!==e||this.area_variant!==i)return;this.renderer.collision_geometry=r,this.renderer.render_geometry=l,this.renderer.reset_camera(p,v),this.renderer.reset_entity_models();for(const n of e.npcs.val)if(n.area_id===t.id){const t=yield a.load_npc_geometry(n.type),o=yield a.load_npc_textures(n.type);if(this.quest!==e||this.area_variant!==i)return;const s=c.create_npc_mesh(n,t,o);this.update_entity_geometry(n,s)}for(const n of e.objects.val)if(n.area_id===t.id){const t=yield a.load_object_geometry(n.type),o=yield a.load_object_textures(n.type);if(this.quest!==e||this.area_variant!==i)return;const s=c.create_object_mesh(n,t,o);this.update_entity_geometry(n,s)}}catch(i){_.error(`Couldn't load models for quest ${e.id}, ${t.name}.`,i),this.renderer.collision_geometry=h,this.renderer.render_geometry=h,this.renderer.reset_entity_models()}else this.renderer.collision_geometry=h,this.renderer.render_geometry=h,this.renderer.reset_entity_models()})}dispose(){this.disposer.dispose()}add_sections_to_collision_geometry(e,t){const i=new r.Raycaster,n=new r.Vector3,o=new r.Vector3(0,-1,0),s=new r.Vector3(0,1,0);for(const r of e.children){r.geometry.boundingBox.getCenter(n),i.set(n,o);const e=i.intersectObject(t,!0).find(e=>null!=e.object.userData.section);i.set(n,s);const a=i.intersectObject(t,!0).find(e=>null!=e.object.userData.section);let d;if(d=e&&a?e.distance<=a.distance?e:a:e||a){const e=r.userData,t=d.object.userData;e.section=t.section}}}update_entity_geometry(e,t){this.renderer.add_entity_model(t),this.disposer.add_all(e.world_position.observe(({value:{x:e,y:i,z:n}})=>{t.position.set(e,i,n),this.renderer.schedule_render()}),e.rotation.observe(({value:{x:e,y:i,z:n}})=>{t.rotation.set(e,i,n),this.renderer.schedule_render()}))}}},"4/Uj":function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,s){function r(e){try{d(n.next(e))}catch(e){s(e)}}function a(e){try{d(n.throw(e))}catch(e){s(e)}}function d(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(r,a)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=i("ouMO"),s=i("yub1"),r=i("Sa3/"),a=i("NRxM"),d=i("bcBH"),l=i("GGSb").get("viewer/stores/TextureStore");class u{constructor(){this._current_xvm=o.property(void 0),this.current_xvm=this._current_xvm,this.load_file=e=>n(this,void 0,void 0,function*(){try{const t=yield r.read_file(e);this._current_xvm.val=s.parse_xvm(new a.ArrayBufferCursor(t,d.Endianness.Little))}catch(e){l.error("Couldn't read file.",e)}})}}t.TextureStore=u,t.texture_store=new u},"469Q":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("Womt"),o=i("Ftn7"),s=i("Tpfs"),r=i("iR5r"),a=i("GGSb"),d=i("4/Uj"),l=a.get("viewer/rendering/TextureRenderer");t.TextureRenderer=class extends o.Renderer{constructor(){super(new n.OrthographicCamera(-400,400,300,-300,1,10)),this.disposer=new s.Disposer,this.quad_meshes=[],this.ortho_camera=this.camera,this.controls.dollySpeed=-1,this.controls.azimuthRotateSpeed=0,this.controls.polarRotateSpeed=0,this.disposer.add_all(d.texture_store.current_xvm.observe(({value:e})=>{this.scene.remove(...this.quad_meshes),e&&this.render_textures(e),this.reset_camera(new n.Vector3(0,0,5),new n.Vector3),this.schedule_render()}))}set_size(e,t){this.ortho_camera.left=-Math.floor(e/2),this.ortho_camera.right=Math.ceil(e/2),this.ortho_camera.top=Math.floor(t/2),this.ortho_camera.bottom=-Math.ceil(t/2),this.ortho_camera.updateProjectionMatrix(),super.set_size(e,t)}dispose(){super.dispose(),this.disposer.dispose()}render_textures(e){let t=10*(e.textures.length-1),i=0;for(const n of e.textures)t+=n.width,i=Math.max(i,n.height);let o=-Math.floor(t/2);const s=-Math.floor(i/2);for(const t of e.textures){let e;try{e=r.xvm_texture_to_texture(t)}catch(e){l.warn("Couldn't convert XVM texture.",e)}const a=new n.Mesh(this.create_quad(o,s+Math.floor((i-t.height)/2),t.width,t.height),e?new n.MeshBasicMaterial({map:e,transparent:!0}):new n.MeshBasicMaterial({color:16711935}));this.quad_meshes.push(a),this.scene.add(a),o+=10+t.width}}create_quad(e,t,i,o){const s=new n.PlaneGeometry(i,o,1,1);return s.faceVertexUvs=[[[new n.Vector2(0,0),new n.Vector2(0,1),new n.Vector2(1,0)],[new n.Vector2(0,1),new n.Vector2(1,1),new n.Vector2(1,0)]]],s.translate(e+i/2,t+o/2,-5),s}}},"488w":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("Womt"),o=i("tRdk"),s=i("kwt4"),r=i("vM2b"),a=new n.Vector3(0,1,0),d=new n.Vector2(0,0),l=new n.Vector3(0,0,0),u=new n.Quaternion(0,0,0,1),c=new n.Vector3(1,1,1);t.ninja_object_to_geometry_builder=function(e,t){new p(t).to_geometry_builder(e)},t.ninja_object_to_buffer_geometry=function(e){return new p(new r.GeometryBuilder).create_buffer_geometry(e)};class _{constructor(){this.vertices_stack=[]}put(e){this.vertices_stack.push(e)}get(e){const t=[];for(let i=this.vertices_stack.length-1;i>=0;i--){const n=this.vertices_stack[i][e];n&&t.push(n)}return t}}class p{constructor(e){this.vertices=new _,this.bone_id=0,this.builder=e}to_geometry_builder(e){this.object_to_geometry(e,void 0,new n.Matrix4)}create_buffer_geometry(e){return this.to_geometry_builder(e),this.builder.build()}object_to_geometry(e,t,i){const{no_translate:s,no_rotate:r,no_scale:a,hidden:d,break_child_trace:_,zxy_rotation_order:p,skip:v}=e.evaluation_flags,{position:h,rotation:w,scale:f}=e,m=new n.Euler(w.x,w.y,w.z,p?"ZXY":"ZYX"),g=(new n.Matrix4).compose(s?l:o.vec3_to_threejs(h),r?u:(new n.Quaternion).setFromEuler(m),a?c:o.vec3_to_threejs(f)).premultiply(i);let y;if(v?y=t:((y=new n.Bone).name=this.bone_id.toString(),y.position.set(h.x,h.y,h.z),y.setRotationFromEuler(m),y.scale.set(f.x,f.y,f.z),this.builder.add_bone(y),t&&t.add(y)),e.model&&!d&&this.model_to_geometry(e.model,g),this.bone_id++,!_)for(const t of e.children)this.object_to_geometry(t,y,g)}model_to_geometry(e,t){s.is_njcm_model(e)?this.njcm_model_to_geometry(e,t):this.xj_model_to_geometry(e,t)}njcm_model_to_geometry(e,t){const i=(new n.Matrix3).getNormalMatrix(t),s=e.vertices.map(e=>{const s=o.vec3_to_threejs(e.position),r=e.normal?o.vec3_to_threejs(e.normal):new n.Vector3(0,1,0);return s.applyMatrix4(t),r.applyMatrix3(i),{bone_id:this.bone_id,position:s,normal:r,bone_weight:e.bone_weight,bone_weight_status:e.bone_weight_status,calc_continue:e.calc_continue}});this.vertices.put(s);for(const t of e.meshes){const e=this.builder.index_count;for(let e=0;e<t.vertices.length;++e){const i=t.vertices[e],n=this.vertices.get(i.index);if(n.length){const o=n[0],s=o.normal||i.normal||a,r=this.builder.vertex_count;this.builder.add_vertex(o.position,s,t.has_tex_coords?i.tex_coords:d),e>=2&&(e%2==(t.clockwise_winding?1:0)?(this.builder.add_index(r-2),this.builder.add_index(r-1),this.builder.add_index(r)):(this.builder.add_index(r-2),this.builder.add_index(r),this.builder.add_index(r-1)));const l=[[0,0],[0,0],[0,0],[0,0]];for(let e=n.length-1;e>=0;e--){const t=n[e];l[t.bone_weight_status]=[t.bone_id,t.bone_weight]}for(const[e,t]of l)this.builder.add_bone_weight(e,t)}}this.builder.add_group(e,this.builder.index_count-e,t.texture_id)}}xj_model_to_geometry(e,t){const i=this.builder.vertex_count,s=(new n.Matrix3).getNormalMatrix(t);for(let{position:i,normal:r,uv:a}of e.vertices){const e=o.vec3_to_threejs(i).applyMatrix4(t),l=(r?o.vec3_to_threejs(r):new n.Vector3(0,1,0)).applyMatrix3(s),u=a||d;this.builder.add_vertex(e,l,u)}let r;for(const t of e.meshes){const e=this.builder.index_count;let n=!1;for(let e=2;e<t.indices.length;++e){const o=i+t.indices[e-2],s=i+t.indices[e-1],r=i+t.indices[e],a=this.builder.get_position(o),d=this.builder.get_position(s),l=this.builder.get_position(r),u=this.builder.get_normal(o),c=this.builder.get_normal(s),_=this.builder.get_normal(r),p=d.clone().sub(a).cross(l.clone().sub(a));n&&p.negate(),(p.dot(u)<0?1:0)+(p.dot(c)<0?1:0)+(p.dot(_)<0?1:0)>=2&&(n=!n),n?(this.builder.add_index(s),this.builder.add_index(o),this.builder.add_index(r)):(this.builder.add_index(o),this.builder.add_index(s),this.builder.add_index(r)),n=!n}null!=t.material_properties.texture_id&&(r=t.material_properties.texture_id),this.builder.add_group(e,this.builder.index_count-e,r)}}}},"49yP":function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,s){function r(e){try{d(n.next(e))}catch(e){s(e)}}function a(e){try{d(n.throw(e))}catch(e){s(e)}}function d(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(r,a)}d((n=n.apply(e,t||[])).next())})},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const s=i("FXpb"),r=i("4SjJ"),a=i("39ZU"),d=i("nN8q"),l=[[r.GuiTool.Viewer,()=>n(this,void 0,void 0,function*(){return new((yield Promise.resolve().then(()=>o(i("vsj6")))).ViewerView)})],[r.GuiTool.QuestEditor,()=>n(this,void 0,void 0,function*(){return new((yield Promise.resolve().then(()=>o(i("1vWm")))).QuestEditorView)})],[r.GuiTool.HuntOptimizer,()=>n(this,void 0,void 0,function*(){return new((yield Promise.resolve().then(()=>o(i("LkpO")))).HuntOptimizerView)})]];class u extends d.ResizableWidget{constructor(){super(s.el.div({class:"application_MainContentView"})),this.tool_views=new Map(l.map(([e,t])=>[e,this.disposable(new a.LazyWidget(t))])),this.tool_changed=({value:e})=>{for(const e of this.tool_views.values())e.visible.val=!1;const t=this.tool_views.get(e);t&&(t.visible.val=!0)};for(const e of this.tool_views.values())this.element.append(e.element);const e=this.tool_views.get(r.gui_store.tool.val);e&&(e.visible.val=!0),this.disposable(r.gui_store.tool.observe(this.tool_changed)),this.finalize_construction(u.prototype)}resize(e,t){super.resize(e,t);for(const i of this.tool_views.values())i.resize(e,t);return this}}t.MainContentView=u},"4Mnx":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("lPzw"),o=i("bJO5"),s=i("xs7i"),r=i("aEXR"),a=i("SoCI");t.area_store=new class{constructor(){this.areas=[],this.get_areas_for_episode=e=>this.areas[e],this.get_area=(e,t)=>{const i=this.areas[e].find(e=>e.id===t);if(!i)throw new Error(`Area id ${t} for episode ${e} is invalid.`);return i},this.get_variant=(e,t,i)=>{const n=this.get_area(e,t).area_variants[i];if(!n)throw new Error(`Area variant id ${i} for area ${t} of episode ${e} is invalid.`);return n},this.get_area_sections=(e,t,i)=>r.load_area_sections(e,t,i);for(const e of s.EPISODES)this.areas[e]=a.get_areas_for_episode(e).map(e=>{const t=new n.AreaModel(e.id,e.name,e.order,[]);for(const i of e.area_variants)t.area_variants.push(new o.AreaVariantModel(i.id,t));return t})}}},"4SjJ":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("ouMO"),o=i("nsCy");var s;!function(e){e[e.Viewer=0]="Viewer",e[e.QuestEditor=1]="QuestEditor",e[e.HuntOptimizer=2]="HuntOptimizer"}(s=t.GuiTool||(t.GuiTool={}));const r=new Map([[s.Viewer,"viewer"],[s.QuestEditor,"quest_editor"],[s.HuntOptimizer,"hunt_optimizer"]]),a=new Map([...r.entries()].map(([e,t])=>[t,e]));t.gui_store=new class{constructor(){this.tool=n.property(s.Viewer),this._server=n.property(o.Server.Ephinea),this.hash_disposer=this.tool.observe(({value:e})=>{window.location.hash=`#/${function(e){const t=r.get(e);if(t)return t;throw new Error(`To string not implemented for ${s[e]}.`)}(e)}`}),this.global_keydown_handlers=new Map,this.dispatch_global_keydown=e=>{const t=[];e.ctrlKey&&t.push("Ctrl"),e.shiftKey&&t.push("Shift"),e.altKey&&t.push("Alt"),t.push(e.key.toUpperCase());const i=t.join("-"),n=this.global_keydown_handlers.get(this.handler_key(this.tool.val,i));n&&(e.preventDefault(),n())};const e=window.location.hash.slice(2);this.tool.val=function(e){return a.get(e)}(e)||s.Viewer,this.server=this._server,window.addEventListener("keydown",this.dispatch_global_keydown)}dispose(){this.hash_disposer.dispose(),this.global_keydown_handlers.clear(),window.removeEventListener("keydown",this.dispatch_global_keydown)}on_global_keydown(e,t,i){const n=this.handler_key(e,t);return this.global_keydown_handlers.set(n,i),{dispose:()=>{this.global_keydown_handlers.delete(n)}}}handler_key(e,t){return`${s[e]} -> ${t}`}}},"4VsB":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("0CzU");t.WidgetProperty=class extends n.SimpleProperty{constructor(e,t,i){super(t),this.widget=e,this.set_value=i}set_val(e,t){this.set_value.call(this.widget,e),super.set_val(e,Object.assign({silent:!0},t))}}},"4mUz":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse_rel=function(e,t){e.seek_end(32);const i=e.u32(),n=e.u32();e.seek(8);const o=e.u32();return e.seek_start(i),{data_offset:o,index:t?function(e,t){const i=e.u16_array(t),n=[];let o=0;for(const t of i){o+=4*t,e.seek_start(o-4);const i=e.u32(),s=e.u32();n.push({offset:s,size:i})}return n}(e,n):[]}}},"4s8/":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ValueSet=class{constructor(){this.intervals=[]}size(){return this.intervals.reduce((e,t)=>e+t.end-t.start+1,0)}get(e){for(const{start:t,end:i}of this.intervals){const n=i-t+1;if(e<n)return t+e;e-=n}}min(){return this.intervals.length?this.intervals[0].start:void 0}max(){return this.intervals.length?this.intervals[this.intervals.length-1].end:void 0}has(e){for(const t of this.intervals)if(t.start<=e&&e<=t.end)return!0;return!1}set_value(e){return this.intervals=[{start:e,end:e}],this}set_interval(e,t){if(t<e)throw new Error(`Interval upper bound should be greater than or equal to lower bound, got [${e}, ${t}].`);return this.intervals=[{start:e,end:t}],this}scalar_add(e){for(const t of this.intervals)t.start+=e,t.end+=e;return this}scalar_sub(e){return this.scalar_add(-e)}scalar_mul(e){for(const t of this.intervals)t.start*=e,t.end*=e;return this}scalar_div(e){for(const t of this.intervals)t.start=Math.floor(t.start/e),t.end=Math.floor(t.end/e);return this}union(e){let t=0;e:for(const i of e.intervals){for(;t<this.intervals.length;){const e=this.intervals[t];if(i.end<e.start-1){this.intervals.splice(t,0,i),t++;continue e}if(i.start<=e.end+1){e.start=Math.min(e.start,i.start);let n=t;for(;n<this.intervals.length&&i.end>this.intervals[n].start;)e.end=this.intervals[n].end,n++;this.intervals.splice(t+1,n-t-1),e.end=Math.max(e.end,i.end),t++;continue e}t++}this.intervals.push(i)}return this}to_array(){let e=[];for(const{start:t,end:i}of this.intervals)for(let n=t;n<=i;n++)e.push(n);return e}[Symbol.iterator](){const e=this;let t=0,i=NaN;return{next(){let n=!0;return t<e.intervals.length&&(isNaN(i)?(i=e.intervals[t].start,n=!1):i>e.intervals[t].end?++t<e.intervals.length&&(i=e.intervals[t].start,n=!1):n=!1),{done:n,value:i++}}}}}},"4vnR":function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,s){function r(e){try{d(n.next(e))}catch(e){s(e)}}function a(e){try{d(n.throw(e))}catch(e){s(e)}}function d(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(r,a)}d((n=n.apply(e,t||[])).next())})},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i("Womt"),r=o(i("GGSb")),a=i("AUhH"),d=i("bcBH"),l=i("NRxM"),u=i("488w"),c=i("kwt4"),_=i("yub1"),p=i("iR5r"),v=i("Yuai"),h=i("+oIp"),w=i("sZ1+"),f=r.default.get("loading/entities"),m=new s.CylinderBufferGeometry(3,3,20);m.translate(0,10,0);const g=new Promise(e=>e(m)),y=[],O=new Promise(e=>e(y)),b=new a.LoadingCache;b.set(w.NpcType.Unknown,g);const E=new a.LoadingCache;E.set(w.NpcType.Unknown,O);const S=new a.LoadingCache,R=new a.LoadingCache;for(const e of[h.ObjectType.Unknown,h.ObjectType.PlayerSet,h.ObjectType.FogCollision,h.ObjectType.EventCollision,h.ObjectType.ObjRoomID,h.ObjectType.ScriptCollision,h.ObjectType.ItemLight,h.ObjectType.FogCollisionSW,h.ObjectType.MenuActivation,h.ObjectType.BoxDetectObject,h.ObjectType.SymbolChatObject,h.ObjectType.TouchPlateObject,h.ObjectType.TargetableObject,h.ObjectType.EffectObject,h.ObjectType.CountDownObject,h.ObjectType.TelepipeLocation,h.ObjectType.Pioneer2InvisibleTouchplate,h.ObjectType.TempleMapDetect,h.ObjectType.LabInvisibleObject])S.set(e,g),R.set(e,O);function k(e,t){return n(this,void 0,void 0,function*(){const i=function e(t,i){switch(t){case w.NpcType.Dubswitch:return`/npcs/${w.NpcType[t]}.${i===P.Geometry?"xj":"xvm"}`;case w.NpcType.Hildebear2:return e(w.NpcType.Hildebear,i);case w.NpcType.Hildeblue2:return e(w.NpcType.Hildeblue,i);case w.NpcType.RagRappy2:return e(w.NpcType.RagRappy,i);case w.NpcType.Monest2:return e(w.NpcType.Monest,i);case w.NpcType.PoisonLily2:return e(w.NpcType.PoisonLily,i);case w.NpcType.NarLily2:return e(w.NpcType.NarLily,i);case w.NpcType.GrassAssassin2:return e(w.NpcType.GrassAssassin,i);case w.NpcType.Dimenian2:return e(w.NpcType.Dimenian,i);case w.NpcType.LaDimenian2:return e(w.NpcType.LaDimenian,i);case w.NpcType.SoDimenian2:return e(w.NpcType.SoDimenian,i);case w.NpcType.DarkBelra2:return e(w.NpcType.DarkBelra,i);case w.NpcType.SavageWolf2:return e(w.NpcType.SavageWolf,i);case w.NpcType.BarbarousWolf2:return e(w.NpcType.BarbarousWolf,i);case w.NpcType.PanArms2:return e(w.NpcType.PanArms,i);case w.NpcType.Dubchic2:return e(w.NpcType.Dubchic,i);case w.NpcType.Gilchic2:return e(w.NpcType.Gilchic,i);case w.NpcType.Garanz2:return e(w.NpcType.Garanz,i);case w.NpcType.Dubswitch2:return e(w.NpcType.Dubswitch,i);case w.NpcType.Delsaber2:return e(w.NpcType.Delsaber,i);case w.NpcType.ChaosSorcerer2:return e(w.NpcType.ChaosSorcerer,i);default:return`/npcs/${w.NpcType[t]}.${i===P.Geometry?"nj":"xvm"}`}}(e,t);return{url:i,data:yield v.load_array_buffer(i)}})}function N(e,t){return n(this,void 0,void 0,function*(){const i=function(e,t){if(t!==P.Geometry)return`/objects/${h.object_data(e).pso_id}.xvm`;switch(e){case h.ObjectType.EasterEgg:case h.ObjectType.ChristmasTree:case h.ObjectType.ChristmasWreath:case h.ObjectType.TwentyFirstCentury:case h.ObjectType.Sonic:case h.ObjectType.WelcomeBoard:case h.ObjectType.FloatingJelifish:case h.ObjectType.RuinsSeal:case h.ObjectType.Dolphin:case h.ObjectType.Cacti:case h.ObjectType.BigBrownRock:case h.ObjectType.PoisonPlant:case h.ObjectType.BigBlackRocks:case h.ObjectType.FallingRock:case h.ObjectType.DesertFixedTypeBoxBreakableCrystals:case h.ObjectType.BeeHive:return`/objects/${h.object_data(e).pso_id}.nj`;default:return`/objects/${h.object_data(e).pso_id}.xj`}}(e,t);return{url:i,data:yield v.load_array_buffer(i)}})}var P;t.load_npc_geometry=function(e){return n(this,void 0,void 0,function*(){return b.get_or_set(e,()=>n(this,void 0,void 0,function*(){try{const{url:t,data:i}=yield k(e,P.Geometry),n=new l.ArrayBufferCursor(i,d.Endianness.Little),o=t.endsWith(".nj")?c.parse_nj(n):c.parse_xj(n);return o.length?u.ninja_object_to_buffer_geometry(o[0]):(f.warn(`Couldn't parse ${t} for ${w.NpcType[e]}.`),m)}catch(t){return f.warn(`Couldn't load geometry file for ${w.NpcType[e]}.`,t),m}}))})},t.load_npc_textures=function(e){return n(this,void 0,void 0,function*(){return E.get_or_set(e,()=>n(this,void 0,void 0,function*(){try{const{data:t}=yield k(e,P.Texture),i=new l.ArrayBufferCursor(t,d.Endianness.Little),n=_.parse_xvm(i);return p.xvm_to_textures(n)}catch(t){return f.warn(`Couldn't load texture file for ${w.NpcType[e]}.`,t),y}}))})},t.load_object_geometry=function(e){return n(this,void 0,void 0,function*(){return S.get_or_set(e,()=>n(this,void 0,void 0,function*(){try{const{url:t,data:i}=yield N(e,P.Geometry),n=new l.ArrayBufferCursor(i,d.Endianness.Little),o=t.endsWith(".nj")?c.parse_nj(n):c.parse_xj(n);return o.length?u.ninja_object_to_buffer_geometry(o[0]):(f.warn(`Couldn't parse ${t} for ${h.ObjectType[e]}.`),m)}catch(t){return f.warn(`Couldn't load geometry file for ${h.ObjectType[e]}.`,t),m}}))})},t.load_object_textures=function(e){return n(this,void 0,void 0,function*(){return R.get_or_set(e,()=>n(this,void 0,void 0,function*(){try{const{data:t}=yield N(e,P.Texture),i=new l.ArrayBufferCursor(t,d.Endianness.Little),n=_.parse_xvm(i);return p.xvm_to_textures(n)}catch(t){return f.warn(`Couldn't load texture file for ${h.ObjectType[e]}.`,t),y}}))})},t.load_npc_data=k,t.load_object_data=N,function(e){e[e.Geometry=0]="Geometry",e[e.Texture=1]="Texture"}(P||(P={}))},"52VV":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("+LO4"),o=i("nEgy");class s extends n.AbstractMinimalProperty{constructor(e,t){super(),this.dependency=e,this.f=t}get val(){return this.get_val()}get_val(){return this.computed_property?this.computed_property.val:this.f(this.dependency.val).val}observe(e){const t=super.observe(e);return null==this.dependency_disposable&&(this.dependency_disposable=this.dependency.observe(()=>{const e=this.val;this.compute_and_observe(),this.emit(e)}),this.compute_and_observe()),this.emit(this.get_val()),{dispose:()=>{t.dispose(),0===this.observers.length&&(this.dependency_disposable.dispose(),this.dependency_disposable=void 0,this.computed_disposable.dispose(),this.computed_disposable=void 0,this.computed_property=void 0)}}}map(e){return new o.DependentProperty([this],()=>e(this.val))}flat_map(e){return new s(this,t=>e(t))}compute_and_observe(){this.computed_disposable&&this.computed_disposable.dispose(),this.computed_property=this.f(this.dependency.val);let e=this.computed_property.val;this.computed_disposable=this.computed_property.observe(()=>{const t=e;e=this.val,this.emit(t)})}}t.FlatMappedProperty=s},"5aKR":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("TRid"),o=i("FXpb"),s=i("7ZX1");i("+BDF");class r extends n.Widget{constructor(e){super(o.el.div({class:"quest_editor_DisabledView"})),this.label=this.disposable(new s.Label(e,{enabled:!1})),this.element.append(this.label.element),this.finalize_construction(r.prototype)}}t.DisabledView=r},"6WXA":function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,s){function r(e){try{d(n.next(e))}catch(e){s(e)}}function a(e){try{d(n.throw(e))}catch(e){s(e)}}function d(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(r,a)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=i("4SjJ"),s=i("LvDl"),r=i("M/y3");t.ServerMap=class{constructor(e){this.get_value=s.memoize(e)}get current(){return this._current||(this._current=o.gui_store.server.map(e=>this.get(e))),this._current}get(e){return this.get_value(e)}observe_current(e,t){const i=r.sequential(({value:t})=>n(this,void 0,void 0,function*(){return e(yield t)}));return this.current.observe(i,t)}}},"6cU9":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("FXpb");i("+Mcu"),i("Tp1L");const o=i("ouMO"),s=i("QmPX");class r extends s.Control{constructor(e,t){super(n.create_element("label",{class:"core_FileButton core_Button"}),t),this.input=n.create_element("input",{class:"core_FileButton_input core_Button_inner"}),this._files=o.property([]),this.files=this._files,this.input.type="file",this.input.onchange=()=>{this.input.files&&this.input.files.length?this._files.val=[...this.input.files]:this._files.val=[]},t&&t.accept&&(this.input.accept=t.accept);const i=n.el.span({class:"core_FileButton_inner core_Button_inner"});t&&null!=t.icon_left&&i.append(n.el.span({class:"core_FileButton_left core_Button_left"},n.icon(t.icon_left))),i.append(n.el.span({class:"core_Button_center",text:e})),this.element.append(i,this.input),this.disposables(this.enabled.observe(({value:e})=>{this.input.disabled=!e,e?this.element.classList.remove("disabled"):this.element.classList.add("disabled")})),this.finalize_construction(r.prototype)}click(){this.input.click()}}t.FileButton=r},"70mo":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("ouMO"),o=i("Ts/k"),s=i("n5fr"),r=i("GGSb").get("core/undo/UndoStack");t.UndoStack=class{constructor(){this.stack=n.list_property(),this.index=n.property(0),this.can_undo=this.index.map(e=>e>0),this.can_redo=n.map((e,t)=>t<e.length,this.stack,this.index),this.first_undo=this.can_undo.map(e=>e?this.stack.get(this.index.val-1):void 0),this.first_redo=this.can_redo.map(e=>e?this.stack.get(this.index.val):void 0),this.undoing_or_redoing=!1}make_current(){s.undo_manager.current.val=this}ensure_not_current(){s.undo_manager.current.val===this&&(s.undo_manager.current.val=o.NOOP_UNDO)}push(e){return this.undoing_or_redoing||(this.stack.splice(this.index.val,1/0,e),this.index.update(e=>e+1)),e}pop(){return this.index.update(e=>e-1),this.stack.splice(this.index.val,1)[0]}undo(){if(this.can_undo.val&&!this.undoing_or_redoing){try{this.undoing_or_redoing=!0,this.index.update(e=>e-1),this.stack.get(this.index.val).undo()}catch(e){r.warn("Error while undoing action.",e)}finally{this.undoing_or_redoing=!1}return!0}return!1}redo(){if(this.can_redo.val&&!this.undoing_or_redoing){try{this.undoing_or_redoing=!0,this.stack.get(this.index.val).redo(),this.index.update(e=>e+1)}catch(e){r.warn("Error while redoing action.",e)}finally{this.undoing_or_redoing=!1}return!0}return!1}reset(){this.stack.clear(),this.index.val=0}}},"7CyS":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("Womt"),o=i("VwSi");t.PSO_FRAME_RATE=30,t.create_animation_clip=function(e,i){const s=i.interpolation===o.NjInterpolation.Spline?n.InterpolateSmooth:n.InterpolateLinear,r=[];return i.motion_data.forEach((i,a)=>{const d=e.get_bone(a);d&&i.tracks.forEach(({type:e,keyframes:i})=>{const l=[],u=[];for(const s of i)if(l.push(s.frame/t.PSO_FRAME_RATE),e===o.NjKeyframeTrackType.Rotation){const e=d.evaluation_flags.zxy_rotation_order?"ZXY":"ZYX",t=(new n.Quaternion).setFromEuler(new n.Euler(s.value.x,s.value.y,s.value.z,e));u.push(t.x,t.y,t.z,t.w)}else u.push(s.value.x,s.value.y,s.value.z);if(e===o.NjKeyframeTrackType.Rotation)r.push(new n.QuaternionKeyframeTrack(`.bones[${a}].quaternion`,l,u,s));else{const t=e===o.NjKeyframeTrackType.Position?`.bones[${a}].position`:`.bones[${a}].scale`;r.push(new n.VectorKeyframeTrack(t,l,u,s))}})}),new n.AnimationClip("Animation",(i.frame_count-1)/t.PSO_FRAME_RATE,r).optimize()}},"7ZX1":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("TRid"),o=i("FXpb");i("ku4b");const s=i("4VsB");class r extends n.Widget{constructor(e,t){super(o.create_element("label",{class:"core_Label"}),t),this._text=new s.WidgetProperty(this,"",this.set_text),this.text=this._text,"string"==typeof e?this.set_text(e):this.disposable(this._text.bind_to(e)),this.finalize_construction(r.prototype)}set for(e){this.element.htmlFor=e}set_text(e){this.element.textContent=e}}t.Label=r},"8hIv":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=new DataView(new ArrayBuffer(4));t.reinterpret_i32_as_f32=function(e){return n.setInt32(0,e),n.getFloat32(0)},t.reinterpret_f32_as_i32=function(e){return n.setFloat32(0,e),n.getInt32(0)}},"9Onn":function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(i("GGSb")),s=i("yRp4"),r=o.default.get("data_formats/parsing/ninja/njcm");var a;function d(e,t,i){const n=[];let o=!0;for(;o;){const s=e.u8(),c=e.u8(),_=e.position;let p=0;if(0===s)n.push({type:a.Null,type_id:s});else if(1<=s&&s<=3)n.push({type:a.Bits,type_id:s});else if(4===s){const i=c,r=e.position;n.push({type:a.CachePolygonList,type_id:s,cache_index:i,offset:r}),t[i]=r,o=!1}else if(5===s){const o=c,r=t[o];null!=r&&(e.seek_start(r),n.push(...d(e,t,i))),n.push({type:a.DrawPolygonList,type_id:s,cache_index:o})}else if(8<=s&&s<=9){p=2;const t=e.u16();n.push({type:a.Tiny,type_id:s,flip_u:0!=(128&s),flip_v:0!=(64&s),clamp_u:0!=(32&s),clamp_v:0!=(16&s),mipmap_d_adjust:15&s,filter_mode:t>>>14,super_sample:0!=(64&t),texture_id:8191&t})}else 17<=s&&s<=31?(p=2+2*e.u16(),n.push({type:a.Material,type_id:s})):32<=s&&s<=50?(p=2+4*e.u16(),n.push({type:a.Vertex,type_id:s,vertices:l(e,s,c)})):56<=s&&s<=58?(p=2+2*e.u16(),n.push({type:a.Volume,type_id:s})):64<=s&&s<=75?(p=2+2*e.u16(),n.push({type:a.Strip,type_id:s,triangle_strips:u(e,s,c)})):255===s?(p=i?2:0,n.push({type:a.End,type_id:s}),o=!1):(p=2+2*e.u16(),n.push({type:a.Unknown,type_id:s}),r.warn(`Unknown chunk type ${s} at offset ${_}.`));e.seek_start(_+p)}return n}function l(e,t,i){if(t<32||t>50)return r.warn(`Unknown vertex chunk type ${t}.`),[];const n=3&i,o=0!=(128&i),a=e.u16(),d=e.u16(),l=[];for(let i=0;i<d;++i){const r={index:a+i,position:e.vec3_f32(),bone_weight:1,bone_weight_status:n,calc_continue:o};if(32===t)e.seek(4);else if(33===t)e.seek(4),r.normal=e.vec3_f32(),e.seek(4);else if(35<=t&&t<=40)37===t?(r.index=a+e.u16(),r.bone_weight=e.u16()/255):e.seek(4);else if(41<=t&&t<=47)r.normal=e.vec3_f32(),t>=42&&(44===t?(r.index=a+e.u16(),r.bone_weight=e.u16()/255):e.seek(4));else if(48<=t&&t<=50){const i=e.u32();r.normal=new s.Vec3((i>>20&1023)/1023,(i>>10&1023)/1023,(1023&i)/1023),t>=49&&e.seek(4)}l.push(r)}return l}function u(e,t,i){const n={ignore_light:0!=(1&i),ignore_specular:0!=(2&i),ignore_ambient:0!=(4&i),use_alpha:0!=(8&i),double_side:0!=(16&i),flat_shading:0!=(32&i),environment_mapping:0!=(64&i)},o=e.u16(),r=o>>>14,a=16383&o;let d=!1,l=!1,u=!1,c=!1;switch(t){case 64:break;case 65:case 66:d=!0;break;case 67:u=!0;break;case 68:case 69:d=!0,u=!0;break;case 70:l=!0;break;case 71:case 72:d=!0,l=!0;break;case 73:break;case 74:case 75:c=!0;break;default:throw new Error(`Unexpected chunk type ID: ${t}.`)}const _=[];for(let t=0;t<a;++t){const t=e.i16(),i=t<1,o=Math.abs(t),a=[];for(let t=0;t<o;++t){const i={index:e.u16()};a.push(i),d&&(i.tex_coords=new s.Vec2(e.u16()/255,e.u16()/255)),l&&e.seek(4),u&&(i.normal=new s.Vec3(e.u16()/255,e.u16()/255,e.u16()/255)),c&&e.seek(8),t>=2&&e.seek(2*r)}_.push(Object.assign({},n,{clockwise_winding:i,has_tex_coords:d,has_normal:u,vertices:a}))}return _}!function(e){e[e.Unknown=0]="Unknown",e[e.Null=1]="Null",e[e.Bits=2]="Bits",e[e.CachePolygonList=3]="CachePolygonList",e[e.DrawPolygonList=4]="DrawPolygonList",e[e.Tiny=5]="Tiny",e[e.Material=6]="Material",e[e.Vertex=7]="Vertex",e[e.Volume=8]="Volume",e[e.Strip=9]="Strip",e[e.End=10]="End"}(a||(a={})),t.parse_njcm_model=function(e,t){const i=e.u32(),n=e.u32(),o=e.vec3_f32(),s=e.f32(),r=[],l=[];if(i){e.seek_start(i);for(const i of d(e,t,!0))if(i.type===a.Vertex)for(const e of i.vertices)r[e.index]={position:e.position,normal:e.normal,bone_weight:e.bone_weight,bone_weight_status:e.bone_weight_status,calc_continue:e.calc_continue}}if(n){let i;e.seek_start(n);for(const n of d(e,t,!1))if(n.type===a.Tiny)i=n.texture_id;else if(n.type===a.Strip){for(const e of n.triangle_strips)e.texture_id=i;l.push(...n.triangle_strips)}}return{type:"njcm",vertices:r,meshes:l,collision_sphere_center:o,collision_sphere_radius:s}}},"9Ykw":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse_iff=function(e){const t=[];for(;e.bytes_left;){const i=e.u32(),n=e.u32();if(n>e.bytes_left)break;t.push({type:i,data:e.take(n)})}return t}},"9dYx":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("GuD3");t.AbstractWritableCursor=class extends n.AbstractCursor{write_u8(e){return this.ensure_size(1),this.dv.setUint8(this._position++,e),this}write_u16(e){return this.ensure_size(2),this.dv.setUint16(this.position,e,this.little_endian),this._position+=2,this}write_u32(e){return this.ensure_size(4),this.dv.setUint32(this.position,e,this.little_endian),this._position+=4,this}write_i8(e){return this.ensure_size(1),this.dv.setInt8(this.position,e),this._position+=1,this}write_i16(e){return this.ensure_size(2),this.dv.setInt16(this.position,e,this.little_endian),this._position+=2,this}write_i32(e){return this.ensure_size(4),this.dv.setInt32(this.position,e,this.little_endian),this._position+=4,this}write_f32(e){return this.ensure_size(4),this.dv.setFloat32(this.position,e,this.little_endian),this._position+=4,this}write_u8_array(e){return this.ensure_size(e.length),new Uint8Array(this.backing_buffer,this.offset+this.position).set(new Uint8Array(e)),this._position+=e.length,this}write_u16_array(e){this.ensure_size(2*e.length);const t=e.length;for(let i=0;i<t;i++)this.write_u16(e[i]);return this}write_u32_array(e){this.ensure_size(4*e.length);const t=e.length;for(let i=0;i<t;i++)this.write_u32(e[i]);return this}write_vec2_f32(e){return this.ensure_size(8),this.dv.setFloat32(this.position,e.x,this.little_endian),this.dv.setFloat32(this.position+4,e.y,this.little_endian),this._position+=8,this}write_vec3_f32(e){return this.ensure_size(12),this.dv.setFloat32(this.position,e.x,this.little_endian),this.dv.setFloat32(this.position+4,e.y,this.little_endian),this.dv.setFloat32(this.position+8,e.z,this.little_endian),this._position+=12,this}write_cursor(e){const t=e.size-e.position;return this.ensure_size(t),e.copy_to_uint8_array(new Uint8Array(this.backing_buffer,this.offset+this.position,t),t),this._position+=t,this}write_string_ascii(e,t){this.ensure_size(t);const i=Math.min(t,e.length);for(let t=0;t<i;t++)this.write_u8(e.codePointAt(t));let n=t-i;for(let e=0;e<n;e++)this.write_u8(0);return this}write_string_utf16(e,t){this.ensure_size(t);const i=Math.floor(t/2),n=Math.min(i,e.length);for(let t=0;t<n;t++)this.write_u16(e.codePointAt(t));let o=i-n;for(let e=0;e<o;e++)this.write_u16(0);return this}ensure_size(e){if(e>this.bytes_left)throw new Error(`${e} Bytes required but only ${this.bytes_left} available.`)}}},"9fJw":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CharacterClassModel=class{constructor(e,t,i,n){this.name=e,this.head_style_count=t,this.hair_styles_count=i,this.hair_styles_with_accessory=n}}},"AF+w":function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(i("GGSb")),s=i("bcBH"),r=i("NRxM"),a=i("/Wax"),d=i("tjEv"),l=o.default.get("core/data_formats/parsing/quest/qst");function u(e,t,i,n){e.write_u8_array([28,4,19,0]),e.write_u8(i),e.write_u8_array([0,0,0]),e.write_string_ascii(n,16);const o=Math.min(1024,t.bytes_left);e.write_cursor(t.take(o));for(let t=o;t<1024;++t)e.write_u8(0);return e.write_u32(o),e.write_u32(0),t.bytes_left>0}t.parse_qst=function(e){let t="PC";const i=e.u8();e.seek(1);const n=e.u8();if(68===i?t="Dreamcast/GameCube":88===i?68===n&&(t="Blue Burst"):166===i&&(t="Dreamcast download"),"Blue Burst"===t){e.seek_start(0);const i=function(e){const t=[];let i,n;for(let o=0;o<4;++o){e.seek(4);const o=e.u16();e.seek(38);const s=e.string_ascii(16,!0,!0),r=e.u32(),a=e.string_ascii(24,!0,!0);if(null!=i&&null!=n&&(o!==i||s.slice(0,5)!==n.slice(0,5))){e.seek(-88);break}i=o,n=s,t.push({quest_id:o,file_name:s,file_name_2:a,size:r})}return t}(e),n=function(e,t){const i=new Map;for(;e.bytes_left>=1056;){const n=e.position,o=e.seek(4).u8(),r=e.seek(3).string_ascii(16,!0,!0);let u=i.get(r);if(!u){const e=t.get(r);i.set(r,u={name:r,expected_size:e,cursor:new a.ResizableBufferCursor(new d.ResizableBuffer(e||10240),s.Endianness.Little),chunk_nos:new Set})}u.chunk_nos.has(o)?l.warn(`File chunk number ${o} of file ${r} was already encountered, overwriting previous chunk.`):u.chunk_nos.add(o);let c=e.seek(1024).u32();e.seek(-1028),c>1024&&(l.warn(`Data segment size of ${c} is larger than expected maximum size, reading just 1024 bytes.`),c=1024);const _=e.take(c),p=1024*o;if(u.cursor.size=Math.max(p+c,u.cursor.size),u.cursor.seek_start(p).write_cursor(_),e.seek(1032-_.size),e.position!==n+1056)throw new Error(`Read ${e.position-n} file chunk message bytes instead of expected 1056.`)}e.bytes_left&&l.warn(`${e.bytes_left} Bytes left in file.`);for(const e of i.values()){e.cursor.seek_start(0),e.chunk_nos=new Set(Array.from(e.chunk_nos.values()).sort((e,t)=>e-t)),null!=e.expected_size&&e.cursor.size!==e.expected_size&&l.warn(`File ${e.name} has an actual size of ${e.cursor.size} instead of the expected size ${e.expected_size}.`);const t=Math.max(e.cursor.size,e.expected_size||0);for(let i=0;i<Math.ceil(t/1024);++i)e.chunk_nos.has(i)||l.warn(`File ${e.name} is missing chunk ${i}.`)}const n=[];for(const e of i.values())n.push({name:e.name,data:e.cursor.seek_start(0).array_buffer()});return n}(e,new Map(i.map(e=>[e.file_name,e.size])));for(const e of n){const t=i.find(t=>t.file_name===e.name);t&&(e.id=t.quest_id,e.name_2=t.file_name_2)}return{version:t,files:n}}l.error(`Can't parse ${t} QST files.`)},t.write_qst=function(e){const t=e.files,i=t.map(e=>88+1056*Math.ceil(e.data.byteLength/1024)).reduce((e,t)=>e+t),n=new ArrayBuffer(i),o=new r.ArrayBufferCursor(n,s.Endianness.Little);if(function(e,t){for(const i of t){if(i.name.length>15)throw new Error(`File ${i.name} has a name longer than 15 characters.`);e.write_u16(88),e.write_u16(68),e.write_u16(i.id||0);for(let t=0;t<38;++t)e.write_u8(0);let t;if(e.write_string_ascii(i.name,16),e.write_u32(i.data.byteLength),null==i.name_2){const e=i.name.lastIndexOf(".");t=-1===e?i.name+"_j":i.name.slice(0,e)+"_j"+i.name.slice(e)}else t=i.name_2;if(t.length>24)throw Error(`File ${i.name} has a file_name_2 length (${t}) longer than 24 characters.`);e.write_string_ascii(t,24)}}(o,t),function(e,t){const i=t.map(e=>({no:0,data:new r.ArrayBufferCursor(e.data,s.Endianness.Little),name:e.name}));let n=0;for(;n<i.length;)for(const t of i)t.data.bytes_left&&(u(e,t.data,t.no++,t.name)||n++);for(const e of i){const t=Math.ceil(e.data.size/1024);if(e.no!==t)throw new Error(`Expected to write ${t} chunks for file "${e.name}" but ${e.no} where written.`)}}(o,t),o.position!==i)throw new Error(`Expected a final file size of ${i}, but got ${o.position}.`);return n}},AU7j:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("ZPAt");var o;!function(e){e[e.None=0]="None",e[e.Return=1]="Return",e[e.Jump=2]="Jump",e[e.ConditionalJump=3]="ConditionalJump",e[e.Call=4]="Call"}(o=t.BranchType||(t.BranchType={}));class s{constructor(e,t,i,n,o){this.from=[],this.to=[],this.segment=e,this.start=t,this.end=i,this.branch_type=n,this.branch_labels=o}link_to(e){this.to.includes(e)||(this.to.push(e),e.from.push(this))}index_of_instruction(e){const t=this.segment.instructions.indexOf(e,this.start);return t<this.end?t:-1}}t.BasicBlock=s;class r{constructor(){this.blocks=[],this.instructions_to_block=new Map,this.labels_to_block=new Map}get_block_for_instruction(e){return this.instructions_to_block.get(e)}static create(e){const t=new r;for(const i of e)this.create_basic_blocks(t,i);return this.link_blocks(t),t}static create_basic_blocks(e,t){const i=t.instructions.length;let r=0,a=!0;for(let d=0;d<i;d++){const l=t.instructions[d];let u,c;switch(l.opcode){case n.Opcode.RET:u=o.Return,c=[];break;case n.Opcode.JMP:u=o.Jump,c=[l.args[0].value];break;case n.Opcode.JMP_ON:case n.Opcode.JMP_OFF:u=o.ConditionalJump,c=[l.args[0].value];break;case n.Opcode.JMP_E:case n.Opcode.JMPI_E:case n.Opcode.JMP_NE:case n.Opcode.JMPI_NE:case n.Opcode.UJMP_G:case n.Opcode.UJMPI_G:case n.Opcode.JMP_G:case n.Opcode.JMPI_G:case n.Opcode.UJMP_L:case n.Opcode.UJMPI_L:case n.Opcode.JMP_L:case n.Opcode.JMPI_L:case n.Opcode.UJMP_GE:case n.Opcode.UJMPI_GE:case n.Opcode.JMP_GE:case n.Opcode.JMPI_GE:case n.Opcode.UJMP_LE:case n.Opcode.UJMPI_LE:case n.Opcode.JMP_LE:case n.Opcode.JMPI_LE:u=o.ConditionalJump,c=[l.args[2].value];break;case n.Opcode.SWITCH_JMP:u=o.ConditionalJump,c=l.args.slice(1).map(e=>e.value);break;case n.Opcode.CALL:case n.Opcode.VA_CALL:u=o.Call,c=[l.args[0].value];break;case n.Opcode.SWITCH_CALL:u=o.Call,c=l.args.slice(1).map(e=>e.value);break;default:if(d===i-1){u=o.None,c=[];break}continue}const _=new s(t,r,d+1,u,c);for(let t=_.start;t<_.end;t++)e.instructions_to_block.set(_.segment.instructions[t],_);if(e.blocks.push(_),a){for(const i of t.labels)e.labels_to_block.set(i,_);a=!1}r=d+1}}static link_blocks(e){const t=[];for(let i=0;i<e.blocks.length;i++){const n=e.blocks[i],s=e.blocks[i+1];switch(n.branch_type){case o.Return:continue;case o.Call:s&&t.push([n,s]);break;case o.None:case o.ConditionalJump:s&&n.link_to(s)}for(const t of n.branch_labels){const i=e.labels_to_block.get(t);i&&n.link_to(i)}}for(const[i,n]of t)a(e.labels_to_block,n,i)}}function a(e,t,i){for(const n of i.branch_labels){const i=e.get(n);i&&(i.branch_type===o.Return?i.link_to(t):d(new Set,t,i))}}function d(e,t,i){if(!e.has(i)){e.add(i);for(const n of i.to)n.branch_type===o.Return?n.link_to(t):d(e,t,n)}}t.ControlFlowGraph=r},AUhH:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LoadingCache=class{constructor(){this.map=new Map}set(e,t){this.map.set(e,t)}get_or_set(e,t){let i=this.map.get(e);return void 0===i&&(i=t(),this.map.set(e,i)),i}}},CUby:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(i("GGSb")),s=i("ZPAt"),r=i("4s8/"),a=o.default.get("quest_editor/scripting/data_flow_analysis/register_value");t.MIN_REGISTER_VALUE=s.MIN_SIGNED_DWORD_VALUE,t.MAX_REGISTER_VALUE=s.MAX_SIGNED_DWORD_VALUE,t.REGISTER_VALUES=Math.pow(2,32),t.register_value=function(e,i,n){const o=e.get_block_for_instruction(i);return o?function e(i,n,o,d,l){if(++i.iterations>100)return a.warn("Too many iterations."),(new r.ValueSet).set_interval(t.MIN_REGISTER_VALUE,t.MAX_REGISTER_VALUE);for(let a=d-1;a>=o.start;a--){const d=o.segment.instructions[a],u=d.args;switch(d.opcode){case s.Opcode.LET:if(u[0].value===l)return e(i,new Set(n),o,a,u[1].value);break;case s.Opcode.LETI:case s.Opcode.LETB:case s.Opcode.LETW:case s.Opcode.SYNC_LETI:if(u[0].value===l)return(new r.ValueSet).set_value(u[1].value);break;case s.Opcode.SET:if(u[0].value===l)return(new r.ValueSet).set_value(1);break;case s.Opcode.CLEAR:if(u[0].value===l)return(new r.ValueSet).set_value(0);break;case s.Opcode.REV:if(u[0].value===l){const t=e(i,new Set(n),o,a,l),s=t.size();return 0===s||1===s&&0===t.get(0)?(new r.ValueSet).set_value(1):t.has(0)?(new r.ValueSet).set_interval(0,1):(new r.ValueSet).set_value(0)}break;case s.Opcode.ADDI:if(u[0].value===l){const t=e(i,new Set(n),o,a,l);return t.scalar_add(u[1].value)}break;case s.Opcode.SUBI:if(u[0].value===l){const t=e(i,new Set(n),o,a,l);return t.scalar_sub(u[1].value)}break;case s.Opcode.MULI:if(u[0].value===l){const t=e(i,new Set(n),o,a,l);return t.scalar_mul(u[1].value)}break;case s.Opcode.DIVI:if(u[0].value===l){const t=e(i,new Set(n),o,a,l);return t.scalar_div(u[1].value)}break;case s.Opcode.IF_ZONE_CLEAR:if(u[0].value===l)return(new r.ValueSet).set_interval(0,1);break;case s.Opcode.GET_DIFFLVL:if(u[0].value===l)return(new r.ValueSet).set_interval(0,2);break;case s.Opcode.GET_SLOTNUMBER:if(u[0].value===l)return(new r.ValueSet).set_interval(0,3);break;case s.Opcode.GET_RANDOM:if(u[1].value===l){const t=e(i,new Set(n),o,a,u[0].value).min()||0,s=Math.max(e(i,new Set(n),o,a,u[0].value+1).max()||0,t+1);return(new r.ValueSet).set_interval(t,s-1)}break;case s.Opcode.STACK_PUSHM:case s.Opcode.STACK_POPM:{const e=u[0].value,i=u[0].value+u[1].value;if(e<=l&&l<i)return(new r.ValueSet).set_interval(t.MIN_REGISTER_VALUE,t.MAX_REGISTER_VALUE)}break;default:{const e=d.opcode.params,i=Math.min(u.length,e.length);for(let n=0;n<i;n++){const i=e[n];if(i.type.kind==s.Kind.RegTupRef){const e=u[n].value;let o=0;for(const n of i.type.register_tuples){if((n.access===s.ParamAccess.Write||n.access===s.ParamAccess.ReadWrite)&&e+o===l)return(new r.ValueSet).set_interval(t.MIN_REGISTER_VALUE,t.MAX_REGISTER_VALUE);o++}}}}}}const u=new r.ValueSet;n.add(o);for(const s of o.from){if(n.has(s)){u.set_interval(t.MIN_REGISTER_VALUE,t.MAX_REGISTER_VALUE);break}u.union(e(i,new Set(n),s,s.end,l))}return u}(new d,new Set,o,o.index_of_instruction(i),n):new r.ValueSet};class d{constructor(){this.iterations=0}}},CpvQ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("0Xme"),o=i("ExVU");i("vlF3");class s extends n.Input{constructor(e=o.Duration.fromMillis(0),t){super(e,"core_DurationInput","text","core_DurationInput_inner",t),this.preferred_label_position="left",this.input_element.pattern="(60|[0-5][0-9]):(60|[0-5][0-9])",this.set_value(e),this.finalize_construction(s.prototype)}get_value(){const e=this.input_element.value;if(this.input_element.validity.valid)return o.Duration.fromObject({hours:parseInt(e.slice(0,2),10),minutes:parseInt(e.slice(3),10)});{const t=e.indexOf(":");return-1===t?o.Duration.fromObject({minutes:parseInt(e,10)}):o.Duration.fromObject({hours:parseInt(e.slice(0,t),10),minutes:parseInt(e.slice(t+1),10)})}}set_value(e){this.input_element.value=e.toFormat("hh:mm")}}t.DurationInput=s},DUCy:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("nN8q"),o=i("FXpb"),s=i("wsa1"),r=i("S6Bx");s.editor.defineTheme("phantasmal-world",{base:"vs-dark",inherit:!0,rules:[{token:"",foreground:"e0e0e0",background:"#181818"},{token:"tag",foreground:"99bbff"},{token:"keyword",foreground:"d0a0ff",fontStyle:"bold"},{token:"predefined",foreground:"bbffbb"},{token:"number",foreground:"ffffaa"},{token:"number.hex",foreground:"ffffaa"},{token:"string",foreground:"88ffff"},{token:"string.escape",foreground:"8888ff"}],colors:{"editor.background":"#181818","editor.lineHighlightBackground":"#202020"}});const a=s.editor.createModel("","psoasm");class d extends n.ResizableWidget{constructor(){super(o.el.div()),this.editor=this.disposable(s.editor.create(this.element,{theme:"phantasmal-world",scrollBeyondLastLine:!1,autoIndent:!0,fontSize:13,wordBasedSuggestions:!1,wordWrap:"on",wrappingIndent:"indent",renderIndentGuides:!1,folding:!1})),this.disposables(r.asm_editor_store.did_undo.observe(({value:e})=>{this.editor.trigger(e,"undo",void 0)}),r.asm_editor_store.did_redo.observe(({value:e})=>{this.editor.trigger(e,"redo",void 0)}),r.asm_editor_store.model.observe(({value:e})=>{this.editor.updateOptions({readOnly:null==e}),this.editor.setModel(e||a)},{call_now:!0}),this.editor.onDidFocusEditorWidget(()=>r.asm_editor_store.undo.make_current())),this.finalize_construction(d.prototype)}focus(){this.editor.focus()}resize(e,t){return this.editor.layout({width:e,height:t}),this}}t.AsmEditorView=d},DixV:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(i("GGSb")),s=i("bcBH"),r=i("AU7j"),a=i("CUby"),d=i("JQxC"),l=i("lg9k"),u=i("ZPAt"),c=i("NRxM"),_=i("/Wax"),p=i("tjEv"),v=o.default.get("data_formats/parsing/quest/bin");class h{constructor(e,t,i,n,o,s,r){this.quest_id=e,this.language=t,this.quest_name=i,this.short_description=n,this.long_description=o,this.object_code=s,this.shop_items=r}}t.BinFile=h;const w=[];w[l.SegmentType.Instructions]=2,w[l.SegmentType.String]=1,w[l.SegmentType.Data]=0,t.parse_bin=function(e,t=[0],i=!1){const n=e.u32(),o=e.u32(),s=e.u32();e.seek(4);const d=e.u32(),c=e.u32(),_=e.string_utf16(64,!0,!0),p=e.string_utf16(256,!0,!0),w=e.string_utf16(576,!0,!0);s!==e.size&&v.warn(`Value ${s} in bin size field does not match actual size ${e.size}.`),e.seek(4);const O=e.u32_array(932),b=Math.floor((e.size-o)/4);e.seek_start(o);const E=e.i32_array(b),S=new f(E),R=function(e,t,i,n){const o=new Map;!function(e,t,i,n,o){let s;do{s=n.size;for(const[s,r]of i)g(n,t,e,s,r,o);const d=[...n.entries()].filter(([,e])=>e.type===l.SegmentType.Instructions).sort(([e],[t])=>e-t).map(([,e])=>e),c=r.ControlFlowGraph.create(d);i=new Map;for(const e of d)for(const t of e.instructions)for(let e=0;e<t.opcode.params.length;e++){const n=t.opcode.params[e];switch(n.type.kind){case u.Kind.ILabel:m(c,i,t,e,l.SegmentType.Instructions);break;case u.Kind.ILabelVar:for(;e<t.args.length;e++)i.set(t.args[e].value,l.SegmentType.Instructions);break;case u.Kind.DLabel:m(c,i,t,e,l.SegmentType.Data);break;case u.Kind.SLabel:m(c,i,t,e,l.SegmentType.String);break;case u.Kind.RegTupRef:{const o=t.args[e];for(let e=0;e<n.type.register_tuples.length;e++){const s=n.type.register_tuples[e];if(s.type.kind===u.Kind.ILabel){const n=a.register_value(c,t,o.value+e);if(n.size()<=10)for(const e of n)i.set(e,l.SegmentType.Instructions)}}}}}}while(n.size>s)}(e,t,i.reduce((e,t)=>e.set(t,l.SegmentType.Instructions),new Map),o,n);const s=[];let d=0;for(;d<e.size;){let i=o.get(d);if(!i){const n=t.get_labels(d);let s;if(n){const i=t.get_info(n[0]);s=i.next?i.next.offset:e.size}else{s=e.size;for(const e of t.labels)if(e.offset>d){s=e.offset;break}}if(e.seek_start(d),y(o,e,s,n||[]),i=o.get(d),s<=d){v.error(`Next offset ${s} was smaller than or equal to current offset ${d}.`);break}if(!i){v.error(`Couldn't create segment for offset ${d}.`);continue}}switch(s.push(i),i.type){case l.SegmentType.Instructions:for(const e of i.instructions)d+=e.size;break;case l.SegmentType.Data:d+=i.data.byteLength;break;case l.SegmentType.String:d+=4*Math.ceil((i.value.length+1)/2);break;default:throw new Error(`${l.SegmentType[i.type]} not implemented.`)}}for(const{label:e,offset:i}of t.labels){const t=o.get(i);t?t.labels.includes(e)||(t.labels.push(e),t.labels.sort((e,t)=>e-t)):v.warn(`Label ${e} with offset ${i} does not point to anything.`)}if(e.size!==d){const t=`Expected to parse ${e.size} bytes but parsed ${d} instead.`;if(!n)throw new Error(t);v.error(t)}return s}(e.seek_start(n).take(o-n),S,t,i);return new h(d,c,_,p,w,R,O)},t.write_bin=function(e){const t=new p.ResizableBuffer(4652+100*e.object_code.length),i=new _.ResizableBufferCursor(t,s.Endianness.Little);if(i.write_u32(4652),i.write_u32(0),i.write_u32(0),i.write_u32(4294967295),i.write_u32(e.quest_id),i.write_u32(e.language),i.write_string_utf16(e.quest_name,64),i.write_string_utf16(e.short_description,256),i.write_string_utf16(e.long_description,576),i.write_u32(0),e.shop_items.length>932)throw new Error(`shop_items can't be larger than 932, was ${e.shop_items.length}.`);i.write_u32_array(e.shop_items);for(let t=e.shop_items.length;t<932;t++)i.write_u32(0);for(;i.position<4652;)i.write_u8(0);const{size:n,label_offsets:o}=function(e,t){const i=e.position,n=[];for(const o of t){for(const t of o.labels)n[t]=e.position-i;if(o.type===l.SegmentType.Instructions)for(const t of o.instructions){const i=t.opcode;if(2===i.size&&e.write_u8(i.code>>>8),e.write_u8(255&i.code),i.stack!==u.StackInteraction.Pop)for(let n=0;n<i.params.length;n++){const o=i.params[n],s=t.param_to_args[n],[r]=s;switch(o.type.kind){case u.Kind.Byte:r.value>=0?e.write_u8(r.value):e.write_i8(r.value);break;case u.Kind.Word:r.value>=0?e.write_u16(r.value):e.write_i16(r.value);break;case u.Kind.DWord:r.value>=0?e.write_u32(r.value):e.write_i32(r.value);break;case u.Kind.Float:e.write_f32(r.value);break;case u.Kind.Label:case u.Kind.ILabel:case u.Kind.DLabel:case u.Kind.SLabel:e.write_u16(r.value);break;case u.Kind.String:e.write_string_utf16(r.value,r.size);break;case u.Kind.ILabelVar:e.write_u8(s.length),e.write_u16_array(s.map(e=>e.value));break;case u.Kind.RegRef:case u.Kind.RegTupRef:e.write_u8(r.value);break;case u.Kind.RegRefVar:e.write_u8(s.length),e.write_u8_array(s.map(e=>e.value));break;default:throw new Error(`Parameter type ${u.Kind[o.type.kind]} not implemented.`)}}}else if(o.type===l.SegmentType.String){const t=4*Math.ceil((o.value.length+1)/2);e.write_string_utf16(o.value,t)}else e.write_cursor(new c.ArrayBufferCursor(o.data,e.endianness))}return{size:e.position-i,label_offsets:n}}(i,e.object_code);for(let e=0;e<o.length;e++){const t=o[e];null==t?i.write_i32(-1):i.write_i32(t)}const r=i.position;return i.seek_start(4),i.write_u32(4652+n),i.write_u32(r),i.seek_start(0).array_buffer(r)};class f{constructor(e){this.labels=[],this.label_map=new Map,this.offset_map=new Map;for(let t=0;t<e.length;t++){const i=e[t];-1!==i&&this.labels.push({label:t,offset:i})}this.labels.sort((e,t)=>e.offset-t.offset||e.label-t.label);for(let e=0;e<this.labels.length;e++){const{label:t,offset:i}=this.labels[e];this.label_map.set(t,{offset:i,index:e});const n=this.offset_map.get(i)||[];n.push(t),this.offset_map.set(i,n)}}get_labels(e){return this.offset_map.get(e)}get_info(e){const t=this.label_map.get(e);if(null==t)return;let i;for(let e=t.index+1;e<this.labels.length&&!((i=this.labels[e]).offset>t.offset);e++)i=void 0;return{offset:t.offset,next:i}}}function m(e,t,i,n,o){if(i.opcode.stack===u.StackInteraction.Pop){const s=d.stack_value(e,i,i.opcode.params.length-n-1);if(s.size()<=10)for(const e of s){const i=t.get(e);(null==i||w[o]>w[i])&&t.set(e,o)}}else{const e=i.args[n].value,s=t.get(e);(null==s||w[o]>w[s])&&t.set(e,o)}}function g(e,t,i,n,o,s){try{const r=t.get_info(n);if(null==r)return void v.warn(`Label ${n} is not registered in the label table.`);let a,d=e.get(r.offset);if(d){if(d.labels.includes(n)||(d.labels.push(n),d.labels.sort((e,t)=>e-t)),!(w[o]>w[d.type]))return;a=d.labels}else a=[n];const c=r.next?r.next.offset:i.size;switch(i.seek_start(r.offset),o){case l.SegmentType.Instructions:!function(e,t,i,n,o,s,r){const a=[],d={type:l.SegmentType.Instructions,labels:o,instructions:a};e.set(i.position,d);for(;i.position<n;){const e=i.u8();let t;switch(e){case 248:case 249:t=e<<8|i.u8();break;default:t=e}let n=u.OPCODES[t];try{const e=O(i,n);a.push(new l.Instruction(n,e))}catch(e){if(!r)throw e;v.error(`Exception occurred while parsing arguments for instruction ${n.mnemonic}.`,e),a.push(new l.Instruction(n,[]))}}if(null!=s){let n=!0;for(let e=a.length-1;e>=0;e--){const t=a[e].opcode;if(t===u.Opcode.RET||t===u.Opcode.JMP){n=!1;break}}n&&g(e,t,i,s,l.SegmentType.Instructions,r)}}(e,t,i,c,a,r.next&&r.next.label,s);break;case l.SegmentType.Data:y(e,i,c,a);break;case l.SegmentType.String:!function(e,t,i,n){const o=t.position,s={type:l.SegmentType.String,labels:n,value:t.string_utf16(i-o,!0,!0)};e.set(o,s)}(e,i,c,a);break;default:throw new Error(`Segment type ${l.SegmentType[o]} not implemented.`)}}catch(e){if(!s)throw e;v.error("Couldn't fully parse object code segment.",e)}}function y(e,t,i,n){const o=t.position,s={type:l.SegmentType.Data,labels:n,data:t.array_buffer(i-o)};e.set(o,s)}function O(e,t){const i=[];if(t.stack!==u.StackInteraction.Pop)for(const n of t.params)switch(n.type.kind){case u.Kind.Byte:i.push({value:e.u8(),size:1});break;case u.Kind.Word:i.push({value:e.u16(),size:2});break;case u.Kind.DWord:i.push({value:e.i32(),size:4});break;case u.Kind.Float:i.push({value:e.f32(),size:4});break;case u.Kind.Label:case u.Kind.ILabel:case u.Kind.DLabel:case u.Kind.SLabel:i.push({value:e.u16(),size:2});break;case u.Kind.String:{const t=e.position;i.push({value:e.string_utf16(Math.min(4096,e.bytes_left),!0,!1),size:e.position-t})}break;case u.Kind.ILabelVar:{const t=e.u8();i.push(...e.u16_array(t).map(e=>({value:e,size:2})))}break;case u.Kind.RegRef:case u.Kind.RegTupRef:i.push({value:e.u8(),size:1});break;case u.Kind.RegRefVar:{const t=e.u8();i.push(...e.u8_array(t).map(e=>({value:e,size:1})))}break;default:throw new Error(`Parameter type ${u.Kind[n.type.kind]} not implemented.`)}return i}},DuVK:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(i("GGSb")),s=i("LvDl"),r=i("bcBH"),a=i("/Wax"),d=i("tjEv"),l=i("yRp4"),u=o.default.get("data_formats/parsing/quest/dat"),c=68,_=72;t.parse_dat=function(e){const t=[],i=[],n=[];for(;e.bytes_left;){const o=e.u32(),s=e.u32(),r=e.u32(),a=e.u32();if(0===o)break;if(a!==s-16)throw Error(`Malformed DAT file. Expected an entities size of ${s-16}, got ${a}.`);if(1===o){const i=Math.floor(a/c),n=e.position;for(let n=0;n<i;++n){const i=e.u16(),n=e.u8_array(6),o=e.u16(),s=e.u16(),a=e.u16(),d=e.u8_array(2),u=e.vec3_f32(),c=new l.Vec3(e.i32()/65535*2*Math.PI,e.i32()/65535*2*Math.PI,e.i32()/65535*2*Math.PI),_=[e.f32(),e.f32(),e.f32(),e.u32(),e.u32(),e.u32(),e.u32()];t.push({type_id:i,id:o,group_id:s,section_id:a,position:u,rotation:c,properties:_,area_id:r,unknown:[n,d]})}const s=e.position-n;s!==a&&(u.warn(`Read ${s} bytes instead of expected ${a} for entity type ${o} (Object).`),e.seek(a-s))}else if(2===o){const t=Math.floor(a/_),n=e.position;for(let n=0;n<t;++n){const t=e.u16(),n=e.u8_array(10),o=e.u16(),s=e.u8_array(6),a=e.vec3_f32(),d=e.i32()/65535*2*Math.PI,u=e.i32()/65535*2*Math.PI,c=e.i32()/65535*2*Math.PI,_=e.vec3_f32(),p=e.f32(),v=e.f32(),h=e.u32(),w=e.u8_array(4);i.push({type_id:t,section_id:o,position:a,rotation:new l.Vec3(d,u,c),scale:_,npc_id:p,script_label:v,roaming:h,area_id:r,unknown:[n,s,w]})}const s=e.position-n;s!==a&&(u.warn(`Read ${s} bytes instead of expected ${a} for entity type ${o} (NPC).`),e.seek(a-s))}else n.push({entity_type:o,total_size:s,area_id:r,entities_size:a,data:e.u8_array(a)})}return{objs:t,npcs:i,unknowns:n}},t.write_dat=function({objs:e,npcs:t,unknowns:i}){const n=new d.ResizableBuffer(e.length*(16+c)+t.length*(16+_)+i.reduce((e,t)=>e+t.total_size,0)),o=new a.ResizableBufferCursor(n,r.Endianness.Little),l=s.groupBy(e,e=>e.area_id),u=Object.keys(l).map(e=>parseInt(e,10)).sort((e,t)=>e-t);for(const e of u){const t=l[e],i=t.length*c;o.write_u32(1),o.write_u32(i+16),o.write_u32(e),o.write_u32(i);for(const e of t){if(2!==e.unknown.length)throw new Error(`unknown should be of length 2, was ${e.unknown.length}`);if(o.write_u16(e.type_id),6!==e.unknown[0].length)throw new Error(`unknown[0] should be of length 6, was ${e.unknown[0].length}`);if(o.write_u8_array(e.unknown[0]),o.write_u16(e.id),o.write_u16(e.group_id),o.write_u16(e.section_id),2!==e.unknown[1].length)throw new Error(`unknown[1] should be of length 2, was ${e.unknown[1].length}`);if(o.write_u8_array(e.unknown[1]),o.write_vec3_f32(e.position),o.write_i32(Math.round(e.rotation.x/(2*Math.PI)*65535)),o.write_i32(Math.round(e.rotation.y/(2*Math.PI)*65535)),o.write_i32(Math.round(e.rotation.z/(2*Math.PI)*65535)),7!==e.properties.length)throw new Error(`properties should be of length 7, was ${e.properties.length}`);o.write_f32(e.properties[0]),o.write_f32(e.properties[1]),o.write_f32(e.properties[2]),o.write_u32(e.properties[3]),o.write_u32(e.properties[4]),o.write_u32(e.properties[5]),o.write_u32(e.properties[6])}}const p=s.groupBy(t,e=>e.area_id),v=Object.keys(p).map(e=>parseInt(e,10)).sort((e,t)=>e-t);for(const e of v){const t=p[e],i=t.length*_;o.write_u32(2),o.write_u32(i+16),o.write_u32(e),o.write_u32(i);for(const e of t){if(3!==e.unknown.length)throw new Error(`unknown should be of length 3, was ${e.unknown.length}`);if(o.write_u16(e.type_id),10!==e.unknown[0].length)throw new Error(`unknown[0] should be of length 10, was ${e.unknown[0].length}`);if(o.write_u8_array(e.unknown[0]),o.write_u16(e.section_id),6!==e.unknown[1].length)throw new Error(`unknown[1] should be of length 6, was ${e.unknown[1].length}`);if(o.write_u8_array(e.unknown[1]),o.write_vec3_f32(e.position),o.write_i32(Math.round(e.rotation.x/(2*Math.PI)*65535)),o.write_i32(Math.round(e.rotation.y/(2*Math.PI)*65535)),o.write_i32(Math.round(e.rotation.z/(2*Math.PI)*65535)),o.write_vec3_f32(e.scale),o.write_f32(e.npc_id),o.write_f32(e.script_label),o.write_u32(e.roaming),4!==e.unknown[2].length)throw new Error(`unknown[2] should be of length 4, was ${e.unknown[2].length}`);o.write_u8_array(e.unknown[2])}}for(const e of i)o.write_u32(e.entity_type),o.write_u32(e.total_size),o.write_u32(e.area_id),o.write_u32(e.entities_size),o.write_u8_array(e.data);return o.write_u32(0),o.write_u32(0),o.write_u32(0),o.write_u32(0),n}},"E/0a":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("0Xme");class o extends n.Input{constructor(e="",t){if(super(e,"core_TextInput","text","core_TextInput_inner",t),this.preferred_label_position="left",t){const{max_length:e}=t;this.set_attr("maxLength",e)}this.set_value(e),this.finalize_construction(o.prototype)}get_value(){return this.input_element.value}set_value(e){this.input_element.value=e}}t.TextInput=o},ETgL:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("sDu+"),o=i("FXpb");i("C5oP");const s=i("4VsB");class r extends n.LabelledControl{constructor(e="",t){super(o.el.div({class:"core_TextArea"}),t),this.preferred_label_position="left",this.text_element=o.el.textarea({class:"core_TextArea_inner"}),this._value=new s.WidgetProperty(this,"",this.set_value),t&&(null!=t.max_length&&(this.text_element.maxLength=t.max_length),null!=t.font_family&&(this.text_element.style.fontFamily=t.font_family),null!=t.rows&&(this.text_element.rows=t.rows),null!=t.cols&&(this.text_element.cols=t.cols)),this.value=this._value,this.set_value(e),this.text_element.onchange=()=>this._value.set_val(this.text_element.value,{silent:!1}),this.element.append(this.text_element),this.finalize_construction(r.prototype)}set_value(e){this.text_element.value=e}}t.TextArea=r},Eqai:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("Womt"),o=new n.MeshLambertMaterial({color:65280,side:n.DoubleSide}),s=new n.MeshLambertMaterial({color:16711935,side:n.DoubleSide}),r=new n.MeshLambertMaterial({skinning:!0,color:16711935,side:n.DoubleSide});function a(e,t,i,s){const{created_by_geometry_builder:r,normalized_material_indices:a,bones:d}=e.userData;let l;if(Array.isArray(t))if(r){l=[o];for(const[e,n]of a.entries())n>0&&(l[n]=t[e]||i)}else l=t;else l=t||i;const u=new s(e,l);return r&&d.length&&u instanceof n.SkinnedMesh&&(u.add(d[0]),u.bind(new n.Skeleton(d))),u}t.create_mesh=function(e,t,i=s){return a(e,t,i,n.Mesh)},t.create_skinned_mesh=function(e,t,i=r){return a(e,t,i,n.SkinnedMesh)}},F0Xh:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("FXpb"),o=i("nN8q");i("bknw");class s extends o.ResizableWidget{constructor(){super(n.el.div({class:"hunt_optimizer_HelpView"},n.el.p({text:"Add some items with the combo box on the left to see the optimal combination of hunt methods on the right."}),n.el.p({text:'At the moment a hunt method is simply a quest run-through. Partial quest run-throughs are coming. View the list of methods on the "Methods" tab. Each method takes a certain amount of time, which affects the optimization result. Make sure the times are correct for you.'}),n.el.p({text:"Only enemy drops are considered. Box drops are coming."}),n.el.p({text:"The optimal result is calculated using linear optimization. The optimizer takes into account rare enemies and the fact that pan arms can be split in two."}))),this.finalize_construction(s.prototype)}}t.HelpView=s},FNQV:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("nN8q"),o=i("FXpb"),s=i("If1w");i("l8iQ");const r=i("WJtm");class a extends n.ResizableWidget{constructor(){super(o.el.div({class:"hunt_optimizer_OptimizerView"})),this.element.append(this.disposable(new s.WantedItemsView).element,this.disposable(new r.OptimizationResultView).element),this.finalize_construction(a.prototype)}}t.OptimizerView=a},FXpb:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("jJhE"),o=i("nsCy");function s(e,t,...i){const n=document.createElement(e);if(t){if(t.class&&(n.className=t.class),t.text&&(n.textContent=t.text),t.title&&(n.title=t.title),t.href&&(n.href=t.href),t.data)for(const[e,i]of Object.entries(t.data))n.dataset[e]=i;t.col_span&&(n.colSpan=t.col_span),t.tab_index&&(n.tabIndex=t.tab_index)}return n.append(...i),n}var r;t.el={div:(e,...t)=>s("div",e,...t),span:(e,...t)=>s("span",e,...t),h2:(e,...t)=>s("h2",e,...t),p:(e,...t)=>s("p",e,...t),a:(e,...t)=>{const i=s("a",e,...t);return e&&e.href&&e.href.trimLeft().startsWith("http")&&(i.target="_blank",i.rel="noopener noreferrer"),i},table:(e,...t)=>s("table",e,...t),thead:(e,...t)=>s("thead",e,...t),tbody:(e,...t)=>s("tbody",e,...t),tfoot:(e,...t)=>s("tfoot",e,...t),tr:(e,...t)=>s("tr",e,...t),th:(e,...t)=>s("th",e,...t),td:(e,...t)=>s("td",e,...t),button:(e,...t)=>s("button",e,...t),textarea:(e,...t)=>s("textarea",e,...t)},t.create_element=s,t.bind_hidden=function(e,t){return n.is_property(t)&&(e.hidden=t.val),t.observe(({value:t})=>e.hidden=t)},function(e){e[e.File=0]="File",e[e.NewFile=1]="NewFile",e[e.Save=2]="Save",e[e.TriangleUp=3]="TriangleUp",e[e.TriangleDown=4]="TriangleDown",e[e.Undo=5]="Undo",e[e.Redo=6]="Redo",e[e.Remove=7]="Remove",e[e.GitHub=8]="GitHub"}(r=t.Icon||(t.Icon={})),t.icon=function(e){let i;switch(e){case r.File:i="fas fa-file";break;case r.NewFile:i="fas fa-file-medical";break;case r.Save:i="fas fa-save";break;case r.TriangleUp:i="fas fa-caret-up";break;case r.TriangleDown:i="fas fa-caret-down";break;case r.Undo:i="fas fa-undo";break;case r.Redo:i="fas fa-redo";break;case r.Remove:i="fas fa-trash-alt";break;case r.GitHub:i="fab fa-github"}return t.el.span({class:i})},t.section_id_icon=function(e,i){const n=t.el.span(),s=i&&i.size;return n.style.display="inline-block",n.style.width=`${s}px`,n.style.height=`${s}px`,n.style.backgroundImage=`url(/assets/images/sectionids/${o.SectionId[e]}.png)`,n.style.backgroundSize=`${s}px`,n.title=o.SectionId[e],n},t.disposable_listener=function(e,t,i,n){return e.addEventListener(t,i,n),{dispose(){e.removeEventListener(t,i)}}}},Ftn7:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const s=n(i("pVCM")),r=o(i("Womt")),a=i("Womt");s.default.install({THREE:Object.assign({},r,{MOUSE:Object.assign({},r.MOUSE,{LEFT:r.MOUSE.RIGHT,RIGHT:r.MOUSE.LEFT})})});t.Renderer=class{constructor(e){this._debug=!1,this.scene=new a.Scene,this.light_holder=new a.Group,this.renderer=new a.WebGLRenderer({antialias:!0}),this.render_scheduled=!1,this.animation_frame_handle=void 0,this.light=new a.HemisphereLight(16777215,5263440,1.2),this.controls_clock=new a.Clock,this.schedule_render=()=>{this.render_scheduled=!0},this.on_mouse_down=e=>{e.currentTarget&&e.currentTarget.focus()},this.call_render=()=>{const e=this.controls.update(this.controls_clock.getDelta()),t=this.render_scheduled||e;this.render_scheduled=!1,t&&this.render(),this.animation_frame_handle=requestAnimationFrame(this.call_render)},this.camera=e,this.dom_element.tabIndex=0,this.dom_element.addEventListener("mousedown",this.on_mouse_down),this.dom_element.style.outline="none",this.controls=new s.default(e,this.renderer.domElement),this.controls.dampingFactor=1,this.controls.draggingDampingFactor=1,this.scene.background=new a.Color(1579032),this.light_holder.add(this.light),this.scene.add(this.light_holder),this.renderer.setPixelRatio(window.devicePixelRatio)}get debug(){return this._debug}set debug(e){this._debug=e}get dom_element(){return this.renderer.domElement}set_size(e,t){this.renderer.setSize(e,t),this.schedule_render()}pointer_pos_to_device_coords(e){const t=this.renderer.getSize(new a.Vector2);return t.width=e.offsetX/t.width*2-1,t.height=e.offsetY/t.height*-2+1,t}start_rendering(){this.schedule_render(),this.animation_frame_handle=requestAnimationFrame(this.call_render)}stop_rendering(){null!=this.animation_frame_handle&&(cancelAnimationFrame(this.animation_frame_handle),this.animation_frame_handle=void 0)}reset_camera(e,t){this.controls.setLookAt(e.x,e.y,e.z,t.x,t.y,t.z)}dispose(){this.renderer.dispose()}render(){this.renderer.render(this.scene,this.camera)}}},"G+UN":function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,s){function r(e){try{d(n.next(e))}catch(e){s(e)}}function a(e){try{d(n.throw(e))}catch(e){s(e)}}function d(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(r,a)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=i("x4QM"),s=i("6WXA"),r=i("nsCy");class a{constructor(e,t){this.id_to_item_type=t,this.get_by_id=e=>this.id_to_item_type[e],this.item_types=e}}t.ItemTypeStore=a,t.item_type_stores=new s.ServerMap(function(e){return n(this,void 0,void 0,function*(){const t=yield fetch(`/assets/itemTypes.${r.Server[e].toLowerCase()}.json`),i=yield t.json(),n=[],s=[];for(const e of i){let t;switch(e.class){case"weapon":t=new o.WeaponItemType(e.id,e.name,e.minAtp,e.maxAtp,e.ata,e.maxGrind,e.requiredAtp);break;case"armor":t=new o.ArmorItemType(e.id,e.name,e.atp,e.ata,e.minEvp,e.maxEvp,e.minDfp,e.maxDfp,e.mst,e.hp,e.lck);break;case"shield":t=new o.ShieldItemType(e.id,e.name,e.atp,e.ata,e.minEvp,e.maxEvp,e.minDfp,e.maxDfp,e.mst,e.hp,e.lck);break;case"unit":t=new o.UnitItemType(e.id,e.name);break;case"tool":t=new o.ToolItemType(e.id,e.name);break;default:continue}s[t.id]=t,n.push(t)}return new a(n,s)})})},GN66:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,s){function r(e){try{d(n.next(e))}catch(e){s(e)}}function a(e){try{d(n.throw(e))}catch(e){s(e)}}function d(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(r,a)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=i("HjM1"),s=i("xs7i"),r=i("j4Ss");class a extends o.TabContainer{constructor(){super({class:"hunt_optimizer_MethodsView",tabs:[{title:"Episode I",key:"episode_1",create_view:function(){return n(this,void 0,void 0,function*(){return new r.MethodsForEpisodeView(s.Episode.I)})}},{title:"Episode II",key:"episode_2",create_view:function(){return n(this,void 0,void 0,function*(){return new r.MethodsForEpisodeView(s.Episode.II)})}},{title:"Episode IV",key:"episode_4",create_view:function(){return n(this,void 0,void 0,function*(){return new r.MethodsForEpisodeView(s.Episode.IV)})}}]}),this.finalize_construction(a.prototype)}}t.MethodsView=a},GXOi:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("/Wax"),o=i("tjEv");t.prs_compress=function(e){const t=new s(e.size,e.endianness);for(;e.bytes_left;){let i=0,n=0;const o=Math.max(0,e.position-Math.min(2048,e.bytes_left));for(let t=e.position-255;t>=o;t--){let o=e.position,s=t,r=0;for(;o+3<e.size&&r<252&&e.u32_at(o)===e.u32_at(s);)r+=4,o+=4,s+=4;for(;o<e.size&&r<255&&e.u8_at(o)===e.u8_at(s);)r++,o++,s++;if(r>=n&&(i=t,n=r,r>=255))break}n<3?t.add_u8(e.u8()):(t.copy(i-e.position,n),e.seek(n))}return t.finalize()};class s{constructor(e,t){this.flags=0,this.flag_bits_left=0,this.flag_offset=0,this.output=new n.ResizableBufferCursor(new o.ResizableBuffer(e),t)}add_u8(e){this.write_control_bit(1),this.write_u8(e)}copy(e,t){e>-256&&t<=5?this.short_copy(e,t):this.long_copy(e,t)}finalize(){this.write_control_bit(0),this.write_control_bit(1),this.flags>>>=this.flag_bits_left;const e=this.output.position;return this.output.seek_start(this.flag_offset).write_u8(this.flags).seek_start(e),this.write_u8(0),this.write_u8(0),this.output.seek_start(0)}write_control_bit(e){if(0==this.flag_bits_left--){const e=this.output.position;this.output.seek_start(this.flag_offset).write_u8(this.flags).seek_start(e).write_u8(0),this.flag_offset=e,this.flag_bits_left=7}this.flags>>>=1,e&&(this.flags|=128)}write_u8(e){this.output.write_u8(e)}short_copy(e,t){t-=2,this.write_control_bit(0),this.write_control_bit(0),this.write_control_bit(t>>>1&1),this.write_control_bit(1&t),this.write_u8(255&e)}long_copy(e,t){t<=9?(this.write_control_bit(0),this.write_control_bit(1),this.write_u8(e<<3&248|t-2&7),this.write_u8(e>>5&255)):(this.write_control_bit(0),this.write_control_bit(1),this.write_u8(e<<3&248),this.write_u8(e>>5&255),this.write_u8(t-1))}}},Gc0Z:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("Womt"),o=i("yRp4"),s=i("c5EP"),r=i("xpi7"),a=i("IjTL"),d=i("Tpfs"),l=new n.Vector3(0,-1,0);function u({entity:e,mesh:t},i){const n=e instanceof a.QuestNpcModel?r.NPC_COLORS[i]:r.OBJECT_COLORS[i];if(t)if(Array.isArray(t.material))for(const e of t.material)i===r.ColorType.Normal&&e.map?e.color.set(16777215):e.color.set(n);else t.material.color.set(n)}function c(e,t){return e&&t?e.entity===t.entity:e===t}t.QuestEntityControls=class{constructor(e){this.renderer=e,this.raycaster=new n.Raycaster,this.last_pointer_position=new n.Vector2(0,0),this.moved_since_last_mouse_down=!1,this.disposer=new d.Disposer,this.try_highlight=e=>{const t=this.renderer.get_entity_mesh(e);t&&this.select({entity:e,mesh:t})},this.on_mouse_down=e=>{this.process_event(e),this.stop_transforming();const t=this.pick_entity(this.renderer.pointer_pos_to_device_coords(e));t?(this.renderer.controls.enabled=!1,this.pick=t,this.select(t)):(this.renderer.controls.enabled=!0,this.pick=void 0),this.renderer.schedule_render()},this.on_mouse_up=e=>{this.process_event(e),this.moved_since_last_mouse_down||this.pick||this.deselect(),this.stop_transforming(),this.renderer.controls.enabled=!0,this.renderer.schedule_render()},this.on_mouse_move=e=>{this.process_event(e);const t=this.renderer.pointer_pos_to_device_coords(e);if(this.selected&&this.pick)this.moved_since_last_mouse_down&&(1===e.buttons&&(e.shiftKey?this.translate_vertically(this.selected,this.pick,t):this.translate_horizontally(this.selected,this.pick,t)),this.renderer.schedule_render());else{const e=this.pick_entity(t);this.mark_hovered(e)&&this.renderer.schedule_render()}},this.stop_transforming=()=>{if(this.moved_since_last_mouse_down&&this.selected&&this.pick){const e=this.selected.entity;s.quest_editor_store.push_translate_entity_action(e,this.pick.initial_section,e.section.val,this.pick.initial_position,e.world_position.val,!0)}this.pick=void 0},this.disposer.add(s.quest_editor_store.selected_entity.observe(({value:e})=>{this.selected&&this.selected.entity===e||(this.stop_transforming(),e?this.try_highlight(e):this.deselect())}))}dispose(){this.disposer.dispose()}process_event(e){"mousedown"===e.type?this.moved_since_last_mouse_down=!1:e.offsetX===this.last_pointer_position.x&&e.offsetY===this.last_pointer_position.y||(this.moved_since_last_mouse_down=!0),this.last_pointer_position.set(e.offsetX,e.offsetY)}mark_hovered(e){let t=!1;return this.selected&&c(e,this.selected)||(c(e,this.hovered)||(this.hovered&&(u(this.hovered,r.ColorType.Normal),this.hovered=void 0),e&&u(e,r.ColorType.Hovered),t=!0),this.hovered=e),t}select(e){c(e,this.hovered)&&(this.hovered=void 0),c(e,this.selected)?this.selected=e:(this.selected&&u(this.selected,r.ColorType.Normal),u(e,r.ColorType.Selected),this.selected=e,s.quest_editor_store.set_selected_entity(e.entity))}deselect(){this.selected&&u(this.selected,r.ColorType.Normal),this.selected=void 0,s.quest_editor_store.set_selected_entity(void 0)}translate_vertically(e,t,i){this.raycaster.setFromCamera(i,this.renderer.camera);const s=this.raycaster.ray,r=this.renderer.camera.getWorldDirection(new n.Vector3).negate(),a=(new n.Plane).setFromNormalAndCoplanarPoint(new n.Vector3(r.x,0,r.z).normalize(),e.mesh.position.sub(t.grab_offset)),d=new n.Vector3;if(s.intersectPlane(a,d)){const i=d.y+t.grab_offset.y,n=i-e.entity.world_position.val.y;t.drag_y+=n,t.drag_adjust.y-=n,e.entity.set_world_position(new o.Vec3(e.entity.world_position.val.x,i,e.entity.world_position.val.z))}}translate_horizontally(e,t,i){const{intersection:s,section:r}=this.pick_terrain(i,t);if(s)e.entity.set_world_position(new o.Vec3(s.point.x,s.point.y+t.drag_y,s.point.z)),r&&e.entity.set_section(r);else{this.raycaster.setFromCamera(i,this.renderer.camera);const s=this.raycaster.ray,r=new n.Plane(new n.Vector3(0,1,0),-e.entity.world_position.val.y+t.grab_offset.y),a=new n.Vector3;s.intersectPlane(r,a)&&e.entity.set_world_position(new o.Vec3(a.x+t.grab_offset.x,e.entity.world_position.val.y,a.z+t.grab_offset.z))}}pick_entity(e){this.raycaster.setFromCamera(e,this.renderer.camera);const[t]=this.raycaster.intersectObjects(this.renderer.entity_models.children);if(!t)return;const i=t.object.userData.entity,n=t.object.position.clone().sub(t.point),o=n.clone();let s=0;this.raycaster.set(t.object.position,l);const[r]=this.raycaster.intersectObjects(this.renderer.collision_geometry.children,!0);return r&&(o.y-=r.distance,s+=r.distance),{mesh:t.object,entity:i,initial_section:i.section.val,initial_position:i.world_position.val,grab_offset:n,drag_adjust:o,drag_y:s}}pick_terrain(e,t){this.raycaster.setFromCamera(e,this.renderer.camera),this.raycaster.ray.origin.add(t.drag_adjust);const i=this.raycaster.intersectObjects(this.renderer.collision_geometry.children,!0);for(const e of i)if(e.face.normal.y>.75)return{intersection:e,section:e.object.userData.section};return{}}}},GuD3:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("bcBH"),o=i("yRp4");t.AbstractCursor=class{constructor(e,t){this._position=0,this.endianness=e,this.offset=t}get position(){return this._position}get endianness(){return this.little_endian?n.Endianness.Little:n.Endianness.Big}set endianness(e){this.little_endian=e===n.Endianness.Little}get bytes_left(){return this.size-this.position}seek(e){return this.seek_start(this.position+e)}seek_start(e){if(e<0||e>this.size)throw new Error(`Offset ${e} is out of bounds.`);return this._position=e,this}seek_end(e){if(e<0||e>this.size)throw new Error(`Offset ${e} is out of bounds.`);return this._position=this.size-e,this}u8(){return this.u8_at(this._position++)}u8_at(e){return this.check_offset(e,1),this.dv.getUint8(this.offset+e)}u16(){const e=this.u16_at(this.position);return this._position+=2,e}u16_at(e){return this.check_offset(e,2),this.dv.getUint16(this.offset+e,this.little_endian)}u32(){const e=this.u32_at(this.position);return this._position+=4,e}u32_at(e){return this.check_offset(e,4),this.dv.getUint32(this.offset+e,this.little_endian)}i8(){return this.i8_at(this._position++)}i8_at(e){return this.check_offset(e,1),this.dv.getInt8(this.offset+e)}i16(){const e=this.i16_at(this.position);return this._position+=2,e}i16_at(e){return this.check_offset(e,2),this.dv.getInt16(this.offset+e,this.little_endian)}i32(){const e=this.i32_at(this.position);return this._position+=4,e}i32_at(e){return this.check_offset(e,4),this.dv.getInt32(this.offset+e,this.little_endian)}f32(){const e=this.f32_at(this.position);return this._position+=4,e}f32_at(e){return this.check_offset(e,4),this.dv.getFloat32(this.offset+e,this.little_endian)}u8_array(e){this.check_size("n",e,e);const t=[];for(let i=0;i<e;++i)t.push(this.dv.getUint8(this.offset+this._position++));return t}u16_array(e){this.check_size("n",e,2*e);const t=[];for(let i=0;i<e;++i)t.push(this.dv.getUint16(this.offset+this.position,this.little_endian)),this._position+=2;return t}u32_array(e){this.check_size("n",e,4*e);const t=[];for(let i=0;i<e;++i)t.push(this.dv.getUint32(this.offset+this.position,this.little_endian)),this._position+=4;return t}i32_array(e){this.check_size("n",e,4*e);const t=[];for(let i=0;i<e;++i)t.push(this.dv.getInt32(this.offset+this.position,this.little_endian)),this._position+=4;return t}vec2_f32(){return new o.Vec2(this.f32(),this.f32())}vec3_f32(){return new o.Vec3(this.f32(),this.f32(),this.f32())}string_ascii(e,t,i){let n=[];for(let o=0;o<e;o++){const s=this.u8();if(t&&0===s){i&&this.seek(e-o-1);break}n.push(s)}return String.fromCodePoint(...n)}string_utf16(e,t,i){let n=[],o=Math.floor(e/2);for(let e=0;e<o;e++){const s=this.u16();if(t&&0===s){i&&this.seek(2*(o-e-1));break}n.push(s)}return String.fromCodePoint(...n)}array_buffer(e=this.size-this.position){this.check_size("size",e,e);const t=this.backing_buffer.slice(this.offset+this.position,this.offset+this.position+e);return this._position+=e,t}copy_to_uint8_array(e,t=this.size-this.position){return this.check_size("size",t,t),e.set(new Uint8Array(this.backing_buffer,this.offset+this.position,t)),this._position+=t,this}check_size(e,t,i){if(i<0||i>this.size-this.position)throw new Error(`${e} ${t} is out of bounds.`)}check_offset(e,t){if(e<0||e+t>this.size)throw new Error(`Offset ${e} is out of bounds.`)}}},Hdaq:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("FXpb"),o=i("nN8q");i("m5WL");const s=i("4SjJ"),r=i("KUR2"),a=i("tyuj"),d=i("lHpu"),l=i("VRtl"),u=i("Y3Jw"),c=100,_=140;class p extends o.ResizableWidget{constructor(){super(n.el.div({class:"viewer_Model3DView"})),this.tool_bar_view=this.disposable(new l.Model3DToolBar),this.model_list_view=this.disposable(new u.Model3DSelectListView(a.model_store.models,a.model_store.current_model)),this.animation_list_view=this.disposable(new u.Model3DSelectListView(a.model_store.animations,a.model_store.current_animation)),this.renderer_view=this.disposable(new r.RendererWidget(new d.Model3DRenderer)),this.animation_list_view.borders=!0;const e=n.el.div({class:"viewer_Model3DView_container"});e.append(this.model_list_view.element,this.animation_list_view.element,this.renderer_view.element),this.element.append(this.tool_bar_view.element,e),a.model_store.current_model.val=a.model_store.models[5],this.renderer_view.start_rendering(),this.disposable(s.gui_store.tool.observe(({value:e})=>{e===s.GuiTool.Viewer?this.renderer_view.start_rendering():this.renderer_view.stop_rendering()})),this.finalize_construction(p.prototype)}resize(e,t){super.resize(e,t);const i=Math.max(0,t-this.tool_bar_view.height);return this.model_list_view.resize(c,i),this.animation_list_view.resize(_,i),this.renderer_view.resize(Math.max(0,e-c-_),i),this}}t.Model3DView=p},HjM1:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("FXpb"),o=i("39ZU"),s=i("nN8q");i("4AvX");const r=28;class a extends s.ResizableWidget{constructor(e){super(n.el.div({class:"core_TabContainer"}),e),this.tabs=[],this.bar_element=n.el.div({class:"core_TabContainer_Bar"}),this.panes_element=n.el.div({class:"core_TabContainer_Panes"}),this.bar_mousedown=e=>{if(e.target instanceof HTMLElement){const t=e.target.dataset.key;t&&this.activate(t)}},this.bar_element.onmousedown=this.bar_mousedown;for(const t of e.tabs){const e=n.create_element("span",{class:"core_TabContainer_Tab",text:t.title,data:{key:t.key}});this.bar_element.append(e);const i=new o.LazyWidget(t.create_view);this.tabs.push(Object.assign({},t,{tab_element:e,lazy_view:i})),this.panes_element.append(i.element),this.disposable(i)}this.tabs.length&&this.activate(this.tabs[0].key),this.element.append(this.bar_element,this.panes_element),this.finalize_construction(a.prototype)}resize(e,t){super.resize(e,t),this.bar_element.style.width=`${e}px`,this.bar_element.style.height=`${r}px`;const i=t-r;this.panes_element.style.width=`${e}px`,this.panes_element.style.height=`${i}px`;for(const t of this.tabs)t.lazy_view.resize(e,i);return this}activate(e){for(const t of this.tabs){const i=t.key===e;i?t.tab_element.classList.add("active"):t.tab_element.classList.remove("active"),t.lazy_view.visible.val=i}}}t.TabContainer=a},IMNf:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(i("GGSb")),s=i("/Wax"),r=i("tjEv"),a=o.default.get("data_formats/compression/prs/decompress");t.prs_decompress=function(e){const t=new d(e);for(;;)if(1===t.read_flag_bit())t.copy_u8();else{let e,i;if(0===t.read_flag_bit())e=t.read_flag_bit()<<1,e|=t.read_flag_bit(),e+=2,i=t.read_u8()-256;else{if(0===(i=t.read_u16()))break;e=7&i,i>>>=3,0===e?(e=t.read_u8(),e+=1):e+=2,i-=8192}t.offset_copy(i,e)}return t.dst.seek_start(0)};class d{constructor(e){this.src=e,this.dst=new s.ResizableBufferCursor(new r.ResizableBuffer(Math.floor(1.5*e.size)),e.endianness),this.flags=0,this.flag_bits_left=0}read_flag_bit(){0===this.flag_bits_left&&(this.flags=this.read_u8(),this.flag_bits_left=8);let e=1&this.flags;return this.flags>>>=1,this.flag_bits_left-=1,e}copy_u8(){this.dst.write_u8(this.read_u8())}read_u8(){return this.src.u8()}read_u16(){return this.src.u16()}offset_copy(e,t){(e<-8192||e>0)&&a.error(`offset was ${e}, should be between -8192 and 0.`),(t<1||t>256)&&a.error(`length was ${t}, should be between 1 and 256.`);const i=Math.min(-e,t);this.dst.seek(e);const n=this.dst.take(i);this.dst.seek(-e-i);for(let e=0;e<Math.floor(t/i);++e)this.dst.write_cursor(n),n.seek_start(0);this.dst.write_cursor(n.take(t%i))}}},IV2v:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("ouMO"),o=i("ExVU");t.HuntMethodModel=class{constructor(e,t,i,s){if(!e)throw new Error("id is required.");if(!o.Duration.isDuration(s))throw new Error("default_time must a valid duration.");if(!t)throw new Error("name is required.");if(!i)throw new Error("quest is required.");this.id=e,this.name=t,this.episode=i.episode,this.quest=i,this.enemy_counts=i.enemy_counts,this.default_time=s,this._user_time=n.property(void 0),this.user_time=this._user_time,this.time=this.user_time.map(e=>null!=e?e:this.default_time)}set_user_time(e){return this._user_time.val=e,this}}},If1w:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,s){function r(e){try{d(n.next(e))}catch(e){s(e)}}function a(e){try{d(n.throw(e))}catch(e){s(e)}}function d(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(r,a)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=i("FXpb");i("XfQH");const s=i("KVVN"),r=i("Tpfs"),a=i("TRid"),d=i("oxtq"),l=i("PE7g"),u=i("sMN3"),c=i("Ncr4"),_=i("ouMO");class p extends a.Widget{constructor(){super(o.el.div({class:"hunt_optimizer_WantedItemsView"})),this.tbody_element=o.el.tbody(),this.table_disposer=this.disposable(new r.Disposer),this.store_disposer=this.disposable(new r.Disposer),this.update_table=e=>{if(e.type===d.ListChangeType.ListChange){for(let t=0;t<e.removed.length;t++)this.tbody_element.children[e.index].remove();this.table_disposer.dispose_at(e.index,e.removed.length);const t=e.inserted.map(this.create_row);if(e.index>=this.tbody_element.childElementCount)this.tbody_element.append(...t);else for(let i=0;i<e.inserted.length;i++)this.tbody_element.children[e.index+i].insertAdjacentElement("beforebegin",t[i])}},this.create_row=e=>{const t=this.table_disposer.add(new r.Disposer),i=t.add(new l.NumberInput(e.amount.val,{min:0,step:1}));t.add_all(i.value.bind_to(e.amount),i.value.observe(({value:t})=>e.set_amount(t)));const a=t.add(new s.Button("",{icon_left:o.Icon.Remove}));return t.add(a.click.observe(()=>n(this,void 0,void 0,function*(){return(yield u.hunt_optimizer_stores.current.val).remove_wanted_item(e)}))),o.el.tr({},o.el.td({},i.element),o.el.td({text:e.item_type.name}),o.el.td({},a.element))};const e=_.list_property(),t=_.list_property(),i=this.disposable(new c.ComboBox({items:t,to_label:e=>e.name,placeholder_text:"Add an item",filter(i){const n=i.toLowerCase();t.val=e.val.filter(e=>e.name.toLowerCase().includes(n))}}));this.element.append(o.el.h2({text:"Wanted Items"}),i.element,o.el.div({class:"hunt_optimizer_WantedItemsView_table_wrapper"},o.el.table({},this.tbody_element))),this.disposables(u.hunt_optimizer_stores.observe_current(n=>{this.store_disposer.dispose_all(),this.store_disposer.add_all(n.wanted_items.observe_list(this.update_table),i.selected.observe(({value:e})=>{e&&(n.add_wanted_item(e),i.selected.val=void 0)})),e.val=n.huntable_item_types.slice().sort((e,t)=>e.name.localeCompare(t.name)),t.val=e.val},{call_now:!0})),this.finalize_construction(p.prototype)}}t.WantedItemsView=p},IjTL:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("kiqn");t.QuestNpcModel=class extends n.QuestEntityModel{constructor(e,t,i,n,o,s,r,a,d,l,u){super(e,s,r,a,d),this.pso_type_id=t,this.npc_id=i,this.script_label=n,this.roaming=o,this.unknown=u,this.scale=l}}},JCZi:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,s){function r(e){try{d(n.next(e))}catch(e){s(e)}}function a(e){try{d(n.throw(e))}catch(e){s(e)}}function d(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(r,a)}d((n=n.apply(e,t||[])).next())})},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i("wsa1"),r=o(i("NUmZ")),a=i("yAUo"),d=i("Q4I3"),l=i("ZPAt"),u=i("ouMO");var c=s.languages.CompletionItemKind;const _=l.OPCODES.filter(e=>null!=e).map(e=>({label:e.mnemonic,kind:c.Function,insertText:e.mnemonic})),p=[{label:".code",kind:c.Keyword,insertText:"code"},{label:".data",kind:c.Keyword,insertText:"data"},{label:".string",kind:c.Keyword,insertText:"string"}];t.AssemblyAnalyser=class{constructor(){this._issues=u.property({warnings:[],errors:[]}),this.issues=this._issues,this.worker=new r.default,this.promises=new Map,this.message_id=0,this.process_worker_message=e=>{const t=e.data;switch(t.type){case a.OutputMessageType.NewObjectCode:this.quest&&(this.quest.object_code.splice(0,this.quest.object_code.length,...t.object_code),this.quest.set_map_designations(t.map_designations),this._issues.val={warnings:t.warnings,errors:t.errors});break;case a.OutputMessageType.SignatureHelp:{const e=this.promises.get(t.id);if(e)if(this.promises.delete(t.id),t.opcode){let i=t.opcode.mnemonic+" ";const n=[];let o=!0;for(const e of t.opcode.params){let t;switch(o?o=!1:i+=", ",e.type.kind){case l.Kind.ILabel:t="FuncLabel";break;case l.Kind.DLabel:t="DataLabel";break;case l.Kind.SLabel:t="StringLabel";break;case l.Kind.ILabelVar:t="...FuncLabel";break;case l.Kind.RegRef:case l.Kind.RegTupRef:t="Register";break;case l.Kind.RegRefVar:t="...Register";break;default:t=l.Kind[e.type.kind]}n.push({label:[i.length,i.length+t.length],documentation:e.doc}),i+=t}const s={signatures:[{label:i,documentation:t.opcode.doc,parameters:n}],activeSignature:0,activeParameter:t.active_param};e.resolve(s)}else e.resolve(void 0)}}},this.worker.onmessage=this.process_worker_message}disassemble(e){this.quest=e;const t=d.disassemble(e.object_code),i={type:a.InputMessageType.NewAssembly,assembly:t};return this.worker.postMessage(i),t}update_assembly(e){const t={type:a.InputMessageType.AssemblyChange,changes:e.map(e=>({start_line_no:e.range.startLineNumber,start_col:e.range.startColumn,end_line_no:e.range.endLineNumber,end_col:e.range.endColumn,new_text:e.text}))};this.worker.postMessage(t)}provide_completion_items(e){return{suggestions:/^\s*([a-z][a-z0-9_=<>!]*)?$/.test(e)?_:/^\s*\.[a-z]+$/.test(e)?p:[],incomplete:!1}}provide_signature_help(e,t){return n(this,void 0,void 0,function*(){const i=this.message_id++;return new Promise((n,o)=>{this.promises.set(i,{resolve:n,reject:o});const s={type:a.InputMessageType.SignatureHelp,id:i,line_no:e,col:t};this.worker.postMessage(s),setTimeout(()=>{this.promises.delete(i)&&o(new Error("Signature help timed out."))},5e3)})})}dispose(){this.worker.terminate()}}},JQxC:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(i("GGSb")),s=i("ZPAt"),r=i("4s8/"),a=i("CUby"),d=o.default.get("quest_editor/scripting/data_flow_analysis/stack_value");t.MIN_STACK_VALUE=s.MIN_SIGNED_DWORD_VALUE,t.MAX_STACK_VALUE=s.MAX_SIGNED_DWORD_VALUE,t.stack_value=function(e,i,n){const o=e.get_block_for_instruction(i);return o?function e(i,n,o,l,u){if(++i.iterations>100)return d.warn("Too many iterations."),(new r.ValueSet).set_interval(t.MIN_STACK_VALUE,t.MAX_STACK_VALUE);for(let e=l-1;e>=o.start;e--){const n=o.segment.instructions[e];if(n.opcode.stack===s.StackInteraction.Pop){u+=n.opcode.params.length;continue}const d=n.args;switch(n.opcode){case s.Opcode.ARG_PUSHR:if(0===u)return a.register_value(i.cfg,n,d[0].value);u--;break;case s.Opcode.ARG_PUSHL:case s.Opcode.ARG_PUSHB:case s.Opcode.ARG_PUSHW:if(0===u)return(new r.ValueSet).set_value(d[0].value);u--;break;case s.Opcode.ARG_PUSHA:case s.Opcode.ARG_PUSHO:case s.Opcode.ARG_PUSHS:if(0===u)return(new r.ValueSet).set_interval(t.MIN_STACK_VALUE,t.MAX_STACK_VALUE);u--}}const c=new r.ValueSet;n.add(o);for(const s of o.from){if(n.has(s)){c.set_interval(t.MIN_STACK_VALUE,t.MAX_STACK_VALUE);break}c.union(e(i,new Set(n),s,s.end,u))}return c}(new l(e),new Set,o,o.index_of_instruction(i),n):new r.ValueSet};class l{constructor(e){this.cfg=e,this.iterations=0}}},KUR2:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("nN8q"),o=i("FXpb");class s extends n.ResizableWidget{constructor(e){super(o.create_element("div")),this.renderer=e,this.element.append(e.dom_element),this.disposable(e),this.finalize_construction(s.prototype)}start_rendering(){this.renderer.start_rendering()}stop_rendering(){this.renderer.stop_rendering()}resize(e,t){return super.resize(e,t),this.renderer.set_size(e,t),this}}t.RendererWidget=s},KVVN:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("FXpb");i("Tp1L");const o=i("ouMO"),s=i("QmPX"),r=i("4VsB");class a extends s.Control{constructor(e,t){const i=n.el.span({class:"core_Button_inner"});super(n.el.button({class:"core_Button"},i),t),this.center_element=n.el.span({class:"core_Button_center"}),t&&null!=t.icon_left&&i.append(n.el.span({class:"core_Button_left"},n.icon(t.icon_left))),i.append(this.center_element),t&&null!=t.icon_right&&i.append(n.el.span({class:"core_Button_right"},n.icon(t.icon_right))),this._mousedown=o.emitter(),this.mousedown=this._mousedown,this.element.onmousedown=e=>this._mousedown.emit({value:e}),this._mouseup=o.emitter(),this.mouseup=this._mouseup,this.element.onmouseup=e=>this._mouseup.emit({value:e}),this._click=o.emitter(),this.click=this._click,this.element.onclick=e=>this._click.emit({value:e}),this._text=new r.WidgetProperty(this,"",this.set_text),this.text=this._text,"string"==typeof e?this.text.val=e:e&&this.text.bind_to(e),this.finalize_construction(a.prototype)}set_enabled(e){super.set_enabled(e),this.element.disabled=!e}set_text(e){this.center_element.textContent=e,this.center_element.hidden=""===e}}t.Button=a},"L/3r":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("ouMO"),o=i("Ts/k"),s=i("n5fr");t.SimpleUndo=class{constructor(e,t,i){this.can_undo=n.property(!1),this.can_redo=n.property(!1),this.action=n.property({description:e,undo:t,redo:i}),this.first_undo=n.map((e,t)=>t?e:void 0,this.action,this.can_undo),this.first_redo=n.map((e,t)=>t?e:void 0,this.action,this.can_redo)}make_current(){s.undo_manager.current.val=this}ensure_not_current(){s.undo_manager.current.val===this&&(s.undo_manager.current.val=o.NOOP_UNDO)}undo(){return!!this.can_undo&&(this.action.val.undo(),!0)}redo(){return!!this.can_redo&&(this.action.val.redo(),!0)}reset(){this.can_undo.val=!1,this.can_redo.val=!1}}},LSoc:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("FXpb"),o=i("TRid"),s=i("ouMO"),r=i("4VsB");i("/xfa");class a extends o.Widget{constructor(e,t,i){super(n.el.div({class:"core_Menu",tab_index:-1})),this.inner_element=n.el.div({class:"core_Menu_inner"}),this.mouseup=e=>{if(!(e.target instanceof HTMLElement))return;const t=e.target.dataset.index;null!=t&&this.select_item(parseInt(t,10))},this.keydown=e=>{switch(e.key){case"ArrowDown":this.hover_next();break;case"ArrowUp":this.hover_prev();break;case"Enter":this.select_hovered()}},this.inner_mouseover=e=>{if(e.target&&e.target instanceof HTMLElement){const t=e.target.dataset.index;null!=t&&this.hover_item(parseInt(t,10))}},this.document_mousedown=e=>{!this.visible.val||this.element.contains(e.target)||this.related_element.contains(e.target)||this.visible.set_val(!1,{silent:!1})},this.document_keydown=e=>{"Escape"===e.key&&this.visible.set_val(!1,{silent:!1})},this.visible.val=!1,this.element.onmouseup=this.mouseup,this.element.onkeydown=this.keydown,this.inner_element.onmouseover=this.inner_mouseover,this.element.append(this.inner_element),this.to_label=t,this.items=Array.isArray(e)?s.property(e):e,this.related_element=i,this._selected=new r.WidgetProperty(this,void 0,this.set_selected),this.selected=this._selected,this.disposables(this.items.observe(({value:e})=>{this.inner_element.innerHTML="",this.inner_element.append(...e.map((e,i)=>n.el.div({text:t(e),data:{index:i.toString()}}))),this.hover_item()},{call_now:!0}),n.disposable_listener(document,"mousedown",this.document_mousedown,{capture:!0}),n.disposable_listener(document,"keydown",this.document_keydown)),this.finalize_construction(a.prototype)}hover_next(){this.visible.val=!0,this.hover_item(null!=this.hovered_index?(this.hovered_index+1)%this.items.val.length:0)}hover_prev(){this.visible.val=!0,this.hover_item(this.hovered_index?this.hovered_index-1:this.items.val.length-1)}select_hovered(){null!=this.hovered_index&&this.select_item(this.hovered_index)}set_visible(e){super.set_visible(e),this.visible.val!=e&&(this.hover_item(),this.inner_element.scrollTop=0)}set_selected(){}hover_item(e){this.hovered_element&&this.hovered_element.classList.remove("core_Menu_hovered"),null==e?(this.hovered_index=void 0,this.hovered_element=void 0):(this.hovered_element=this.inner_element.children.item(e),this.hovered_element&&(this.hovered_index=e,this.hovered_element.classList.add("core_Menu_hovered"),this.hovered_element.scrollIntoView({block:"nearest"})))}select_item(e){const t=this.items.val[e];t&&(this.selected.set_val(t,{silent:!1}),this.visible.set_val(!1,{silent:!1}))}}t.Menu=a},LkpO:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,s){function r(e){try{d(n.next(e))}catch(e){s(e)}}function a(e){try{d(n.throw(e))}catch(e){s(e)}}function d(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(r,a)}d((n=n.apply(e,t||[])).next())})},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const s=i("HjM1");class r extends s.TabContainer{constructor(){super({class:"hunt_optimizer_HuntOptimizerView",tabs:[{title:"Optimize",key:"optimize",create_view:function(){return n(this,void 0,void 0,function*(){return new((yield Promise.resolve().then(()=>o(i("FNQV")))).OptimizerView)})}},{title:"Methods",key:"methods",create_view:function(){return n(this,void 0,void 0,function*(){return new((yield Promise.resolve().then(()=>o(i("GN66")))).MethodsView)})}},{title:"Help",key:"help",create_view:function(){return n(this,void 0,void 0,function*(){return new((yield Promise.resolve().then(()=>o(i("F0Xh")))).HelpView)})}}]}),this.finalize_construction(r.prototype)}}t.HuntOptimizerView=r},"M/y3":function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,s){function r(e){try{d(n.next(e))}catch(e){s(e)}}function a(e){try{d(n.throw(e))}catch(e){s(e)}}function d(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(r,a)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.sequential=function(e){const t=[];return function(...i){const o=new Promise((e,n)=>t.push({args:i,resolve:e,reject:n}));return 1===t.length&&function(){n(this,void 0,void 0,function*(){for(;t.length;){const{args:i,resolve:n,reject:o}=t[0];try{n(yield e(...i))}catch(e){o(e)}finally{t.shift()}}})}(),o}}},NRxM:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("9dYx");class o extends n.AbstractWritableCursor{get size(){return this._size}set size(e){if(e>this.backing_buffer.byteLength-this.offset)throw new Error(`Size ${e} is out of bounds.`);this._size=e}constructor(e,t,i=0,n=e.byteLength-i){super(t,i),this._size=n,this.backing_buffer=e,this.dv=new DataView(e,0,e.byteLength)}take(e){const t=this.offset+this.position,i=new o(this.backing_buffer,this.endianness,t,e);return this._position+=e,i}}t.ArrayBufferCursor=o},NUmZ:function(e,t,i){e.exports=function(){return new Worker(i.p+"e811160e92146af6f670.worker.js")}},Ncr4:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("sDu+"),o=i("FXpb");i("rlVZ"),i("x1yY");const s=i("LSoc"),r=i("ouMO"),a=i("4VsB");class d extends n.LabelledControl{constructor(e){super(o.el.span({class:"core_ComboBox core_Input"}),e),this.preferred_label_position="left",this.input_element=o.create_element("input"),this.to_label=e.to_label,this._selected=new a.WidgetProperty(this,void 0,this.set_selected),this.selected=this._selected;const t=r.property(!1);this.menu=this.disposable(new s.Menu(e.items,e.to_label,this.element)),this.menu.element.onmousedown=e=>e.preventDefault(),this.input_element.placeholder=e.placeholder_text||"",this.input_element.onmousedown=()=>{t.val=!0},this.input_element.onkeydown=e=>{switch(e.key){case"ArrowDown":e.preventDefault(),this.menu.hover_next();break;case"ArrowUp":e.preventDefault(),this.menu.hover_prev();break;case"Enter":this.menu.select_hovered()}};const i=e.filter;if(i){let e="";this.input_element.onkeyup=()=>{this.input_element.value!==e&&(e=this.input_element.value,i(e),(this.menu.visible.val||e)&&this.menu.hover_next())}}this.input_element.onblur=()=>{t.val=!1};const n=o.el.span({},o.icon(o.Icon.TriangleDown));this.bind_hidden(n,t);const l=o.el.span({},o.icon(o.Icon.TriangleUp));this.bind_hidden(l,t.map(e=>!e));const u=o.el.span({class:"core_ComboBox_button"},n,l);u.onmousedown=e=>{e.preventDefault(),t.val=!t.val},this.element.append(o.el.span({class:"core_ComboBox_inner core_Input_inner"},this.input_element,u),this.menu.element),this.disposables(this.menu.visible.bind_bi(t),t.observe(({value:e})=>{e&&this.menu.hover_next()}),this.menu.selected.observe(({value:e})=>{this.selected.set_val(e,{silent:!1}),this.input_element.focus()})),this.finalize_construction(d.prototype)}set_selected(e){this.input_element.value=e?this.to_label(e):"",this.menu.selected.val=e}}t.ComboBox=d},PE7g:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("0Xme");i("rY5A");class o extends n.Input{constructor(e=0,t={}){super(e,"core_NumberInput","number","core_NumberInput_inner",t),this.preferred_label_position="left";const{min:i,max:n,step:s}=t;this.set_attr("min",i,String),this.set_attr("max",n,String),this.input_element.step="any",this.set_attr("step",s,String),null!=t.round_to&&t.round_to>=0?this.rounding_factor=Math.pow(10,t.round_to):this.rounding_factor=1,this.element.style.width=`${null==t.width?54:t.width}px`,this.set_value(e),this.finalize_construction(o.prototype)}get_value(){return this.input_element.valueAsNumber}set_value(e){this.input_element.valueAsNumber=Math.round(this.rounding_factor*e)/this.rounding_factor}}t.NumberInput=o},"Q+PT":function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(i("GGSb")).default.get("core/observable/SimpleEmitter");t.SimpleEmitter=class{constructor(){this.observers=[]}emit(e){for(const t of this.observers)try{t(e)}catch(e){o.error("Observer threw error.",e)}}observe(e){return this.observers.includes(e)||this.observers.push(e),{dispose:()=>{const t=this.observers.indexOf(e);-1!==t&&this.observers.splice(t,1)}}}}},Q4I3:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("8hIv"),o=i("lg9k"),s=i("ZPAt");function r(e,t,i){const o=[];for(let r=0;r<e.length;r++){const a=e[r].type,d=t[r];if(null!=d)switch(a.kind){case s.Kind.Float:i?o.push(n.reinterpret_i32_as_f32(d.value).toString()):o.push(d.value.toString());break;case s.Kind.ILabelVar:for(;r<t.length;r++)o.push(t[r].value.toString());break;case s.Kind.RegRefVar:for(;r<t.length;r++)o.push("r"+t[r].value);break;case s.Kind.RegRef:case s.Kind.RegTupRef:o.push("r"+d.value);break;case s.Kind.String:o.push(JSON.stringify(d.value));break;default:o.push(d.value.toString())}else o.push("")}return o}t.disassemble=function(e,t=!1){const i=[],n=[];let a;for(const d of e){let e;switch(d.type){case o.SegmentType.Instructions:e=".code";break;case o.SegmentType.Data:e=".data";break;case o.SegmentType.String:e=".string"}a!==d.type&&(a=d.type,i.length&&i.push(""),i.push(e,""));for(const e of d.labels)i.push(`${e}:`);if(d.type===o.SegmentType.Data){const e=new Uint8Array(d.data);let t="    ";for(let n=0;n<e.length;n++)t+="0x"+e[n].toString(16).padStart(2,"0"),n%16==15?(i.push(t),t="    "):n<e.length-1&&(t+=" ");t.length>4&&i.push(t)}else if(d.type===o.SegmentType.String)i.push("    "+JSON.stringify(d.value));else for(const e of d.instructions)if(t||e.opcode.stack!==s.StackInteraction.Push){let o=[];e.opcode.stack===s.StackInteraction.Pop?t||(o=r(e.opcode.params,n.splice(Math.max(0,n.length-e.opcode.params.length),e.opcode.params.length),!0)):o=r(e.opcode.params,e.args,!1),i.push("    "+e.opcode.mnemonic+(o.length?" "+o.join(", "):""))}else n.push(...e.args)}return i.length&&i.push(""),i}},QmPX:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("TRid");t.Control=class extends n.Widget{}},RMZt:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,s){function r(e){try{d(n.next(e))}catch(e){s(e)}}function a(e){try{d(n.throw(e))}catch(e){s(e)}}function d(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(r,a)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=i("yfUv"),s=i("ExVU"),r="HuntMethodStore.methodUserTimes";t.hunt_method_persister=new class extends o.Persister{persist_method_user_times(e,t){const i={};for(const t of e)null!=t.user_time.val&&(i[t.id]=t.user_time.val.as("hours"));this.persist_for_server(t,r,i)}load_method_user_times(e,t){return n(this,void 0,void 0,function*(){const i=yield this.load_for_server(t,r);if(i)for(const t of e){const e=i[t.id];t.set_user_time(null==e?void 0:s.Duration.fromObject({hours:e}))}})}}},S6Bx:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("wsa1"),o=i("JCZi"),s=i("Tpfs"),r=i("L/3r"),a=i("c5EP"),d=i("hVaW"),l=i("ouMO"),u=new o.AssemblyAnalyser;n.languages.register({id:"psoasm"}),n.languages.setMonarchTokensProvider("psoasm",d.ASM_SYNTAX),n.languages.registerCompletionItemProvider("psoasm",{provideCompletionItems(e,t){const i=e.getValueInRange({startLineNumber:t.lineNumber,endLineNumber:t.lineNumber,startColumn:1,endColumn:t.column});return u.provide_completion_items(i)}}),n.languages.registerSignatureHelpProvider("psoasm",{signatureHelpTriggerCharacters:[" ",","],signatureHelpRetriggerCharacters:[", "],provideSignatureHelp:(e,t)=>u.provide_signature_help(t.lineNumber,t.column)}),n.languages.setLanguageConfiguration("psoasm",{indentationRules:{increaseIndentPattern:/^\s*\d+:/,decreaseIndentPattern:/^\s*(\d+|\.)/},autoClosingPairs:[{open:'"',close:'"'}],surroundingPairs:[{open:'"',close:'"'}],comments:{lineComment:"//"}});class c{constructor(){this.undo=new r.SimpleUndo("Text edits",()=>this._did_undo.emit({value:"asm undo"}),()=>this._did_redo.emit({value:"asm undo"})),this.disposer=new s.Disposer,this.model_disposer=this.disposer.add(new s.Disposer),this._model=l.property(void 0),this._did_undo=l.emitter(),this._did_redo=l.emitter(),this.model=this._model,this.did_undo=this._did_undo,this.did_redo=this._did_redo,this.disposer.add_all(a.quest_editor_store.current_quest.observe(({value:e})=>this.quest_changed(e),{call_now:!0}),u.issues.observe(({value:e})=>this.update_model_markers(e),{call_now:!0}))}dispose(){this.disposer.dispose()}quest_changed(e){if(this.undo.reset(),this.model_disposer.dispose_all(),e){const t=u.disassemble(e),i=this.model_disposer.add(n.editor.createModel(t.join("\n"),"psoasm"));let o=i.getAlternativeVersionId(),s=o,r=o;this.model_disposer.add(i.onDidChangeContent(e=>{const t=i.getAlternativeVersionId();t<s?(this.undo.can_redo.val=!0,t===o&&(this.undo.can_undo.val=!1)):(t<=r?t===r&&(this.undo.can_redo.val=!1):(this.undo.can_redo.val=!1,s>r&&(r=s)),this.undo.can_undo.val=!0),s=t,u.update_assembly(e.changes)})),this._model.val=i}else this._model.val=void 0}update_model_markers({warnings:e,errors:t}){const i=this.model.val;i&&n.editor.setModelMarkers(i,"psoasm",e.map(e=>({severity:n.MarkerSeverity.Hint,message:e.message,startLineNumber:e.line_no,endLineNumber:e.line_no,startColumn:e.col,endColumn:e.col+e.length,tags:[n.MarkerTag.Unnecessary]})).concat(t.map(e=>({severity:n.MarkerSeverity.Error,message:e.message,startLineNumber:e.line_no,endLineNumber:e.line_no,startColumn:e.col,endColumn:e.col+e.length}))))}}t.AsmEditorStore=c,t.asm_editor_store=new c},"Sa3/":function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,s){function r(e){try{d(n.next(e))}catch(e){s(e)}}function a(e){try{d(n.throw(e))}catch(e){s(e)}}function d(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(r,a)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.read_file=function(e){return n(this,void 0,void 0,function*(){return new Promise((t,i)=>{const n=new FileReader;n.addEventListener("loadend",()=>{n.result instanceof ArrayBuffer?t(n.result):i(new Error("Couldn't read file."))}),n.readAsArrayBuffer(e)})})}},SoCI:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("xs7i");t.get_areas_for_episode=function(e){return o[e]},t.get_area_variant=function(e,t,i){const n=o[e].find(e=>e.id===t);if(!n)throw new Error(`No area with id ${t}.`);const s=n.area_variants[i];if(!s)throw new Error(`No area variant with id ${i}.`);return s};const o=[];function s(e,t,i,n){const o={id:e,name:t,order:i,area_variants:[]};for(let e=0;e<n;e++)o.area_variants.push({id:e,area:o});return o}let r=0;o[n.Episode.I]=[s(0,"Pioneer II",r++,1),s(1,"Forest 1",r++,1),s(2,"Forest 2",r++,1),s(11,"Under the Dome",r++,1),s(3,"Cave 1",r++,6),s(4,"Cave 2",r++,5),s(5,"Cave 3",r++,6),s(12,"Underground Channel",r++,1),s(6,"Mine 1",r++,6),s(7,"Mine 2",r++,6),s(13,"Monitor Room",r++,1),s(8,"Ruins 1",r++,5),s(9,"Ruins 2",r++,5),s(10,"Ruins 3",r++,5),s(14,"Dark Falz",r++,1)],r=0,o[n.Episode.II]=[s(0,"Lab",r++,1),s(1,"VR Temple Alpha",r++,3),s(2,"VR Temple Beta",r++,3),s(14,"VR Temple Final",r++,1),s(3,"VR Spaceship Alpha",r++,3),s(4,"VR Spaceship Beta",r++,3),s(15,"VR Spaceship Final",r++,1),s(5,"Central Control Area",r++,1),s(6,"Jungle Area East",r++,1),s(7,"Jungle Area North",r++,1),s(8,"Mountain Area",r++,3),s(9,"Seaside Area",r++,1),s(12,"Cliffs of Gal Da Val",r++,1),s(10,"Seabed Upper Levels",r++,3),s(11,"Seabed Lower Levels",r++,3),s(13,"Test Subject Disposal Area",r++,1),s(16,"Seaside Area at Night",r++,2),s(17,"Control Tower",r++,5)],r=0,o[n.Episode.IV]=[s(0,"Pioneer II (Ep. IV)",r++,1),s(1,"Crater Route 1",r++,1),s(2,"Crater Route 2",r++,1),s(3,"Crater Route 3",r++,1),s(4,"Crater Route 4",r++,1),s(5,"Crater Interior",r++,1),s(6,"Subterranean Desert 1",r++,3),s(7,"Subterranean Desert 2",r++,3),s(8,"Subterranean Desert 3",r++,3),s(9,"Meteor Impact Site",r++,1)]},TRid:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i("Tpfs"),s=i("FXpb"),r=i("4VsB"),a=n(i("GGSb")).default.get("core/gui/Widget");t.Widget=class{constructor(e,t){this.disposed=!1,this.disposer=new o.Disposer,this._visible=new r.WidgetProperty(this,!0,this.set_visible),this._enabled=new r.WidgetProperty(this,!0,this.set_enabled),this._tooltip=new r.WidgetProperty(this,"",this.set_tooltip),this.construction_finalized=!1,this.element=e,this.visible=this._visible,this.enabled=this._enabled,this.tooltip=this._tooltip,this.options=t||{},this.options.class&&this.element.classList.add(this.options.class),setTimeout(()=>{this.construction_finalized||a.warn(`finalize_construction is never called for ${Object.getPrototypeOf(this).constructor.name}.`)},0)}get id(){return this.element.id}set id(e){this.element.id=e}focus(){this.element.focus()}dispose(){this.element.remove(),this.disposer.dispose(),this.disposed=!0}finalize_construction(e){Object.getPrototypeOf(this)===e&&(this.construction_finalized=!0,"boolean"==typeof this.options.enabled?this.enabled.val=this.options.enabled:this.options.enabled&&this.enabled.bind_to(this.options.enabled),"string"==typeof this.options.tooltip?this.tooltip.val=this.options.tooltip:this.options.tooltip&&this.tooltip.bind_to(this.options.tooltip))}set_visible(e){this.element.hidden=!e}set_enabled(e){e?this.element.classList.remove("disabled"):this.element.classList.add("disabled")}set_tooltip(e){this.element.title=e}bind_hidden(e,t){this.disposable(s.bind_hidden(e,t))}disposable(e){return this.disposer.add(e)}disposables(...e){this.disposer.add_all(...e)}}},Tpfs:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("GGSb").get("core/observable/Disposer");t.Disposer=class{constructor(...e){this._disposed=!1,this.disposables=e}get length(){return this.disposables.length}get disposed(){return this._disposed}add(e){return this._disposed||this.disposables.push(e),e}insert(e,t){return this._disposed||this.disposables.splice(e,0,t),t}add_all(...e){return this._disposed||this.disposables.push(...e),this}dispose_all(){this.dispose_at(0,this.disposables.length)}dispose(){this.dispose_all(),this._disposed=!0}dispose_at(e,t=1){for(const i of this.disposables.splice(e,t))try{i.dispose()}catch(e){n.warn("Error while disposing.",e)}}}},"Ts/k":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("ouMO"),o=i("n5fr");t.NOOP_UNDO={can_redo:n.property(!1),can_undo:n.property(!1),first_redo:n.property(void 0),first_undo:n.property(void 0),ensure_not_current(){},make_current(){o.undo_manager.current.val=this},redo:()=>!1,reset(){},undo:()=>!1}},VRtl:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("w6HN"),o=i("6cU9"),s=i("oyid"),r=i("PE7g"),a=i("7CyS"),d=i("tyuj"),l=i("7ZX1"),u=i("FXpb");class c extends n.ToolBar{constructor(){const e=new o.FileButton("Open file...",{icon_left:u.Icon.File,accept:".nj, .njm, .xj, .xvm"}),t=new s.CheckBox(!1,{label:"Show skeleton"}),i=new s.CheckBox(!0,{label:"Play animation"}),n=new r.NumberInput(a.PSO_FRAME_RATE,{label:"Frame rate:",min:1,max:240,step:1}),_=new r.NumberInput(1,{label:"Frame:",min:1,max:d.model_store.animation_frame_count,step:1}),p=new l.Label(d.model_store.animation_frame_count.map(e=>`/ ${e}`));super({children:[e,t,i,n,_,p]}),this.disposables(e.files.observe(({value:e})=>{e.length&&d.model_store.load_file(e[0])}),d.model_store.show_skeleton.bind_to(t.checked));const v=d.model_store.current_nj_motion.map(e=>null!=e);this.disposables(i.enabled.bind_to(v),d.model_store.animation_playing.bind_bi(i.checked),n.enabled.bind_to(v),d.model_store.animation_frame_rate.bind_to(n.value),_.enabled.bind_to(v),d.model_store.animation_frame.bind_to(_.value),_.value.bind_to(d.model_store.animation_frame.map(e=>Math.round(e))),p.enabled.bind_to(v)),this.finalize_construction(c.prototype)}}t.Model3DToolBar=c},VwSi:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("kwt4"),o=i("yRp4"),s=1296321870;var r;function a(e,t){let i=e.u32();const n=e.u32(),o=e.u16(),s=e.u16(),a=(192&s)>>6,u=15&s,c=[];for(let s=0;s<t;s++){e.seek_start(i),i=i+=8*u;let t={tracks:[]};c.push(t);const s=[],a=[];for(let t=0;t<u;t++)s.push(e.u32());for(let t=0;t<u;t++){const t=e.u32();a.push(t)}if(1&o){e.seek_start(s.shift());const i=a.shift();i&&t.tracks.push({type:r.Position,keyframes:d(e,i)})}if(2&o){e.seek_start(s.shift());const i=a.shift();i&&t.tracks.push({type:r.Rotation,keyframes:l(e,i,n)})}if(4&o){e.seek_start(s.shift());const i=a.shift();i&&t.tracks.push({type:r.Scale,keyframes:d(e,i)})}}return{motion_data:c,frame_count:n,type:o,interpolation:a,element_count:u}}function d(e,t){const i=[];for(let n=0;n<t;++n)i.push({frame:e.u32(),value:new o.Vec3(e.f32(),e.f32(),e.f32())});return i}function l(e,t,i){const s=[],r=e.position;for(let i=0;i<t;++i)s.push({frame:e.u16(),value:new o.Vec3(e.u16()*n.ANGLE_TO_RAD,e.u16()*n.ANGLE_TO_RAD,e.u16()*n.ANGLE_TO_RAD)});let a=-1;for(const{frame:n}of s){if(n<a||n>=i)return e.seek_start(r),u(e,t);a=n}return s}function u(e,t){const i=[];for(let s=0;s<t;++s)i.push({frame:e.u32(),value:new o.Vec3(e.i32()*n.ANGLE_TO_RAD,e.i32()*n.ANGLE_TO_RAD,e.i32()*n.ANGLE_TO_RAD)});return i}!function(e){e[e.Linear=0]="Linear",e[e.Spline=1]="Spline",e[e.UserFunction=2]="UserFunction"}(t.NjInterpolation||(t.NjInterpolation={})),function(e){e[e.Position=0]="Position",e[e.Rotation=1]="Rotation",e[e.Scale=2]="Scale"}(r=t.NjKeyframeTrackType||(t.NjKeyframeTrackType={})),t.parse_njm=function(e,t){return e.u32()===s?function(e,t){const i=e.u32();return a(e.take(i),t)}(e,t):(e.seek_start(0),function(e,t){e.seek_end(16);const i=e.u32();e.seek_start(i);const n=e.u32();return e.seek_start(n),function(e,t){e.seek(4);const i=e.u32();return e.seek_start(i),a(e,t)}(e,t)}(e,t))}},W7aE:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("nN8q"),o=i("FXpb"),s=i("KUR2"),r=i("YkZX"),a=i("4SjJ"),d=i("c5EP");class l extends n.ResizableWidget{constructor(){super(o.el.div({class:"quest_editor_QuestRendererView",tab_index:-1})),this.renderer_view=this.disposable(new s.RendererWidget(new r.QuestRenderer)),this.element.append(this.renderer_view.element),this.element.addEventListener("focus",()=>d.quest_editor_store.undo.make_current(),!0),this.renderer_view.start_rendering(),this.disposables(a.gui_store.tool.observe(({value:e})=>{e===a.GuiTool.QuestEditor?this.renderer_view.start_rendering():this.renderer_view.stop_rendering()})),this.finalize_construction(l.prototype)}resize(e,t){return super.resize(e,t),this.renderer_view.resize(e,t),this}}t.QuestRendererView=l},WJtm:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("TRid"),o=i("FXpb"),s=i("yar8"),r=i("sMN3"),a=i("ouMO"),d=i("nsCy"),l=i("xs7i");i("a0xr");const u=i("ExVU");class c extends n.Widget{constructor(){super(o.el.div({class:"hunt_optimizer_OptimizationResultView"},o.el.h2({text:"Ideal Combination of Methods"}))),this.disposable(r.hunt_optimizer_stores.observe_current(e=>{this.results_observer&&this.results_observer.dispose(),this.results_observer=e.result.observe(({value:e})=>this.update_table(e),{call_now:!0})},{call_now:!0})),this.finalize_construction(c.prototype)}dispose(){super.dispose(),this.results_observer&&this.results_observer.dispose(),this.table&&this.table.dispose()}update_table(e){this.table&&this.table.dispose();let t=0,i=u.Duration.fromMillis(0);if(e)for(const n of e.optimal_methods)t+=n.runs,i=i.plus(n.total_time);const n=[{title:"Difficulty",fixed:!0,width:80,render_cell:e=>d.Difficulty[e.difficulty],footer:{render_cell:()=>"Totals:"}},{title:"Method",fixed:!0,width:250,render_cell:e=>e.method_name},{title:"Ep.",fixed:!0,width:40,render_cell:e=>l.Episode[e.method_episode]},{title:"Section ID",fixed:!0,width:90,render_cell(e){const t=o.el.span({},...e.section_ids.map(e=>o.section_id_icon(e,{size:17})));return t.style.display="flex",t}},{title:"Time/Run",width:90,text_align:"center",render_cell:e=>e.method_time.toFormat("hh:mm")},{title:"Runs",width:60,text_align:"right",render_cell:e=>e.runs.toFixed(1),tooltip:e=>e.runs.toString(),footer:{render_cell:()=>t.toFixed(1),tooltip:()=>t.toString()}},{title:"Total Hours",width:60,text_align:"right",render_cell:e=>e.total_time.as("hours").toFixed(1),tooltip:e=>e.total_time.as("hours").toString(),footer:{render_cell:()=>i.as("hours").toFixed(1),tooltip:()=>i.as("hours").toString()}}];if(e)for(const t of e.wanted_items){let i=0;for(const n of e.optimal_methods)i+=n.item_counts.get(t)||0;n.push({title:t.name,width:80,text_align:"right",render_cell(e){const i=e.item_counts.get(t);return i?i.toFixed(2):""},tooltip(e){const i=e.item_counts.get(t);return i?i.toString():""},footer:{render_cell:()=>i.toFixed(2),tooltip:()=>i.toString()}})}this.table=new s.Table({class:"hunt_optimizer_OptimizationResultView_table",values:e?a.list_property(void 0,...e.optimal_methods):a.list_property(),columns:n}),this.element.append(this.table.element)}}t.OptimizationResultView=c},XDYw:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("yRp4"),o=i("4mUz");t.parse_area_collision_geometry=function(e){const{data_offset:t}=o.parse_rel(e,!1);e.seek_start(t);const i=e.u32();e.seek_start(i);const s={meshes:[]};for(;e.bytes_left;){const t=e.position,i=e.u32();if(0===i)break;const o={vertices:[],triangles:[]};s.meshes.push(o),e.seek_start(i);const r=e.u32(),a=e.u32(),d=e.u32(),l=e.u32();e.seek_start(a);for(let t=0;t<r;t++){const t=e.f32(),i=e.f32(),s=e.f32();o.vertices.push(new n.Vec3(t,i,s))}e.seek_start(l);for(let t=0;t<d;t++){const t=e.u16(),i=e.u16(),s=e.u16(),r=e.u16(),a=e.f32(),d=e.f32(),l=e.f32();e.seek(16),o.triangles.push({indices:[t,i,s],flags:r,normal:new n.Vec3(a,d,l)})}e.seek_start(t+24)}return s}},XcMJ:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(i("GGSb")),s=i("lg9k"),r=i("ZPAt"),a=i("GXOi"),d=i("IMNf"),l=i("NRxM"),u=i("/Wax"),c=i("bcBH"),_=i("yRp4"),p=i("DixV"),v=i("DuVK"),h=i("xs7i"),w=i("+oIp"),f=i("AF+w"),m=i("sZ1+"),g=o.default.get("core/data_formats/parsing/quest");function y(e,t){return t.map(t=>({type:O(e,t),area_id:t.area_id,section_id:t.section_id,position:t.position,rotation:t.rotation,scale:t.scale,unknown:t.unknown,pso_type_id:t.type_id,npc_id:t.npc_id,script_label:Math.round(t.script_label),roaming:t.roaming}))}function O(e,{type_id:t,scale:i,roaming:n,area_id:o}){const s=Math.abs(i.y-1)>1e-5;switch(`${t}, ${n%3}, ${e}`){case"68, 0, 1":return m.NpcType.Booma;case"68, 1, 1":return m.NpcType.Gobooma;case"68, 2, 1":return m.NpcType.Gigobooma;case"99, 0, 1":return m.NpcType.EvilShark;case"99, 1, 1":return m.NpcType.PalShark;case"99, 2, 1":return m.NpcType.GuilShark;case"166, 0, 1":return m.NpcType.Dimenian;case"166, 0, 2":return m.NpcType.Dimenian2;case"166, 1, 1":return m.NpcType.LaDimenian;case"166, 1, 2":return m.NpcType.LaDimenian2;case"166, 2, 1":return m.NpcType.SoDimenian;case"166, 2, 2":return m.NpcType.SoDimenian2;case"214, 0, 2":return m.NpcType.Mericarol;case"214, 1, 2":return m.NpcType.Mericus;case"214, 2, 2":return m.NpcType.Merikle;case"277, 0, 4":return m.NpcType.Boota;case"277, 1, 4":return m.NpcType.ZeBoota;case"277, 2, 4":return m.NpcType.BaBoota;case"279, 0, 4":return m.NpcType.Goran;case"279, 1, 4":return m.NpcType.PyroGoran;case"279, 2, 4":return m.NpcType.GoranDetonator}switch(`${t}, ${n%2}, ${e}`){case"64, 0, 1":return m.NpcType.Hildebear;case"64, 0, 2":return m.NpcType.Hildebear2;case"64, 1, 1":return m.NpcType.Hildeblue;case"64, 1, 2":return m.NpcType.Hildeblue2;case"65, 0, 1":return m.NpcType.RagRappy;case"65, 0, 2":return m.NpcType.RagRappy2;case"65, 0, 4":return m.NpcType.SandRappy;case"65, 1, 1":return m.NpcType.AlRappy;case"65, 1, 2":return m.NpcType.LoveRappy;case"65, 1, 4":return m.NpcType.DelRappy;case"128, 0, 1":return m.NpcType.Dubchic;case"128, 0, 2":return m.NpcType.Dubchic2;case"128, 1, 1":return m.NpcType.Gilchic;case"128, 1, 2":return m.NpcType.Gilchic2;case"212, 0, 2":return m.NpcType.SinowBerill;case"212, 1, 2":return m.NpcType.SinowSpigell;case"213, 0, 2":return m.NpcType.Merillia;case"213, 1, 2":return m.NpcType.Meriltas;case"215, 0, 2":return m.NpcType.UlGibbon;case"215, 1, 2":return m.NpcType.ZolGibbon;case"221, 0, 2":return m.NpcType.Dolmolm;case"221, 1, 2":return m.NpcType.Dolmdarl;case"224, 0, 2":return o>15?m.NpcType.Epsilon:m.NpcType.SinowZoa;case"224, 1, 2":return o>15?m.NpcType.Epsilon:m.NpcType.SinowZele;case"274, 0, 4":return m.NpcType.MerissaA;case"274, 1, 4":return m.NpcType.MerissaAA;case"276, 0, 4":return m.NpcType.Zu;case"276, 1, 4":return m.NpcType.Pazuzu;case"278, 0, 4":return m.NpcType.Dorphon;case"278, 1, 4":return m.NpcType.DorphonEclair;case"281, 0, 4":return s?m.NpcType.SaintMilion:m.NpcType.Kondrieu;case"281, 1, 4":return s?m.NpcType.Shambertin:m.NpcType.Kondrieu}switch(`${t}, ${e}`){case"66, 1":return m.NpcType.Monest;case"66, 2":return m.NpcType.Monest2;case"67, 1":return s?m.NpcType.SavageWolf:m.NpcType.BarbarousWolf;case"67, 2":return s?m.NpcType.SavageWolf2:m.NpcType.BarbarousWolf2;case"96, 1":return m.NpcType.GrassAssassin;case"96, 2":return m.NpcType.GrassAssassin2;case"97, 1":return o>15?m.NpcType.DelLily:s?m.NpcType.PoisonLily:m.NpcType.NarLily;case"97, 2":return o>15?m.NpcType.DelLily:s?m.NpcType.PoisonLily2:m.NpcType.NarLily2;case"98, 1":return m.NpcType.NanoDragon;case"100, 1":return s?m.NpcType.PofuillySlime:m.NpcType.PouillySlime;case"101, 1":return m.NpcType.PanArms;case"101, 2":return m.NpcType.PanArms2;case"129, 1":return m.NpcType.Garanz;case"129, 2":return m.NpcType.Garanz2;case"130, 1":return s?m.NpcType.SinowBeat:m.NpcType.SinowGold;case"131, 1":return m.NpcType.Canadine;case"132, 1":return m.NpcType.Canane;case"133, 1":return m.NpcType.Dubswitch;case"133, 2":return m.NpcType.Dubswitch2;case"160, 1":return m.NpcType.Delsaber;case"160, 2":return m.NpcType.Delsaber2;case"161, 1":return m.NpcType.ChaosSorcerer;case"161, 2":return m.NpcType.ChaosSorcerer2;case"162, 1":return m.NpcType.DarkGunner;case"164, 1":return m.NpcType.ChaosBringer;case"165, 1":return m.NpcType.DarkBelra;case"165, 2":return m.NpcType.DarkBelra2;case"167, 1":return m.NpcType.Bulclaw;case"168, 1":return m.NpcType.Claw;case"192, 1":return m.NpcType.Dragon;case"192, 2":return m.NpcType.GalGryphon;case"193, 1":return m.NpcType.DeRolLe;case"197, 1":return m.NpcType.VolOpt;case"200, 1":return m.NpcType.DarkFalz;case"202, 2":return m.NpcType.OlgaFlow;case"203, 2":return m.NpcType.BarbaRay;case"204, 2":return m.NpcType.GolDragon;case"216, 2":return m.NpcType.Gibbles;case"217, 2":return m.NpcType.Gee;case"218, 2":return m.NpcType.GiGue;case"219, 2":return m.NpcType.Deldepth;case"220, 2":return m.NpcType.Delbiter;case"222, 2":return m.NpcType.Morfos;case"223, 2":return m.NpcType.Recobox;case"225, 2":return m.NpcType.IllGill;case"272, 4":return m.NpcType.Astark;case"273, 4":return s?m.NpcType.SatelliteLizard:m.NpcType.Yowie;case"275, 4":return m.NpcType.Girtablulu}switch(t){case 4:return m.NpcType.FemaleFat;case 5:return m.NpcType.FemaleMacho;case 7:return m.NpcType.FemaleTall;case 10:return m.NpcType.MaleDwarf;case 11:return m.NpcType.MaleFat;case 12:return m.NpcType.MaleMacho;case 13:return m.NpcType.MaleOld;case 25:return m.NpcType.BlueSoldier;case 26:return m.NpcType.RedSoldier;case 27:return m.NpcType.Principal;case 28:return m.NpcType.Tekker;case 29:return m.NpcType.GuildLady;case 30:return m.NpcType.Scientist;case 31:return m.NpcType.Nurse;case 32:return m.NpcType.Irene;case 241:return m.NpcType.ItemShop;case 254:return m.NpcType.Nurse2}return m.NpcType.Unknown}function b(e){const t=new DataView(new ArrayBuffer(4));return e.map(e=>{const i=function(e){switch(e){default:throw new Error(`Unexpected type ${m.NpcType[e]}.`);case m.NpcType.Unknown:return;case m.NpcType.FemaleFat:return{type_id:4,roaming:0,regular:!0};case m.NpcType.FemaleMacho:return{type_id:5,roaming:0,regular:!0};case m.NpcType.FemaleTall:return{type_id:7,roaming:0,regular:!0};case m.NpcType.MaleDwarf:return{type_id:10,roaming:0,regular:!0};case m.NpcType.MaleFat:return{type_id:11,roaming:0,regular:!0};case m.NpcType.MaleMacho:return{type_id:12,roaming:0,regular:!0};case m.NpcType.MaleOld:return{type_id:13,roaming:0,regular:!0};case m.NpcType.BlueSoldier:return{type_id:25,roaming:0,regular:!0};case m.NpcType.RedSoldier:return{type_id:26,roaming:0,regular:!0};case m.NpcType.Principal:return{type_id:27,roaming:0,regular:!0};case m.NpcType.Tekker:return{type_id:28,roaming:0,regular:!0};case m.NpcType.GuildLady:return{type_id:29,roaming:0,regular:!0};case m.NpcType.Scientist:return{type_id:30,roaming:0,regular:!0};case m.NpcType.Nurse:return{type_id:31,roaming:0,regular:!0};case m.NpcType.Irene:return{type_id:32,roaming:0,regular:!0};case m.NpcType.ItemShop:return{type_id:241,roaming:0,regular:!0};case m.NpcType.Nurse2:return{type_id:254,roaming:0,regular:!0};case m.NpcType.Hildebear:return{type_id:64,roaming:0,regular:!0};case m.NpcType.Hildeblue:return{type_id:64,roaming:1,regular:!0};case m.NpcType.RagRappy:return{type_id:65,roaming:0,regular:!0};case m.NpcType.AlRappy:return{type_id:65,roaming:1,regular:!0};case m.NpcType.Monest:return{type_id:66,roaming:0,regular:!0};case m.NpcType.SavageWolf:return{type_id:67,roaming:0,regular:!0};case m.NpcType.BarbarousWolf:return{type_id:67,roaming:0,regular:!1};case m.NpcType.Booma:return{type_id:68,roaming:0,regular:!0};case m.NpcType.Gobooma:return{type_id:68,roaming:1,regular:!0};case m.NpcType.Gigobooma:return{type_id:68,roaming:2,regular:!0};case m.NpcType.Dragon:return{type_id:192,roaming:0,regular:!0};case m.NpcType.GrassAssassin:return{type_id:96,roaming:0,regular:!0};case m.NpcType.PoisonLily:return{type_id:97,roaming:0,regular:!0};case m.NpcType.NarLily:return{type_id:97,roaming:1,regular:!0};case m.NpcType.NanoDragon:return{type_id:98,roaming:0,regular:!0};case m.NpcType.EvilShark:return{type_id:99,roaming:0,regular:!0};case m.NpcType.PalShark:return{type_id:99,roaming:1,regular:!0};case m.NpcType.GuilShark:return{type_id:99,roaming:2,regular:!0};case m.NpcType.PofuillySlime:return{type_id:100,roaming:0,regular:!0};case m.NpcType.PouillySlime:return{type_id:100,roaming:0,regular:!1};case m.NpcType.PanArms:return{type_id:101,roaming:0,regular:!0};case m.NpcType.DeRolLe:return{type_id:193,roaming:0,regular:!0};case m.NpcType.Dubchic:return{type_id:128,roaming:0,regular:!0};case m.NpcType.Gilchic:return{type_id:128,roaming:1,regular:!0};case m.NpcType.Garanz:return{type_id:129,roaming:0,regular:!0};case m.NpcType.SinowBeat:return{type_id:130,roaming:0,regular:!0};case m.NpcType.SinowGold:return{type_id:130,roaming:0,regular:!1};case m.NpcType.Canadine:return{type_id:131,roaming:0,regular:!0};case m.NpcType.Canane:return{type_id:132,roaming:0,regular:!0};case m.NpcType.Dubswitch:return{type_id:133,roaming:0,regular:!0};case m.NpcType.VolOpt:return{type_id:197,roaming:0,regular:!0};case m.NpcType.Delsaber:return{type_id:160,roaming:0,regular:!0};case m.NpcType.ChaosSorcerer:return{type_id:161,roaming:0,regular:!0};case m.NpcType.DarkGunner:return{type_id:162,roaming:0,regular:!0};case m.NpcType.ChaosBringer:return{type_id:164,roaming:0,regular:!0};case m.NpcType.DarkBelra:return{type_id:165,roaming:0,regular:!0};case m.NpcType.Dimenian:return{type_id:166,roaming:0,regular:!0};case m.NpcType.LaDimenian:return{type_id:166,roaming:1,regular:!0};case m.NpcType.SoDimenian:return{type_id:166,roaming:2,regular:!0};case m.NpcType.Bulclaw:return{type_id:167,roaming:0,regular:!0};case m.NpcType.Claw:return{type_id:168,roaming:0,regular:!0};case m.NpcType.DarkFalz:return{type_id:200,roaming:0,regular:!0};case m.NpcType.Hildebear2:return{type_id:64,roaming:0,regular:!0};case m.NpcType.Hildeblue2:return{type_id:64,roaming:1,regular:!0};case m.NpcType.RagRappy2:return{type_id:65,roaming:0,regular:!0};case m.NpcType.LoveRappy:return{type_id:65,roaming:1,regular:!0};case m.NpcType.Monest2:return{type_id:66,roaming:0,regular:!0};case m.NpcType.PoisonLily2:return{type_id:97,roaming:0,regular:!0};case m.NpcType.NarLily2:return{type_id:97,roaming:1,regular:!0};case m.NpcType.GrassAssassin2:return{type_id:96,roaming:0,regular:!0};case m.NpcType.Dimenian2:return{type_id:166,roaming:0,regular:!0};case m.NpcType.LaDimenian2:return{type_id:166,roaming:1,regular:!0};case m.NpcType.SoDimenian2:return{type_id:166,roaming:2,regular:!0};case m.NpcType.DarkBelra2:return{type_id:165,roaming:0,regular:!0};case m.NpcType.BarbaRay:return{type_id:203,roaming:0,regular:!0};case m.NpcType.SavageWolf2:return{type_id:67,roaming:0,regular:!0};case m.NpcType.BarbarousWolf2:return{type_id:67,roaming:0,regular:!1};case m.NpcType.PanArms2:return{type_id:101,roaming:0,regular:!0};case m.NpcType.Dubchic2:return{type_id:128,roaming:0,regular:!0};case m.NpcType.Gilchic2:return{type_id:128,roaming:1,regular:!0};case m.NpcType.Garanz2:return{type_id:129,roaming:0,regular:!0};case m.NpcType.Dubswitch2:return{type_id:133,roaming:0,regular:!0};case m.NpcType.Delsaber2:return{type_id:160,roaming:0,regular:!0};case m.NpcType.ChaosSorcerer2:return{type_id:161,roaming:0,regular:!0};case m.NpcType.GolDragon:return{type_id:204,roaming:0,regular:!0};case m.NpcType.SinowBerill:return{type_id:212,roaming:0,regular:!0};case m.NpcType.SinowSpigell:return{type_id:212,roaming:1,regular:!0};case m.NpcType.Merillia:return{type_id:213,roaming:0,regular:!0};case m.NpcType.Meriltas:return{type_id:213,roaming:1,regular:!0};case m.NpcType.Mericarol:return{type_id:214,roaming:0,regular:!0};case m.NpcType.Mericus:return{type_id:214,roaming:1,regular:!0};case m.NpcType.Merikle:return{type_id:214,roaming:2,regular:!0};case m.NpcType.UlGibbon:return{type_id:215,roaming:0,regular:!0};case m.NpcType.ZolGibbon:return{type_id:215,roaming:1,regular:!0};case m.NpcType.Gibbles:return{type_id:216,roaming:0,regular:!0};case m.NpcType.Gee:return{type_id:217,roaming:0,regular:!0};case m.NpcType.GiGue:return{type_id:218,roaming:0,regular:!0};case m.NpcType.GalGryphon:return{type_id:192,roaming:0,regular:!0};case m.NpcType.Deldepth:return{type_id:219,roaming:0,regular:!0};case m.NpcType.Delbiter:return{type_id:220,roaming:0,regular:!0};case m.NpcType.Dolmolm:return{type_id:221,roaming:0,regular:!0};case m.NpcType.Dolmdarl:return{type_id:221,roaming:1,regular:!0};case m.NpcType.Morfos:return{type_id:222,roaming:0,regular:!0};case m.NpcType.Recobox:return{type_id:223,roaming:0,regular:!0};case m.NpcType.Epsilon:case m.NpcType.SinowZoa:return{type_id:224,roaming:0,regular:!0};case m.NpcType.SinowZele:return{type_id:224,roaming:1,regular:!0};case m.NpcType.IllGill:return{type_id:225,roaming:0,regular:!0};case m.NpcType.DelLily:return{type_id:97,roaming:0,regular:!0};case m.NpcType.OlgaFlow:return{type_id:202,roaming:0,regular:!0};case m.NpcType.SandRappy:return{type_id:65,roaming:0,regular:!0};case m.NpcType.DelRappy:return{type_id:65,roaming:1,regular:!0};case m.NpcType.Astark:return{type_id:272,roaming:0,regular:!0};case m.NpcType.SatelliteLizard:return{type_id:273,roaming:0,regular:!0};case m.NpcType.Yowie:return{type_id:273,roaming:0,regular:!1};case m.NpcType.MerissaA:return{type_id:274,roaming:0,regular:!0};case m.NpcType.MerissaAA:return{type_id:274,roaming:1,regular:!0};case m.NpcType.Girtablulu:return{type_id:275,roaming:0,regular:!0};case m.NpcType.Zu:return{type_id:276,roaming:0,regular:!0};case m.NpcType.Pazuzu:return{type_id:276,roaming:1,regular:!0};case m.NpcType.Boota:return{type_id:277,roaming:0,regular:!0};case m.NpcType.ZeBoota:return{type_id:277,roaming:1,regular:!0};case m.NpcType.BaBoota:return{type_id:277,roaming:2,regular:!0};case m.NpcType.Dorphon:return{type_id:278,roaming:0,regular:!0};case m.NpcType.DorphonEclair:return{type_id:278,roaming:1,regular:!0};case m.NpcType.Goran:return{type_id:279,roaming:0,regular:!0};case m.NpcType.PyroGoran:return{type_id:279,roaming:1,regular:!0};case m.NpcType.GoranDetonator:return{type_id:279,roaming:2,regular:!0};case m.NpcType.SaintMilion:return{type_id:281,roaming:0,regular:!0};case m.NpcType.Shambertin:return{type_id:281,roaming:1,regular:!0};case m.NpcType.Kondrieu:return{type_id:281,roaming:0,regular:!1}}}(e.type)||{type_id:e.pso_type_id,roaming:e.roaming,regular:!0};t.setFloat32(0,e.scale.y),t.setUint32(0,-8388609&t.getUint32(0)|(i.regular?0:8388608));const n=t.getFloat32(0);let o=new _.Vec3(e.scale.x,n,e.scale.z);return{type_id:i.type_id,section_id:e.section_id,position:e.position,rotation:e.rotation,scale:o,npc_id:e.npc_id,script_label:e.script_label,roaming:i.roaming,area_id:e.area_id,unknown:e.unknown}})}t.parse_quest=function(e,t=!1){const i=f.parse_qst(e);if(!i)return;let n,o;for(const e of i.files){const t=e.name.trim().toLowerCase();t.endsWith(".dat")?n=e:t.endsWith(".bin")&&(o=e)}if(!n)return void g.error("File contains no DAT file.");if(!o)return void g.error("File contains no BIN file.");const a=d.prs_decompress(new l.ArrayBufferCursor(n.data,c.Endianness.Little)),u=v.parse_dat(a),_=u.objs.map(e=>{const t=w.pso_id_to_object_type(e.type_id);return{type:t,id:e.id,group_id:e.group_id,area_id:e.area_id,section_id:e.section_id,position:e.position,rotation:e.rotation,properties:new Map(e.properties.map((e,i)=>3!==i||t!==w.ObjectType.ScriptCollision&&t!==w.ObjectType.ForestConsole&&t!==w.ObjectType.TalkLinkToSupport?4===i&&t===w.ObjectType.RicoMessagePod?["script_label",e]:5===i&&t===w.ObjectType.RicoMessagePod?["script_label_2",e]:[`property_${i}`,e]:["script_label",e])),unknown:e.unknown}}),m=d.prs_decompress(new l.ArrayBufferCursor(o.data,c.Endianness.Little)),O=p.parse_bin(m,function(e,t){const i=new Set([0]);for(const t of e){const e=t.properties.get("script_label");null!=e&&i.add(e);const n=t.properties.get("script_label_2");null!=n&&i.add(n)}for(const e of t)i.add(Math.round(e.script_label));return[...i]}(_,u.npcs),t);let b=h.Episode.I,E=new Map;if(O.object_code.length){let e;for(const t of O.object_code)if(t.type===s.SegmentType.Instructions&&t.labels.includes(0)){e=t;break}e?(b=function(e){const t=e.find(e=>e.opcode===r.Opcode.SET_EPISODE);if(!t)return g.debug("Function 0 has no set_episode instruction."),h.Episode.I;switch(t.args[0].value){default:case 0:return h.Episode.I;case 1:return h.Episode.II;case 2:return h.Episode.IV}}(e.instructions),E=function(e,t,i){const n=new Map;for(const e of i)e.opcode===r.Opcode.BB_MAP_DESIGNATE&&n.set(e.args[0].value,e.args[2].value);return n}(0,0,e.instructions)):g.warn("No instruction for label 0 found.")}else g.warn("File contains no instruction labels.");return{id:O.quest_id,language:O.language,name:O.quest_name,short_description:O.short_description,long_description:O.long_description,episode:b,objects:_,npcs:y(b,u.npcs),dat_unknowns:u.unknowns,object_code:O.object_code,shop_items:O.shop_items,map_designations:E}},t.write_quest_qst=function(e,t){const i=v.write_dat({objs:(n=e.objects,n.map(e=>({type_id:w.object_data(e.type).pso_id,id:e.id,group_id:e.group_id,section_id:e.section_id,position:e.position,rotation:e.rotation,properties:[...e.properties.values()],area_id:e.area_id,unknown:e.unknown}))),npcs:b(e.npcs),unknowns:e.dat_unknowns});var n;const o=p.write_bin(new p.BinFile(e.id,e.language,e.name,e.short_description,e.long_description,e.object_code,e.shop_items)),s=t.lastIndexOf("."),r=-1===s?t.slice(0,11):t.slice(0,Math.min(11,s));return f.write_qst({files:[{name:r+".dat",id:e.id,data:a.prs_compress(new u.ResizableBufferCursor(i,c.Endianness.Little)).array_buffer()},{name:r+".bin",id:e.id,data:a.prs_compress(new l.ArrayBufferCursor(o,c.Endianness.Little)).array_buffer()}]})}},Y3Jw:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("nN8q"),o=i("FXpb");i("8TW1");class s extends n.ResizableWidget{constructor(e,t){super(o.create_element("ul",{class:"viewer_Model3DSelectListView"})),this.models=e,this.selected=t,this.list_click=e=>{if(e.target instanceof HTMLLIElement&&e.target.dataset.index){this.selected_element&&this.selected_element.classList.remove("active"),e.target.classList.add("active");const t=parseInt(e.target.dataset.index,10);this.selected_element=e.target,this.selected.val=this.models[t]}},this.element.onclick=this.list_click,e.forEach((e,t)=>{this.element.append(o.create_element("li",{text:e.name,data:{index:t.toString()}}))}),this.disposable(t.observe(({value:e})=>{if(this.selected_element&&(this.selected_element.classList.remove("active"),this.selected_element=void 0),e&&e!==this.selected_model){const t=this.models.indexOf(e);-1!==t&&(this.selected_element=this.element.childNodes[t],this.selected_element.classList.add("active"))}})),this.finalize_construction(s.prototype)}set borders(e){e?(this.element.style.borderLeft="var(--border)",this.element.style.borderRight="var(--border)"):(this.element.style.borderLeft="none",this.element.style.borderRight="none")}}t.Model3DSelectListView=s},YkZX:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("Ftn7"),o=i("Womt"),s=i("c5EP"),r=i("3CEK"),a=i("Tpfs"),d=i("Gc0Z");t.QuestRenderer=class extends n.Renderer{constructor(){super(new o.PerspectiveCamera(60,1,10,1e4)),this._collision_geometry=new o.Object3D,this._render_geometry=new o.Object3D,this._entity_models=new o.Object3D,this.disposer=new a.Disposer,this.entity_to_mesh=new Map,this.model_manager=this.disposer.add(new r.QuestModelManager(this)),this.entity_controls=this.disposer.add(new d.QuestEntityControls(this)),this.load_models=()=>{this.model_manager.load_models(s.quest_editor_store.current_quest.val,s.quest_editor_store.current_area.val)},this.perspective_camera=this.camera,this.disposer.add_all(s.quest_editor_store.current_quest.observe(this.load_models),s.quest_editor_store.current_area.observe(this.load_models),s.quest_editor_store.debug.observe(({value:e})=>this.debug=e)),this.dom_element.addEventListener("mousedown",this.entity_controls.on_mouse_down),this.dom_element.addEventListener("mouseup",this.entity_controls.on_mouse_up),this.dom_element.addEventListener("mousemove",this.entity_controls.on_mouse_move)}get debug(){return super.debug}set debug(e){this.debug!==e&&(super.debug=e,this._render_geometry.visible=e,this.schedule_render())}get collision_geometry(){return this._collision_geometry}set collision_geometry(e){this.scene.remove(this.collision_geometry),this._collision_geometry=e,this.scene.add(e)}get render_geometry(){return this._render_geometry}set render_geometry(e){this.scene.remove(this._render_geometry),this._render_geometry=e,e.visible=this.debug,this.scene.add(e)}get entity_models(){return this._entity_models}dispose(){super.dispose(),this.disposer.dispose()}set_size(e,t){this.perspective_camera.aspect=e/t,this.perspective_camera.updateProjectionMatrix(),super.set_size(e,t)}reset_entity_models(){this.scene.remove(this._entity_models),this._entity_models=new o.Group,this.scene.add(this._entity_models),this.entity_to_mesh.clear()}add_entity_model(e){const t=e.userData.entity;this._entity_models.add(e),this.entity_to_mesh.set(t,e),t===s.quest_editor_store.selected_entity.val&&this.entity_controls.try_highlight(t),this.schedule_render()}get_entity_mesh(e){return this.entity_to_mesh.get(e)}}},Yq7v:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("nN8q"),o=i("FXpb"),s=i("5aKR"),r=i("c5EP"),a=i("IjTL"),d=i("yQqj");i("egRq");const l=i("PE7g"),u=i("Tpfs"),c=i("yRp4");class _ extends n.ResizableWidget{constructor(){super(o.el.div({class:"quest_editor_EntityInfoView",tab_index:-1})),this.no_entity_view=new s.DisabledView("No entity selected."),this.table_element=o.el.table(),this.pos_x_element=this.disposable(new l.NumberInput(0,{width:80,round_to:3})),this.pos_y_element=this.disposable(new l.NumberInput(0,{width:80,round_to:3})),this.pos_z_element=this.disposable(new l.NumberInput(0,{width:80,round_to:3})),this.world_pos_x_element=this.disposable(new l.NumberInput(0,{width:80,round_to:3})),this.world_pos_y_element=this.disposable(new l.NumberInput(0,{width:80,round_to:3})),this.world_pos_z_element=this.disposable(new l.NumberInput(0,{width:80,round_to:3})),this.entity_disposer=new u.Disposer;const e=r.quest_editor_store.selected_entity,t=e.map(e=>null==e),i="quest_editor_EntityInfoView_coord";this.table_element.append(o.el.tr({},o.el.th({text:"Type:"}),this.type_element=o.el.td()),o.el.tr({},o.el.th({text:"Name:"}),this.name_element=o.el.td()),o.el.tr({},o.el.th({text:"Section:"}),this.section_id_element=o.el.td()),o.el.tr({},o.el.th({text:"Section position:",col_span:2})),o.el.tr({},o.el.th({text:"X:",class:i}),o.el.td({},this.pos_x_element.element)),o.el.tr({},o.el.th({text:"Y:",class:i}),o.el.td({},this.pos_y_element.element)),o.el.tr({},o.el.th({text:"Z:",class:i}),o.el.td({},this.pos_z_element.element)),o.el.tr({},o.el.th({text:"World position:",col_span:2})),o.el.tr({},o.el.th({text:"X:",class:i}),o.el.td({},this.world_pos_x_element.element)),o.el.tr({},o.el.th({text:"Y:",class:i}),o.el.td({},this.world_pos_y_element.element)),o.el.tr({},o.el.th({text:"Z:",class:i}),o.el.td({},this.world_pos_z_element.element))),this.element.append(this.table_element,this.no_entity_view.element),this.element.addEventListener("focus",()=>r.quest_editor_store.undo.make_current(),!0),this.bind_hidden(this.table_element,t),this.disposables(this.no_entity_view.visible.bind_to(t),e.observe(({value:e})=>{if(this.entity_disposer.dispose_all(),e){this.type_element.innerText=e instanceof a.QuestNpcModel?"NPC":"Object";const t=d.entity_data(e.type).name;this.name_element.innerText=t,this.name_element.title=t,this.entity_disposer.add(e.section_id.observe(({value:e})=>{this.section_id_element.innerText=e.toString()},{call_now:!0})),this.observe(e,e.position,!1,this.pos_x_element,this.pos_y_element,this.pos_z_element),this.observe(e,e.world_position,!0,this.world_pos_x_element,this.world_pos_y_element,this.world_pos_z_element)}})),this.finalize_construction(_.prototype)}dispose(){super.dispose(),this.entity_disposer.dispose()}observe(e,t,i,n,o,s){this.entity_disposer.add_all(t.observe(({value:{x:e,y:t,z:i}})=>{n.value.val=e,o.value.val=t,s.value.val=i},{call_now:!0}),n.value.observe(({value:n})=>r.quest_editor_store.push_translate_entity_action(e,e.section.val,e.section.val,t.val,new c.Vec3(n,t.val.y,t.val.z),i)),o.value.observe(({value:n})=>r.quest_editor_store.push_translate_entity_action(e,e.section.val,e.section.val,t.val,new c.Vec3(t.val.x,n,t.val.z),i)),s.value.observe(({value:n})=>r.quest_editor_store.push_translate_entity_action(e,e.section.val,e.section.val,t.val,new c.Vec3(t.val.x,t.val.y,n),i)))}}t.EntityInfoView=_},Yuai:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,s){function r(e){try{d(n.next(e))}catch(e){s(e)}}function a(e){try{d(n.throw(e))}catch(e){s(e)}}function d(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(r,a)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.load_array_buffer=function(e){return n(this,void 0,void 0,function*(){return(yield fetch("/assets"+e)).arrayBuffer()})}},ZPAt:function(e,t,i){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Any=0]="Any",e[e.Byte=1]="Byte",e[e.Word=2]="Word",e[e.DWord=3]="DWord",e[e.Float=4]="Float",e[e.Label=5]="Label",e[e.ILabel=6]="ILabel",e[e.DLabel=7]="DLabel",e[e.SLabel=8]="SLabel",e[e.String=9]="String",e[e.ILabelVar=10]="ILabelVar",e[e.RegRef=11]="RegRef",e[e.RegTupRef=12]="RegTupRef",e[e.RegRefVar=13]="RegRefVar",e[e.Pointer=14]="Pointer"}(n=t.Kind||(t.Kind={}));const o={kind:n.Any},s={kind:n.Byte},r={kind:n.Word},a={kind:n.DWord},d={kind:n.Float},l={kind:n.Label},u={kind:n.ILabel},c={kind:n.DLabel},_={kind:n.SLabel},p={kind:n.String},v={kind:n.ILabelVar},h={kind:n.RegRef},w={kind:n.RegRefVar},f={kind:n.Pointer};var m,g;t.MIN_SIGNED_DWORD_VALUE=-Math.pow(2,31),t.MAX_SIGNED_DWORD_VALUE=Math.pow(2,31)-1,t.MIN_UNSIGNED_DWORD_VALUE=0,t.MAX_UNSIGNED_DWORD_VALUE=Math.pow(2,32)-1,t.MIN_DWORD_VALUE=t.MIN_SIGNED_DWORD_VALUE,t.MAX_DWORD_VALUE=t.MAX_UNSIGNED_DWORD_VALUE,function(e){e[e.Read=0]="Read",e[e.Write=1]="Write",e[e.ReadWrite=2]="ReadWrite"}(m=t.ParamAccess||(t.ParamAccess={}));class y{constructor(e,t,i){this.type=e,this.doc=t,this.access=i}}t.Param=y,function(e){e[e.Push=0]="Push",e[e.Pop=1]="Pop"}(g=t.StackInteraction||(t.StackInteraction={})),t.OPCODES=[],t.OPCODES_BY_MNEMONIC=new Map;class O{constructor(e,t,i,n,o){this.code=e,this.mnemonic=t,this.doc=i,this.size=this.code<256?1:2,this.params=n,this.stack=o}}O.NOP=t.OPCODES[0]=new O(0,"nop","No operation, does nothing.",[],void 0),O.RET=t.OPCODES[1]=new O(1,"ret","Returns control to caller.",[],void 0),O.SYNC=t.OPCODES[2]=new O(2,"sync","Yields control for the rest of the current frame. Execution will continue the following frame.",[],void 0),O.EXIT=t.OPCODES[3]=new O(3,"exit",void 0,[new y(a,void 0,void 0)],g.Pop),O.THREAD=t.OPCODES[4]=new O(4,"thread","Starts a new thread. Thread execution will start at the given label.\nOften used to check a register every frame. Make sure to yield control with sync when looping.",[new y(u,void 0,void 0)],void 0),O.VA_START=t.OPCODES[5]=new O(5,"va_start","Initializes a variable argument list.\nMake sure to call va_end after va_start and va_call.",[],void 0),O.VA_END=t.OPCODES[6]=new O(6,"va_end","Restores the registers overwritten by arg_push* instructions.\nCalled after va_call.",[],void 0),O.VA_CALL=t.OPCODES[7]=new O(7,"va_call","Calls the variable argument function at the given label.\nCalled after initializing the argument list with va_start and pushing arguments onto the stack with arg_push* instructions. Make sure to call va_end afterwards.",[new y(u,void 0,void 0)],void 0),O.LET=t.OPCODES[8]=new O(8,"let","Sets the first register's value to second one's value.",[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0)],void 0),O.LETI=t.OPCODES[9]=new O(9,"leti","Sets a register to the given value.",[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y(a,void 0,void 0)],void 0),O.LETB=t.OPCODES[10]=new O(10,"letb","Sets a register to the given value.",[new y({kind:n.RegTupRef,register_tuples:[new y(s,void 0,m.Write)]},void 0,void 0),new y(s,void 0,void 0)],void 0),O.LETW=t.OPCODES[11]=new O(11,"letw","Sets a register to the given value.",[new y({kind:n.RegTupRef,register_tuples:[new y(r,void 0,m.Write)]},void 0,void 0),new y(r,void 0,void 0)],void 0),O.LETA=t.OPCODES[12]=new O(12,"leta","Sets the first register to the memory address of the second register. Not used by Sega.",[new y({kind:n.RegTupRef,register_tuples:[new y(f,void 0,m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.LETO=t.OPCODES[13]=new O(13,"leto","Sets a register to the memory address of the given label. Not used by Sega.",[new y({kind:n.RegTupRef,register_tuples:[new y(f,void 0,m.Write)]},void 0,void 0),new y(l,void 0,void 0)],void 0),O.UNKNOWN_0E=t.OPCODES[14]=new O(14,"unknown_0e",void 0,[],void 0),O.UNKNOWN_0F=t.OPCODES[15]=new O(15,"unknown_0f",void 0,[],void 0),O.SET=t.OPCODES[16]=new O(16,"set","Sets a register to 1.",[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.CLEAR=t.OPCODES[17]=new O(17,"clear","Sets a register to 0.",[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.REV=t.OPCODES[18]=new O(18,"rev","Sets a register to 1 if its current value is 0, otherwise sets it to 0.",[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.ReadWrite)]},void 0,void 0)],void 0),O.GSET=t.OPCODES[19]=new O(19,"gset",void 0,[new y(r,void 0,void 0)],void 0),O.GCLEAR=t.OPCODES[20]=new O(20,"gclear",void 0,[new y(r,void 0,void 0)],void 0),O.GREV=t.OPCODES[21]=new O(21,"grev",void 0,[new y(r,void 0,void 0)],void 0),O.GLET=t.OPCODES[22]=new O(22,"glet",void 0,[new y(r,void 0,void 0)],void 0),O.GGET=t.OPCODES[23]=new O(23,"gget","Sets a register to value of the given flag.",[new y(r,void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(r,void 0,m.Write)]},void 0,void 0)],void 0),O.ADD=t.OPCODES[24]=new O(24,"add",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0)],void 0),O.ADDI=t.OPCODES[25]=new O(25,"addi",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y(a,void 0,void 0)],void 0),O.SUB=t.OPCODES[26]=new O(26,"sub",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0)],void 0),O.SUBI=t.OPCODES[27]=new O(27,"subi",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y(a,void 0,void 0)],void 0),O.MUL=t.OPCODES[28]=new O(28,"mul",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0)],void 0),O.MULI=t.OPCODES[29]=new O(29,"muli",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y(a,void 0,void 0)],void 0),O.DIV=t.OPCODES[30]=new O(30,"div",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0)],void 0),O.DIVI=t.OPCODES[31]=new O(31,"divi",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y(a,void 0,void 0)],void 0),O.AND=t.OPCODES[32]=new O(32,"and",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0)],void 0),O.ANDI=t.OPCODES[33]=new O(33,"andi",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y(a,void 0,void 0)],void 0),O.OR=t.OPCODES[34]=new O(34,"or",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0)],void 0),O.ORI=t.OPCODES[35]=new O(35,"ori",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y(a,void 0,void 0)],void 0),O.XOR=t.OPCODES[36]=new O(36,"xor",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0)],void 0),O.XORI=t.OPCODES[37]=new O(37,"xori",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y(a,void 0,void 0)],void 0),O.MOD=t.OPCODES[38]=new O(38,"mod",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0)],void 0),O.MODI=t.OPCODES[39]=new O(39,"modi",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y(a,void 0,void 0)],void 0),O.JMP=t.OPCODES[40]=new O(40,"jmp",void 0,[new y(u,void 0,void 0)],void 0),O.CALL=t.OPCODES[41]=new O(41,"call",void 0,[new y(u,void 0,void 0)],void 0),O.JMP_ON=t.OPCODES[42]=new O(42,"jmp_on",void 0,[new y(u,void 0,void 0),new y(w,void 0,m.Read)],void 0),O.JMP_OFF=t.OPCODES[43]=new O(43,"jmp_off",void 0,[new y(u,void 0,void 0),new y(w,void 0,m.Read)],void 0),O.JMP_E=t.OPCODES[44]=new O(44,"jmp_=",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0),new y(u,void 0,void 0)],void 0),O.JMPI_E=t.OPCODES[45]=new O(45,"jmpi_=",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0),new y(a,void 0,void 0),new y(u,void 0,void 0)],void 0),O.JMP_NE=t.OPCODES[46]=new O(46,"jmp_!=",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0),new y(u,void 0,void 0)],void 0),O.JMPI_NE=t.OPCODES[47]=new O(47,"jmpi_!=",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0),new y(a,void 0,void 0),new y(u,void 0,void 0)],void 0),O.UJMP_G=t.OPCODES[48]=new O(48,"ujmp_>",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0),new y(u,void 0,void 0)],void 0),O.UJMPI_G=t.OPCODES[49]=new O(49,"ujmpi_>",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0),new y(a,void 0,void 0),new y(u,void 0,void 0)],void 0),O.JMP_G=t.OPCODES[50]=new O(50,"jmp_>",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0),new y(u,void 0,void 0)],void 0),O.JMPI_G=t.OPCODES[51]=new O(51,"jmpi_>",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0),new y(a,void 0,void 0),new y(u,void 0,void 0)],void 0),O.UJMP_L=t.OPCODES[52]=new O(52,"ujmp_<",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0),new y(u,void 0,void 0)],void 0),O.UJMPI_L=t.OPCODES[53]=new O(53,"ujmpi_<",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0),new y(a,void 0,void 0),new y(u,void 0,void 0)],void 0),O.JMP_L=t.OPCODES[54]=new O(54,"jmp_<",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0),new y(u,void 0,void 0)],void 0),O.JMPI_L=t.OPCODES[55]=new O(55,"jmpi_<",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0),new y(a,void 0,void 0),new y(u,void 0,void 0)],void 0),O.UJMP_GE=t.OPCODES[56]=new O(56,"ujmp_>=",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0),new y(u,void 0,void 0)],void 0),O.UJMPI_GE=t.OPCODES[57]=new O(57,"ujmpi_>=",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0),new y(a,void 0,void 0),new y(u,void 0,void 0)],void 0),O.JMP_GE=t.OPCODES[58]=new O(58,"jmp_>=",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0),new y(u,void 0,void 0)],void 0),O.JMPI_GE=t.OPCODES[59]=new O(59,"jmpi_>=",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0),new y(a,void 0,void 0),new y(u,void 0,void 0)],void 0),O.UJMP_LE=t.OPCODES[60]=new O(60,"ujmp_<=",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0),new y(u,void 0,void 0)],void 0),O.UJMPI_LE=t.OPCODES[61]=new O(61,"ujmpi_<=",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0),new y(a,void 0,void 0),new y(u,void 0,void 0)],void 0),O.JMP_LE=t.OPCODES[62]=new O(62,"jmp_<=",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0),new y(u,void 0,void 0)],void 0),O.JMPI_LE=t.OPCODES[63]=new O(63,"jmpi_<=",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0),new y(a,void 0,void 0),new y(u,void 0,void 0)],void 0),O.SWITCH_JMP=t.OPCODES[64]=new O(64,"switch_jmp",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0),new y(v,void 0,void 0)],void 0),O.SWITCH_CALL=t.OPCODES[65]=new O(65,"switch_call",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0),new y(v,void 0,void 0)],void 0),O.STACK_PUSH=t.OPCODES[66]=new O(66,"stack_push",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.STACK_POP=t.OPCODES[67]=new O(67,"stack_pop",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.STACK_PUSHM=t.OPCODES[68]=new O(68,"stack_pushm","Pushes the values of an arbitrary amount of registers onto the stack.",[new y(h,void 0,m.Read),new y(a,void 0,void 0)],void 0),O.STACK_POPM=t.OPCODES[69]=new O(69,"stack_popm","Pops an arbitrary amount of values from the stack and writes them to registers.",[new y(h,void 0,m.Write),new y(a,void 0,void 0)],void 0),O.UNKNOWN_46=t.OPCODES[70]=new O(70,"unknown_46",void 0,[],void 0),O.UNKNOWN_47=t.OPCODES[71]=new O(71,"unknown_47",void 0,[],void 0),O.ARG_PUSHR=t.OPCODES[72]=new O(72,"arg_pushr","Pushes the value of the given register onto the stack.",[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],g.Push),O.ARG_PUSHL=t.OPCODES[73]=new O(73,"arg_pushl","Pushes the given value onto the stack.",[new y(a,void 0,void 0)],g.Push),O.ARG_PUSHB=t.OPCODES[74]=new O(74,"arg_pushb","Pushes the given value onto the stack.",[new y(s,void 0,void 0)],g.Push),O.ARG_PUSHW=t.OPCODES[75]=new O(75,"arg_pushw","Pushes the given value onto the stack.",[new y(r,void 0,void 0)],g.Push),O.ARG_PUSHA=t.OPCODES[76]=new O(76,"arg_pusha","Pushes the memory address of the given register onto the stack. Not used by Sega.",[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],g.Push),O.ARG_PUSHO=t.OPCODES[77]=new O(77,"arg_pusho","Pushes the memory address of the given label onto the stack. Not used by Sega.",[new y(l,void 0,void 0)],g.Push),O.ARG_PUSHS=t.OPCODES[78]=new O(78,"arg_pushs","Pushes the given value onto the stack.",[new y(p,void 0,void 0)],g.Push),O.UNKNOWN_4F=t.OPCODES[79]=new O(79,"unknown_4f",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.MESSAGE=t.OPCODES[80]=new O(80,"message",void 0,[new y(a,void 0,void 0),new y(p,void 0,void 0)],g.Pop),O.LIST=t.OPCODES[81]=new O(81,"list","Used to display a list of items and retrieve the item selected by the player.\nList items should be seperated by newlines. The selected item's index will be written to the given register.",[new y({kind:n.RegTupRef,register_tuples:[new y(s,void 0,m.Write)]},void 0,void 0),new y(p,void 0,void 0)],g.Pop),O.FADEIN=t.OPCODES[82]=new O(82,"fadein",void 0,[],void 0),O.FADEOUT=t.OPCODES[83]=new O(83,"fadeout",void 0,[],void 0),O.SE=t.OPCODES[84]=new O(84,"se",void 0,[new y(a,void 0,void 0)],g.Pop),O.BGM=t.OPCODES[85]=new O(85,"bgm",void 0,[new y(a,void 0,void 0)],g.Pop),O.UNKNOWN_56=t.OPCODES[86]=new O(86,"unknown_56",void 0,[],void 0),O.UNKNOWN_57=t.OPCODES[87]=new O(87,"unknown_57",void 0,[],void 0),O.ENABLE=t.OPCODES[88]=new O(88,"enable",void 0,[new y(a,void 0,void 0)],g.Pop),O.DISABLE=t.OPCODES[89]=new O(89,"disable",void 0,[new y(a,void 0,void 0)],g.Pop),O.WINDOW_MSG=t.OPCODES[90]=new O(90,"window_msg",void 0,[new y(p,void 0,void 0)],g.Pop),O.ADD_MSG=t.OPCODES[91]=new O(91,"add_msg",void 0,[new y(p,void 0,void 0)],g.Pop),O.MESEND=t.OPCODES[92]=new O(92,"mesend",void 0,[],void 0),O.GETTIME=t.OPCODES[93]=new O(93,"gettime",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.WINEND=t.OPCODES[94]=new O(94,"winend",void 0,[],void 0),O.UNKNOWN_5F=t.OPCODES[95]=new O(95,"unknown_5f",void 0,[],void 0),O.NPC_CRT_V3=t.OPCODES[96]=new O(96,"npc_crt_v3",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.NPC_STOP=t.OPCODES[97]=new O(97,"npc_stop",void 0,[new y(a,void 0,void 0)],g.Pop),O.NPC_PLAY=t.OPCODES[98]=new O(98,"npc_play",void 0,[new y(a,void 0,void 0)],g.Pop),O.NPC_KILL=t.OPCODES[99]=new O(99,"npc_kill",void 0,[new y(a,void 0,void 0)],g.Pop),O.NPC_NONT=t.OPCODES[100]=new O(100,"npc_nont",void 0,[],void 0),O.NPC_TALK=t.OPCODES[101]=new O(101,"npc_talk",void 0,[],void 0),O.NPC_CRP_V3=t.OPCODES[102]=new O(102,"npc_crp_v3",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read),new y(o,void 0,m.Read),new y(o,void 0,m.Read),new y(u,void 0,m.Read),new y(o,void 0,m.Read),new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.UNKNOWN_67=t.OPCODES[103]=new O(103,"unknown_67",void 0,[],void 0),O.CREATE_PIPE=t.OPCODES[104]=new O(104,"create_pipe",void 0,[new y(a,void 0,void 0)],g.Pop),O.P_HPSTAT_V3=t.OPCODES[105]=new O(105,"p_hpstat_v3",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0),new y(a,void 0,void 0)],g.Pop),O.P_DEAD_V3=t.OPCODES[106]=new O(106,"p_dead_v3",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y(a,"Player slot.",void 0)],g.Pop),O.P_DISABLEWARP=t.OPCODES[107]=new O(107,"p_disablewarp",void 0,[],void 0),O.P_ENABLEWARP=t.OPCODES[108]=new O(108,"p_enablewarp",void 0,[],void 0),O.P_MOVE_V3=t.OPCODES[109]=new O(109,"p_move_v3",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.P_LOOK=t.OPCODES[110]=new O(110,"p_look",void 0,[new y(a,void 0,void 0)],g.Pop),O.UNKNOWN_6F=t.OPCODES[111]=new O(111,"unknown_6f",void 0,[],void 0),O.P_ACTION_DISABLE=t.OPCODES[112]=new O(112,"p_action_disable",void 0,[],void 0),O.P_ACTION_ENABLE=t.OPCODES[113]=new O(113,"p_action_enable",void 0,[],void 0),O.DISABLE_MOVEMENT1=t.OPCODES[114]=new O(114,"disable_movement1",void 0,[new y(a,void 0,void 0)],g.Pop),O.ENABLE_MOVEMENT1=t.OPCODES[115]=new O(115,"enable_movement1",void 0,[new y(a,void 0,void 0)],g.Pop),O.P_NONCOL=t.OPCODES[116]=new O(116,"p_noncol",void 0,[],void 0),O.P_COL=t.OPCODES[117]=new O(117,"p_col",void 0,[],void 0),O.P_SETPOS=t.OPCODES[118]=new O(118,"p_setpos","Sets a player's position.",[new y(a,"Player slot.",void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,"X coordinate.",m.Read),new y(a,"Y coordinate.",m.Read),new y(a,"Z coordinate.",m.Read),new y(a,"Y-axis rotation.",m.Read)]},void 0,void 0)],g.Pop),O.P_RETURN_GUILD=t.OPCODES[119]=new O(119,"p_return_guild",void 0,[],void 0),O.P_TALK_GUILD=t.OPCODES[120]=new O(120,"p_talk_guild",void 0,[new y(a,void 0,void 0)],g.Pop),O.NPC_TALK_PL_V3=t.OPCODES[121]=new O(121,"npc_talk_pl_v3",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.NPC_TALK_KILL=t.OPCODES[122]=new O(122,"npc_talk_kill",void 0,[new y(a,void 0,void 0)],g.Pop),O.NPC_CRTPK_V3=t.OPCODES[123]=new O(123,"npc_crtpk_v3",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.NPC_CRPPK_V3=t.OPCODES[124]=new O(124,"npc_crppk_v3",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.NPC_CRPTALK_V3=t.OPCODES[125]=new O(125,"npc_crptalk_v3",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.P_LOOK_AT_V1=t.OPCODES[126]=new O(126,"p_look_at_v1",void 0,[new y(a,void 0,void 0),new y(a,void 0,void 0)],g.Pop),O.NPC_CRP_ID_V3=t.OPCODES[127]=new O(127,"npc_crp_id_v3",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.CAM_QUAKE=t.OPCODES[128]=new O(128,"cam_quake",void 0,[],void 0),O.CAM_ADJ=t.OPCODES[129]=new O(129,"cam_adj",void 0,[],void 0),O.CAM_ZMIN=t.OPCODES[130]=new O(130,"cam_zmin",void 0,[],void 0),O.CAM_ZMOUT=t.OPCODES[131]=new O(131,"cam_zmout",void 0,[],void 0),O.CAM_PAN_V3=t.OPCODES[132]=new O(132,"cam_pan_v3",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read),new y(a,void 0,m.Read),new y(a,void 0,m.Read),new y(a,void 0,m.Read),new y(a,void 0,m.Read)]},void 0,void 0)],void 0),O.GAME_LEV_SUPER=t.OPCODES[133]=new O(133,"game_lev_super",void 0,[],void 0),O.GAME_LEV_RESET=t.OPCODES[134]=new O(134,"game_lev_reset",void 0,[],void 0),O.POS_PIPE_V3=t.OPCODES[135]=new O(135,"pos_pipe_v3","Create a telepipe at a specific position for the given player slot that takes players back to Pioneer 2 or the Lab.",[new y({kind:n.RegTupRef,register_tuples:[new y(a,"X coordinate.",m.Read),new y(a,"Y coordinate.",m.Read),new y(a,"Z coordinate.",m.Read),new y(a,"Player slot.",m.Read)]},void 0,void 0)],void 0),O.IF_ZONE_CLEAR=t.OPCODES[136]=new O(136,"if_zone_clear",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read),new y(a,void 0,m.Read)]},void 0,void 0)],void 0),O.CHK_ENE_NUM=t.OPCODES[137]=new O(137,"chk_ene_num","Retrieves the amount of enemies killed during the quest.",[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.UNHIDE_OBJ=t.OPCODES[138]=new O(138,"unhide_obj",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read),new y(a,void 0,m.Read),new y(a,void 0,m.Read)]},void 0,void 0)],void 0),O.UNHIDE_ENE=t.OPCODES[139]=new O(139,"unhide_ene",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read),new y(a,void 0,m.Read),new y(a,void 0,m.Read),new y(a,void 0,m.Read)]},void 0,void 0)],void 0),O.AT_COORDS_CALL=t.OPCODES[140]=new O(140,"at_coords_call",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read),new y(a,void 0,m.Read),new y(a,void 0,m.Read),new y(a,void 0,m.Read),new y(u,void 0,m.Read)]},void 0,void 0)],void 0),O.AT_COORDS_TALK=t.OPCODES[141]=new O(141,"at_coords_talk",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read),new y(a,void 0,m.Read),new y(a,void 0,m.Read),new y(a,void 0,m.Read),new y(u,void 0,m.Read)]},void 0,void 0)],void 0),O.COL_NPCIN=t.OPCODES[142]=new O(142,"col_npcin",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read),new y(a,void 0,m.Read),new y(a,void 0,m.Read),new y(a,void 0,m.Read),new y(u,void 0,m.Read)]},void 0,void 0)],void 0),O.COL_NPCINR=t.OPCODES[143]=new O(143,"col_npcinr",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.SWITCH_ON=t.OPCODES[144]=new O(144,"switch_on",void 0,[new y(a,void 0,void 0)],g.Pop),O.SWITCH_OFF=t.OPCODES[145]=new O(145,"switch_off",void 0,[new y(a,void 0,void 0)],g.Pop),O.PLAYBGM_EPI=t.OPCODES[146]=new O(146,"playbgm_epi",void 0,[new y(a,void 0,void 0)],g.Pop),O.SET_MAINWARP=t.OPCODES[147]=new O(147,"set_mainwarp",void 0,[new y(a,void 0,void 0)],g.Pop),O.SET_OBJ_PARAM=t.OPCODES[148]=new O(148,"set_obj_param","Creates a targetable object.",[new y({kind:n.RegTupRef,register_tuples:[new y(a,"X coordinate.",m.Read),new y(a,"Y coordinate.",m.Read),new y(a,"Z coordinate.",m.Read),new y(a,"Collision radius.",m.Read),new y(u,"Function label.",m.Read),new y(a,"Vertical position of the cursor.",m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},"Object handle.",void 0)],void 0),O.SET_FLOOR_HANDLER=t.OPCODES[149]=new O(149,"set_floor_handler",void 0,[new y(a,"Floor number.",void 0),new y(u,"Handler function label.",void 0)],g.Pop),O.CLR_FLOOR_HANDLER=t.OPCODES[150]=new O(150,"clr_floor_handler",void 0,[new y(a,"Floor number.",void 0)],g.Pop),O.COL_PLINAW=t.OPCODES[151]=new O(151,"col_plinaw",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.HUD_HIDE=t.OPCODES[152]=new O(152,"hud_hide",void 0,[],void 0),O.HUD_SHOW=t.OPCODES[153]=new O(153,"hud_show",void 0,[],void 0),O.CINE_ENABLE=t.OPCODES[154]=new O(154,"cine_enable",void 0,[],void 0),O.CINE_DISABLE=t.OPCODES[155]=new O(155,"cine_disable",void 0,[],void 0),O.UNKNOWN_9C=t.OPCODES[156]=new O(156,"unknown_9c",void 0,[],void 0),O.UNKNOWN_9D=t.OPCODES[157]=new O(157,"unknown_9d",void 0,[],void 0),O.UNKNOWN_9E=t.OPCODES[158]=new O(158,"unknown_9e",void 0,[],void 0),O.UNKNOWN_9F=t.OPCODES[159]=new O(159,"unknown_9f",void 0,[],void 0),O.UNKNOWN_A0=t.OPCODES[160]=new O(160,"unknown_a0",void 0,[],void 0),O.SET_QT_FAILURE=t.OPCODES[161]=new O(161,"set_qt_failure",void 0,[new y(u,void 0,void 0)],void 0),O.SET_QT_SUCCESS=t.OPCODES[162]=new O(162,"set_qt_success",void 0,[new y(u,void 0,void 0)],void 0),O.CLR_QT_FAILURE=t.OPCODES[163]=new O(163,"clr_qt_failure",void 0,[],void 0),O.CLR_QT_SUCCESS=t.OPCODES[164]=new O(164,"clr_qt_success",void 0,[],void 0),O.SET_QT_CANCEL=t.OPCODES[165]=new O(165,"set_qt_cancel",void 0,[new y(u,void 0,void 0)],void 0),O.CLR_QT_CANCEL=t.OPCODES[166]=new O(166,"clr_qt_cancel",void 0,[],void 0),O.UNKNOWN_A7=t.OPCODES[167]=new O(167,"unknown_a7",void 0,[],void 0),O.PL_WALK_V3=t.OPCODES[168]=new O(168,"pl_walk_v3",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.UNKNOWN_A9=t.OPCODES[169]=new O(169,"unknown_a9",void 0,[],void 0),O.UNKNOWN_AA=t.OPCODES[170]=new O(170,"unknown_aa",void 0,[],void 0),O.UNKNOWN_AB=t.OPCODES[171]=new O(171,"unknown_ab",void 0,[],void 0),O.UNKNOWN_AC=t.OPCODES[172]=new O(172,"unknown_ac",void 0,[],void 0),O.UNKNOWN_AD=t.OPCODES[173]=new O(173,"unknown_ad",void 0,[],void 0),O.UNKNOWN_AE=t.OPCODES[174]=new O(174,"unknown_ae",void 0,[],void 0),O.UNKNOWN_AF=t.OPCODES[175]=new O(175,"unknown_af",void 0,[],void 0),O.PL_ADD_MESETA=t.OPCODES[176]=new O(176,"pl_add_meseta",void 0,[new y(a,void 0,void 0),new y(a,void 0,void 0)],g.Pop),O.THREAD_STG=t.OPCODES[177]=new O(177,"thread_stg",void 0,[new y(u,void 0,void 0)],void 0),O.DEL_OBJ_PARAM=t.OPCODES[178]=new O(178,"del_obj_param",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},"Object handle.",void 0)],void 0),O.ITEM_CREATE=t.OPCODES[179]=new O(179,"item_create",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.ITEM_CREATE2=t.OPCODES[180]=new O(180,"item_create2",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.ITEM_DELETE=t.OPCODES[181]=new O(181,"item_delete",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.ITEM_DELETE2=t.OPCODES[182]=new O(182,"item_delete2","Deletes an item from the player's inventory.",[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read),new y(a,void 0,m.Read),new y(a,void 0,m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.ITEM_CHECK=t.OPCODES[183]=new O(183,"item_check",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.SETEVT=t.OPCODES[184]=new O(184,"setevt",void 0,[new y(a,void 0,void 0)],g.Pop),O.GET_DIFFLVL=t.OPCODES[185]=new O(185,"get_difflvl","Sets the given register to the current difficulty. 0 For normal, 1 for hard and 2 for both very hard and ultimate.\nUse get_difficulty_level2 if you want to differentiate between very hard and ultimate.",[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.SET_QT_EXIT=t.OPCODES[186]=new O(186,"set_qt_exit",void 0,[new y(u,void 0,void 0)],void 0),O.CLR_QT_EXIT=t.OPCODES[187]=new O(187,"clr_qt_exit",void 0,[],void 0),O.UNKNOWN_BC=t.OPCODES[188]=new O(188,"unknown_bc",void 0,[],void 0),O.UNKNOWN_BD=t.OPCODES[189]=new O(189,"unknown_bd",void 0,[],void 0),O.UNKNOWN_BE=t.OPCODES[190]=new O(190,"unknown_be",void 0,[],void 0),O.UNKNOWN_BF=t.OPCODES[191]=new O(191,"unknown_bf",void 0,[],void 0),O.PARTICLE_V3=t.OPCODES[192]=new O(192,"particle_v3",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.NPC_TEXT=t.OPCODES[193]=new O(193,"npc_text",void 0,[new y(a,void 0,void 0),new y(p,void 0,void 0)],g.Pop),O.NPC_CHKWARP=t.OPCODES[194]=new O(194,"npc_chkwarp",void 0,[],void 0),O.PL_PKOFF=t.OPCODES[195]=new O(195,"pl_pkoff",void 0,[],void 0),O.MAP_DESIGNATE=t.OPCODES[196]=new O(196,"map_designate",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.MASTERKEY_ON=t.OPCODES[197]=new O(197,"masterkey_on",void 0,[],void 0),O.MASTERKEY_OFF=t.OPCODES[198]=new O(198,"masterkey_off",void 0,[],void 0),O.WINDOW_TIME=t.OPCODES[199]=new O(199,"window_time",void 0,[],void 0),O.WINEND_TIME=t.OPCODES[200]=new O(200,"winend_time",void 0,[],void 0),O.WINSET_TIME=t.OPCODES[201]=new O(201,"winset_time",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.GETMTIME=t.OPCODES[202]=new O(202,"getmtime",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.SET_QUEST_BOARD_HANDLER=t.OPCODES[203]=new O(203,"set_quest_board_handler",void 0,[new y(a,void 0,void 0),new y(u,void 0,void 0),new y(p,void 0,void 0)],g.Pop),O.CLEAR_QUEST_BOARD_HANDLER=t.OPCODES[204]=new O(204,"clear_quest_board_handler",void 0,[new y(a,void 0,void 0)],g.Pop),O.PARTICLE_ID_V3=t.OPCODES[205]=new O(205,"particle_id_v3",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read),new y(a,void 0,m.Read),new y(a,void 0,m.Read),new y(a,void 0,m.Read)]},void 0,void 0)],void 0),O.NPC_CRPTALK_ID_V3=t.OPCODES[206]=new O(206,"npc_crptalk_id_v3",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.NPC_LANG_CLEAN=t.OPCODES[207]=new O(207,"npc_lang_clean",void 0,[],void 0),O.PL_PKON=t.OPCODES[208]=new O(208,"pl_pkon",void 0,[],void 0),O.PL_CHK_ITEM2=t.OPCODES[209]=new O(209,"pl_chk_item2",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.ENABLE_MAINMENU=t.OPCODES[210]=new O(210,"enable_mainmenu",void 0,[],void 0),O.DISABLE_MAINMENU=t.OPCODES[211]=new O(211,"disable_mainmenu",void 0,[],void 0),O.START_BATTLEBGM=t.OPCODES[212]=new O(212,"start_battlebgm",void 0,[],void 0),O.END_BATTLEBGM=t.OPCODES[213]=new O(213,"end_battlebgm",void 0,[],void 0),O.DISP_MSG_QB=t.OPCODES[214]=new O(214,"disp_msg_qb",void 0,[new y(p,void 0,void 0)],g.Pop),O.CLOSE_MSG_QB=t.OPCODES[215]=new O(215,"close_msg_qb",void 0,[],void 0),O.SET_EVENTFLAG_V3=t.OPCODES[216]=new O(216,"set_eventflag_v3",void 0,[new y(a,void 0,void 0),new y(a,void 0,void 0)],g.Pop),O.SYNC_LETI=t.OPCODES[217]=new O(217,"sync_leti",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y(a,void 0,void 0)],void 0),O.SET_RETURNHUNTER=t.OPCODES[218]=new O(218,"set_returnhunter",void 0,[],void 0),O.SET_RETURNCITY=t.OPCODES[219]=new O(219,"set_returncity",void 0,[],void 0),O.LOAD_PVR=t.OPCODES[220]=new O(220,"load_pvr",void 0,[],void 0),O.LOAD_MIDI=t.OPCODES[221]=new O(221,"load_midi",void 0,[],void 0),O.UNKNOWN_DE=t.OPCODES[222]=new O(222,"unknown_de",void 0,[],void 0),O.NPC_PARAM_V3=t.OPCODES[223]=new O(223,"npc_param_v3",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0),new y(a,void 0,void 0)],g.Pop),O.PAD_DRAGON=t.OPCODES[224]=new O(224,"pad_dragon",void 0,[],void 0),O.CLEAR_MAINWARP=t.OPCODES[225]=new O(225,"clear_mainwarp",void 0,[new y(a,void 0,void 0)],g.Pop),O.PCAM_PARAM_V3=t.OPCODES[226]=new O(226,"pcam_param_v3",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.START_SETEVT_V3=t.OPCODES[227]=new O(227,"start_setevt_v3",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0),new y(a,void 0,void 0)],g.Pop),O.WARP_ON=t.OPCODES[228]=new O(228,"warp_on",void 0,[],void 0),O.WARP_OFF=t.OPCODES[229]=new O(229,"warp_off",void 0,[],void 0),O.GET_SLOTNUMBER=t.OPCODES[230]=new O(230,"get_slotnumber",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.GET_SERVERNUMBER=t.OPCODES[231]=new O(231,"get_servernumber",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.SET_EVENTFLAG2=t.OPCODES[232]=new O(232,"set_eventflag2",void 0,[new y(a,void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],g.Pop),O.RES=t.OPCODES[233]=new O(233,"res",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.UNKNOWN_EA=t.OPCODES[234]=new O(234,"unknown_ea",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0),new y(a,void 0,void 0)],void 0),O.ENABLE_BGMCTRL=t.OPCODES[235]=new O(235,"enable_bgmctrl",void 0,[new y(a,void 0,void 0)],g.Pop),O.SW_SEND=t.OPCODES[236]=new O(236,"sw_send",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.CREATE_BGMCTRL=t.OPCODES[237]=new O(237,"create_bgmctrl",void 0,[],void 0),O.PL_ADD_MESETA2=t.OPCODES[238]=new O(238,"pl_add_meseta2",void 0,[new y(a,void 0,void 0)],g.Pop),O.SYNC_REGISTER=t.OPCODES[239]=new O(239,"sync_register",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y(a,void 0,void 0)],g.Pop),O.SEND_REGWORK=t.OPCODES[240]=new O(240,"send_regwork",void 0,[],void 0),O.LETI_FIXED_CAMERA_V3=t.OPCODES[241]=new O(241,"leti_fixed_camera_v3",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read),new y(a,void 0,m.Read),new y(a,void 0,m.Read),new y(a,void 0,m.Read),new y(a,void 0,m.Read),new y(a,void 0,m.Read)]},void 0,void 0)],void 0),O.DEFAULT_CAMERA_POS1=t.OPCODES[242]=new O(242,"default_camera_pos1",void 0,[],void 0),O.UNKNOWN_F3=t.OPCODES[243]=new O(243,"unknown_f3",void 0,[],void 0),O.UNKNOWN_F4=t.OPCODES[244]=new O(244,"unknown_f4",void 0,[],void 0),O.UNKNOWN_F5=t.OPCODES[245]=new O(245,"unknown_f5",void 0,[],void 0),O.UNKNOWN_F6=t.OPCODES[246]=new O(246,"unknown_f6",void 0,[],void 0),O.UNKNOWN_F7=t.OPCODES[247]=new O(247,"unknown_f7",void 0,[],void 0),O.UNKNOWN_F8=t.OPCODES[248]=new O(248,"unknown_f8",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.UNKNOWN_F9=t.OPCODES[249]=new O(249,"unknown_f9",void 0,[],void 0),O.GET_GC_NUMBER=t.OPCODES[250]=new O(250,"get_gc_number",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.UNKNOWN_FB=t.OPCODES[251]=new O(251,"unknown_fb",void 0,[new y(r,void 0,void 0)],void 0),O.UNKNOWN_FC=t.OPCODES[252]=new O(252,"unknown_fc",void 0,[],void 0),O.UNKNOWN_FD=t.OPCODES[253]=new O(253,"unknown_fd",void 0,[],void 0),O.UNKNOWN_FE=t.OPCODES[254]=new O(254,"unknown_fe",void 0,[],void 0),O.UNKNOWN_FF=t.OPCODES[255]=new O(255,"unknown_ff",void 0,[],void 0),O.UNKNOWN_F800=t.OPCODES[63488]=new O(63488,"unknown_f800",void 0,[],void 0),O.SET_CHAT_CALLBACK=t.OPCODES[63489]=new O(63489,"set_chat_callback",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0),new y(p,void 0,void 0)],g.Pop),O.UNKNOWN_F802=t.OPCODES[63490]=new O(63490,"unknown_f802",void 0,[],void 0),O.UNKNOWN_F803=t.OPCODES[63491]=new O(63491,"unknown_f803",void 0,[],void 0),O.UNKNOWN_F804=t.OPCODES[63492]=new O(63492,"unknown_f804",void 0,[],void 0),O.UNKNOWN_F805=t.OPCODES[63493]=new O(63493,"unknown_f805",void 0,[],void 0),O.UNKNOWN_F806=t.OPCODES[63494]=new O(63494,"unknown_f806",void 0,[],void 0),O.UNKNOWN_F807=t.OPCODES[63495]=new O(63495,"unknown_f807",void 0,[],void 0),O.GET_DIFFICULTY_LEVEL2=t.OPCODES[63496]=new O(63496,"get_difficulty_level2","Sets the given register to the current difficulty. 0 For normal, 1 for hard, 2 for very hard and 3 for ultimate.",[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.GET_NUMBER_OF_PLAYER1=t.OPCODES[63497]=new O(63497,"get_number_of_player1","Set the given register to the current number of players. Either 1, 2, 3 or 4.",[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.GET_COORD_OF_PLAYER=t.OPCODES[63498]=new O(63498,"get_coord_of_player","Retrieves a player's position.",[new y({kind:n.RegTupRef,register_tuples:[new y(a,"X coordinate.",m.Write),new y(a,"Y coordinate.",m.Write),new y(a,"Z coordinate.",m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,"Player slot.",m.Read)]},void 0,void 0)],void 0),O.ENABLE_MAP=t.OPCODES[63499]=new O(63499,"enable_map",void 0,[],void 0),O.DISABLE_MAP=t.OPCODES[63500]=new O(63500,"disable_map",void 0,[],void 0),O.MAP_DESIGNATE_EX=t.OPCODES[63501]=new O(63501,"map_designate_ex",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read),new y(a,void 0,m.Read),new y(a,void 0,m.Read),new y(a,void 0,m.Read),new y(a,void 0,m.Read)]},void 0,void 0)],void 0),O.UNKNOWN_F80E=t.OPCODES[63502]=new O(63502,"unknown_f80e",void 0,[new y(a,void 0,void 0)],g.Pop),O.UNKNOWN_F80F=t.OPCODES[63503]=new O(63503,"unknown_f80f",void 0,[new y(a,void 0,void 0)],g.Pop),O.BA_INITIAL_FLOOR=t.OPCODES[63504]=new O(63504,"ba_initial_floor",void 0,[new y(a,void 0,void 0)],g.Pop),O.SET_BA_RULES=t.OPCODES[63505]=new O(63505,"set_ba_rules",void 0,[],void 0),O.UNKNOWN_F812=t.OPCODES[63506]=new O(63506,"unknown_f812",void 0,[new y(a,void 0,void 0)],g.Pop),O.UNKNOWN_F813=t.OPCODES[63507]=new O(63507,"unknown_f813",void 0,[new y(a,void 0,void 0)],g.Pop),O.UNKNOWN_F814=t.OPCODES[63508]=new O(63508,"unknown_f814",void 0,[new y(a,void 0,void 0)],g.Pop),O.UNKNOWN_F815=t.OPCODES[63509]=new O(63509,"unknown_f815",void 0,[new y(a,void 0,void 0)],g.Pop),O.UNKNOWN_F816=t.OPCODES[63510]=new O(63510,"unknown_f816",void 0,[new y(a,void 0,void 0)],g.Pop),O.UNKNOWN_F817=t.OPCODES[63511]=new O(63511,"unknown_f817",void 0,[new y(a,void 0,void 0)],g.Pop),O.UNKNOWN_F818=t.OPCODES[63512]=new O(63512,"unknown_f818",void 0,[new y(a,void 0,void 0)],g.Pop),O.UNKNOWN_F819=t.OPCODES[63513]=new O(63513,"unknown_f819",void 0,[new y(a,void 0,void 0)],g.Pop),O.UNKNOWN_F81A=t.OPCODES[63514]=new O(63514,"unknown_f81a",void 0,[new y(a,void 0,void 0)],g.Pop),O.UNKNOWN_F81B=t.OPCODES[63515]=new O(63515,"unknown_f81b",void 0,[new y(a,void 0,void 0)],g.Pop),O.BA_DISP_MSG=t.OPCODES[63516]=new O(63516,"ba_disp_msg",void 0,[new y(p,void 0,void 0)],g.Pop),O.DEATH_LVL_UP=t.OPCODES[63517]=new O(63517,"death_lvl_up",void 0,[new y(a,void 0,void 0)],g.Pop),O.DEATH_TECH_LVL_UP=t.OPCODES[63518]=new O(63518,"death_tech_lvl_up",void 0,[new y(a,void 0,void 0)],g.Pop),O.UNKNOWN_F81F=t.OPCODES[63519]=new O(63519,"unknown_f81f",void 0,[],void 0),O.CMODE_STAGE=t.OPCODES[63520]=new O(63520,"cmode_stage",void 0,[new y(a,void 0,void 0)],g.Pop),O.UNKNOWN_F821=t.OPCODES[63521]=new O(63521,"unknown_f821",void 0,[],void 0),O.UNKNOWN_F822=t.OPCODES[63522]=new O(63522,"unknown_f822",void 0,[],void 0),O.UNKNOWN_F823=t.OPCODES[63523]=new O(63523,"unknown_f823",void 0,[new y(a,void 0,void 0)],g.Pop),O.UNKNOWN_F824=t.OPCODES[63524]=new O(63524,"unknown_f824",void 0,[new y(a,void 0,void 0)],g.Pop),O.EXP_MULTIPLICATION=t.OPCODES[63525]=new O(63525,"exp_multiplication",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.EXP_DIVISION=t.OPCODES[63526]=new O(63526,"exp_division",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.GET_USER_IS_DEAD=t.OPCODES[63527]=new O(63527,"get_user_is_dead",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.GO_FLOOR=t.OPCODES[63528]=new O(63528,"go_floor","Sends a player to the given floor.",[new y({kind:n.RegTupRef,register_tuples:[new y(a,"Player slot.",m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,"Floor ID.",m.Read)]},void 0,void 0)],void 0),O.UNKNOWN_F829=t.OPCODES[63529]=new O(63529,"unknown_f829",void 0,[],void 0),O.UNKNOWN_F82A=t.OPCODES[63530]=new O(63530,"unknown_f82a",void 0,[],void 0),O.UNLOCK_DOOR2=t.OPCODES[63531]=new O(63531,"unlock_door2",void 0,[new y(a,void 0,void 0),new y(a,void 0,void 0)],g.Pop),O.LOCK_DOOR2=t.OPCODES[63532]=new O(63532,"lock_door2",void 0,[new y(a,void 0,void 0),new y(a,void 0,void 0)],g.Pop),O.IF_SWITCH_NOT_PRESSED=t.OPCODES[63533]=new O(63533,"if_switch_not_pressed",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read),new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.IF_SWITCH_PRESSED=t.OPCODES[63534]=new O(63534,"if_switch_pressed",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,"Floor ID.",m.Read),new y(a,"Switch ID.",m.Read),new y(a,"Will be set to 1 if the switch is pressed, 0 otherwise.",m.Write)]},void 0,void 0)],void 0),O.UNKNOWN_F82F=t.OPCODES[63535]=new O(63535,"unknown_f82f",void 0,[new y(a,void 0,void 0),new y(a,void 0,void 0)],g.Pop),O.CONTROL_DRAGON=t.OPCODES[63536]=new O(63536,"control_dragon",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0)],void 0),O.RELEASE_DRAGON=t.OPCODES[63537]=new O(63537,"release_dragon",void 0,[],void 0),O.UNKNOWN_F832=t.OPCODES[63538]=new O(63538,"unknown_f832",void 0,[],void 0),O.UNKNOWN_F833=t.OPCODES[63539]=new O(63539,"unknown_f833",void 0,[],void 0),O.UNKNOWN_F834=t.OPCODES[63540]=new O(63540,"unknown_f834",void 0,[],void 0),O.UNKNOWN_F835=t.OPCODES[63541]=new O(63541,"unknown_f835",void 0,[],void 0),O.UNKNOWN_F836=t.OPCODES[63542]=new O(63542,"unknown_f836",void 0,[],void 0),O.UNKNOWN_F837=t.OPCODES[63543]=new O(63543,"unknown_f837",void 0,[],void 0),O.SHRINK=t.OPCODES[63544]=new O(63544,"shrink",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,"Player slot.",m.Read)]},void 0,void 0)],void 0),O.UNSHRINK=t.OPCODES[63545]=new O(63545,"unshrink",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,"Player slot.",m.Read)]},void 0,void 0)],void 0),O.UNKNOWN_F83A=t.OPCODES[63546]=new O(63546,"unknown_f83a",void 0,[],void 0),O.UNKNOWN_F83B=t.OPCODES[63547]=new O(63547,"unknown_f83b",void 0,[],void 0),O.DISPLAY_CLOCK2=t.OPCODES[63548]=new O(63548,"display_clock2",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0)],void 0),O.UNKNOWN_F83D=t.OPCODES[63549]=new O(63549,"unknown_f83d",void 0,[new y(a,void 0,void 0)],g.Pop),O.DELETE_AREA_TITLE=t.OPCODES[63550]=new O(63550,"delete_area_title",void 0,[new y(a,void 0,void 0)],g.Pop),O.UNKNOWN_F83F=t.OPCODES[63551]=new O(63551,"unknown_f83f",void 0,[],void 0),O.LOAD_NPC_DATA=t.OPCODES[63552]=new O(63552,"load_npc_data",void 0,[],void 0),O.GET_NPC_DATA=t.OPCODES[63553]=new O(63553,"get_npc_data",void 0,[new y(c,void 0,void 0)],void 0),O.UNKNOWN_F842=t.OPCODES[63554]=new O(63554,"unknown_f842",void 0,[],void 0),O.UNKNOWN_F843=t.OPCODES[63555]=new O(63555,"unknown_f843",void 0,[],void 0),O.UNKNOWN_F844=t.OPCODES[63556]=new O(63556,"unknown_f844",void 0,[],void 0),O.UNKNOWN_F845=t.OPCODES[63557]=new O(63557,"unknown_f845",void 0,[],void 0),O.UNKNOWN_F846=t.OPCODES[63558]=new O(63558,"unknown_f846",void 0,[],void 0),O.UNKNOWN_F847=t.OPCODES[63559]=new O(63559,"unknown_f847",void 0,[],void 0),O.GIVE_DAMAGE_SCORE=t.OPCODES[63560]=new O(63560,"give_damage_score",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.TAKE_DAMAGE_SCORE=t.OPCODES[63561]=new O(63561,"take_damage_score",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.UNK_SCORE_F84A=t.OPCODES[63562]=new O(63562,"unk_score_f84a",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.UNK_SCORE_F84B=t.OPCODES[63563]=new O(63563,"unk_score_f84b",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.KILL_SCORE=t.OPCODES[63564]=new O(63564,"kill_score",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.DEATH_SCORE=t.OPCODES[63565]=new O(63565,"death_score",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.UNK_SCORE_F84E=t.OPCODES[63566]=new O(63566,"unk_score_f84e",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.ENEMY_DEATH_SCORE=t.OPCODES[63567]=new O(63567,"enemy_death_score",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.MESETA_SCORE=t.OPCODES[63568]=new O(63568,"meseta_score",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.UNKNOWN_F851=t.OPCODES[63569]=new O(63569,"unknown_f851",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.UNKNOWN_F852=t.OPCODES[63570]=new O(63570,"unknown_f852",void 0,[new y(a,void 0,void 0)],g.Pop),O.REVERSE_WARPS=t.OPCODES[63571]=new O(63571,"reverse_warps",void 0,[],void 0),O.UNREVERSE_WARPS=t.OPCODES[63572]=new O(63572,"unreverse_warps",void 0,[],void 0),O.SET_ULT_MAP=t.OPCODES[63573]=new O(63573,"set_ult_map",void 0,[],void 0),O.UNSET_ULT_MAP=t.OPCODES[63574]=new O(63574,"unset_ult_map",void 0,[],void 0),O.SET_AREA_TITLE=t.OPCODES[63575]=new O(63575,"set_area_title",void 0,[new y(p,void 0,void 0)],g.Pop),O.UNKNOWN_F858=t.OPCODES[63576]=new O(63576,"unknown_f858",void 0,[],void 0),O.UNKNOWN_F859=t.OPCODES[63577]=new O(63577,"unknown_f859",void 0,[],void 0),O.EQUIP_ITEM=t.OPCODES[63578]=new O(63578,"equip_item",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0)],void 0),O.UNEQUIP_ITEM=t.OPCODES[63579]=new O(63579,"unequip_item",void 0,[new y(a,void 0,void 0),new y(a,void 0,void 0)],g.Pop),O.UNKNOWN_F85C=t.OPCODES[63580]=new O(63580,"unknown_f85c",void 0,[],void 0),O.UNKNOWN_F85D=t.OPCODES[63581]=new O(63581,"unknown_f85d",void 0,[],void 0),O.UNKNOWN_F85E=t.OPCODES[63582]=new O(63582,"unknown_f85e",void 0,[new y(a,void 0,void 0)],g.Pop),O.UNKNOWN_F85F=t.OPCODES[63583]=new O(63583,"unknown_f85f",void 0,[new y(a,void 0,void 0)],g.Pop),O.UNKNOWN_F860=t.OPCODES[63584]=new O(63584,"unknown_f860",void 0,[],void 0),O.UNKNOWN_F861=t.OPCODES[63585]=new O(63585,"unknown_f861",void 0,[new y(a,void 0,void 0)],g.Pop),O.UNKNOWN_F862=t.OPCODES[63586]=new O(63586,"unknown_f862",void 0,[],void 0),O.UNKNOWN_F863=t.OPCODES[63587]=new O(63587,"unknown_f863",void 0,[],void 0),O.CMODE_RANK=t.OPCODES[63588]=new O(63588,"cmode_rank",void 0,[new y(a,void 0,void 0),new y(p,void 0,void 0)],g.Pop),O.AWARD_ITEM_NAME=t.OPCODES[63589]=new O(63589,"award_item_name",void 0,[],void 0),O.AWARD_ITEM_SELECT=t.OPCODES[63590]=new O(63590,"award_item_select",void 0,[],void 0),O.AWARD_ITEM_GIVE_TO=t.OPCODES[63591]=new O(63591,"award_item_give_to",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0)],void 0),O.UNKNOWN_F868=t.OPCODES[63592]=new O(63592,"unknown_f868",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.UNKNOWN_F869=t.OPCODES[63593]=new O(63593,"unknown_f869",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.ITEM_CREATE_CMODE=t.OPCODES[63594]=new O(63594,"item_create_cmode",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.UNKNOWN_F86B=t.OPCODES[63595]=new O(63595,"unknown_f86b",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.AWARD_ITEM_OK=t.OPCODES[63596]=new O(63596,"award_item_ok",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.UNKNOWN_F86D=t.OPCODES[63597]=new O(63597,"unknown_f86d",void 0,[],void 0),O.UNKNOWN_F86E=t.OPCODES[63598]=new O(63598,"unknown_f86e",void 0,[],void 0),O.BA_SET_LIVES=t.OPCODES[63599]=new O(63599,"ba_set_lives",void 0,[new y(a,void 0,void 0)],g.Pop),O.BA_SET_TECH_LVL=t.OPCODES[63600]=new O(63600,"ba_set_tech_lvl",void 0,[new y(a,void 0,void 0)],g.Pop),O.BA_SET_LVL=t.OPCODES[63601]=new O(63601,"ba_set_lvl",void 0,[new y(a,void 0,void 0)],g.Pop),O.BA_SET_TIME_LIMIT=t.OPCODES[63602]=new O(63602,"ba_set_time_limit",void 0,[new y(a,void 0,void 0)],g.Pop),O.BOSS_IS_DEAD=t.OPCODES[63603]=new O(63603,"boss_is_dead",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.UNKNOWN_F874=t.OPCODES[63604]=new O(63604,"unknown_f874",void 0,[],void 0),O.UNKNOWN_F875=t.OPCODES[63605]=new O(63605,"unknown_f875",void 0,[],void 0),O.UNKNOWN_F876=t.OPCODES[63606]=new O(63606,"unknown_f876",void 0,[],void 0),O.ENABLE_TECHS=t.OPCODES[63607]=new O(63607,"enable_techs","Enables technique use for the given player.",[new y({kind:n.RegTupRef,register_tuples:[new y(a,"Player slot.",m.Read)]},void 0,void 0)],void 0),O.DISABLE_TECHS=t.OPCODES[63608]=new O(63608,"disable_techs","Disables technique use for the given player.",[new y({kind:n.RegTupRef,register_tuples:[new y(a,"Player slot.",m.Read)]},void 0,void 0)],void 0),O.GET_GENDER=t.OPCODES[63609]=new O(63609,"get_gender","Retrieves the player's gender. 0 If male, 1 if female.",[new y({kind:n.RegTupRef,register_tuples:[new y(a,"Player slot.",m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,"Player gender.",m.Write)]},void 0,void 0)],void 0),O.GET_CHARA_CLASS=t.OPCODES[63610]=new O(63610,"get_chara_class","Retrieves the player's race and character class.",[new y({kind:n.RegTupRef,register_tuples:[new y(a,"Player slot.",m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,"Player race. 0 If human, 1 if newman, 2 if cast.",m.Write),new y(a,"Player class. 0 If hunter, 1 if ranger, 2 if force.",m.Write)]},void 0,void 0)],void 0),O.TAKE_SLOT_MESETA=t.OPCODES[63611]=new O(63611,"take_slot_meseta","Takes an amount of meseta from a player's inventory.",[new y({kind:n.RegTupRef,register_tuples:[new y(a,"Player slot.",m.Read),new y(a,"Amount of meseta to take.",m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,"Will be set to 1 if the meseta was taken, 0 otherwise.",m.Write)]},void 0,void 0)],void 0),O.UNKNOWN_F87C=t.OPCODES[63612]=new O(63612,"unknown_f87c",void 0,[],void 0),O.UNKNOWN_F87D=t.OPCODES[63613]=new O(63613,"unknown_f87d",void 0,[],void 0),O.UNKNOWN_F87E=t.OPCODES[63614]=new O(63614,"unknown_f87e",void 0,[],void 0),O.READ_GUILDCARD_FLAG=t.OPCODES[63615]=new O(63615,"read_guildcard_flag",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.UNKNOWN_F880=t.OPCODES[63616]=new O(63616,"unknown_f880",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.GET_PL_NAME=t.OPCODES[63617]=new O(63617,"get_pl_name","Sets the value of <pl_name> to the given player's name.",[new y({kind:n.RegTupRef,register_tuples:[new y(a,"Player slot.",m.Read)]},void 0,void 0)],void 0),O.UNKNOWN_F882=t.OPCODES[63618]=new O(63618,"unknown_f882",void 0,[],void 0),O.UNKNOWN_F883=t.OPCODES[63619]=new O(63619,"unknown_f883",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.UNKNOWN_F884=t.OPCODES[63620]=new O(63620,"unknown_f884",void 0,[],void 0),O.UNKNOWN_F885=t.OPCODES[63621]=new O(63621,"unknown_f885",void 0,[],void 0),O.UNKNOWN_F886=t.OPCODES[63622]=new O(63622,"unknown_f886",void 0,[],void 0),O.UNKNOWN_F887=t.OPCODES[63623]=new O(63623,"unknown_f887",void 0,[],void 0),O.UNKNOWN_F888=t.OPCODES[63624]=new O(63624,"unknown_f888",void 0,[],void 0),O.UNKNOWN_F889=t.OPCODES[63625]=new O(63625,"unknown_f889",void 0,[],void 0),O.GET_PLAYER_STATUS=t.OPCODES[63626]=new O(63626,"get_player_status",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.SEND_MAIL=t.OPCODES[63627]=new O(63627,"send_mail",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0),new y(p,void 0,void 0)],g.Pop),O.ONLINE_CHECK=t.OPCODES[63628]=new O(63628,"online_check",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.CHL_SET_TIMERECORD=t.OPCODES[63629]=new O(63629,"chl_set_timerecord",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.CHL_GET_TIMERECORD=t.OPCODES[63630]=new O(63630,"chl_get_timerecord",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.UNKNOWN_F88F=t.OPCODES[63631]=new O(63631,"unknown_f88f",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.UNKNOWN_F890=t.OPCODES[63632]=new O(63632,"unknown_f890",void 0,[],void 0),O.LOAD_ENEMY_DATA=t.OPCODES[63633]=new O(63633,"load_enemy_data",void 0,[new y(a,void 0,void 0)],g.Pop),O.GET_PHYSICAL_DATA=t.OPCODES[63634]=new O(63634,"get_physical_data",void 0,[new y(r,void 0,void 0)],void 0),O.GET_ATTACK_DATA=t.OPCODES[63635]=new O(63635,"get_attack_data",void 0,[new y(r,void 0,void 0)],void 0),O.GET_RESIST_DATA=t.OPCODES[63636]=new O(63636,"get_resist_data",void 0,[new y(r,void 0,void 0)],void 0),O.GET_MOVEMENT_DATA=t.OPCODES[63637]=new O(63637,"get_movement_data",void 0,[new y(r,void 0,void 0)],void 0),O.UNKNOWN_F896=t.OPCODES[63638]=new O(63638,"unknown_f896",void 0,[],void 0),O.UNKNOWN_F897=t.OPCODES[63639]=new O(63639,"unknown_f897",void 0,[],void 0),O.SHIFT_LEFT=t.OPCODES[63640]=new O(63640,"shift_left",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0)],void 0),O.SHIFT_RIGHT=t.OPCODES[63641]=new O(63641,"shift_right",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0)],void 0),O.GET_RANDOM=t.OPCODES[63642]=new O(63642,"get_random",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read),new y(a,void 0,m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.RESET_MAP=t.OPCODES[63643]=new O(63643,"reset_map","Sets all registers to 0 and resets the quest.",[],void 0),O.DISP_CHL_RETRY_MENU=t.OPCODES[63644]=new O(63644,"disp_chl_retry_menu",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.CHL_REVERSER=t.OPCODES[63645]=new O(63645,"chl_reverser",void 0,[],void 0),O.UNKNOWN_F89E=t.OPCODES[63646]=new O(63646,"unknown_f89e",void 0,[new y(a,void 0,void 0)],g.Pop),O.UNKNOWN_F89F=t.OPCODES[63647]=new O(63647,"unknown_f89f",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.UNKNOWN_F8A0=t.OPCODES[63648]=new O(63648,"unknown_f8a0",void 0,[],void 0),O.UNKNOWN_F8A1=t.OPCODES[63649]=new O(63649,"unknown_f8a1",void 0,[],void 0),O.UNKNOWN_F8A2=t.OPCODES[63650]=new O(63650,"unknown_f8a2",void 0,[],void 0),O.UNKNOWN_F8A3=t.OPCODES[63651]=new O(63651,"unknown_f8a3",void 0,[],void 0),O.UNKNOWN_F8A4=t.OPCODES[63652]=new O(63652,"unknown_f8a4",void 0,[],void 0),O.UNKNOWN_F8A5=t.OPCODES[63653]=new O(63653,"unknown_f8a5",void 0,[],void 0),O.UNKNOWN_F8A6=t.OPCODES[63654]=new O(63654,"unknown_f8a6",void 0,[],void 0),O.UNKNOWN_F8A7=t.OPCODES[63655]=new O(63655,"unknown_f8a7",void 0,[],void 0),O.UNKNOWN_F8A8=t.OPCODES[63656]=new O(63656,"unknown_f8a8",void 0,[new y(a,void 0,void 0)],g.Pop),O.UNKNOWN_F8A9=t.OPCODES[63657]=new O(63657,"unknown_f8a9",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.UNKNOWN_F8AA=t.OPCODES[63658]=new O(63658,"unknown_f8aa",void 0,[],void 0),O.UNKNOWN_F8AB=t.OPCODES[63659]=new O(63659,"unknown_f8ab",void 0,[],void 0),O.UNKNOWN_F8AC=t.OPCODES[63660]=new O(63660,"unknown_f8ac",void 0,[],void 0),O.GET_NUMBER_OF_PLAYER2=t.OPCODES[63661]=new O(63661,"get_number_of_player2",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.UNKNOWN_F8AE=t.OPCODES[63662]=new O(63662,"unknown_f8ae",void 0,[],void 0),O.UNKNOWN_F8AF=t.OPCODES[63663]=new O(63663,"unknown_f8af",void 0,[],void 0),O.UNKNOWN_F8B0=t.OPCODES[63664]=new O(63664,"unknown_f8b0",void 0,[],void 0),O.UNKNOWN_F8B1=t.OPCODES[63665]=new O(63665,"unknown_f8b1",void 0,[],void 0),O.UNKNOWN_F8B2=t.OPCODES[63666]=new O(63666,"unknown_f8b2",void 0,[],void 0),O.UNKNOWN_F8B3=t.OPCODES[63667]=new O(63667,"unknown_f8b3",void 0,[],void 0),O.UNKNOWN_F8B4=t.OPCODES[63668]=new O(63668,"unknown_f8b4",void 0,[],void 0),O.UNKNOWN_F8B5=t.OPCODES[63669]=new O(63669,"unknown_f8b5",void 0,[],void 0),O.UNKNOWN_F8B6=t.OPCODES[63670]=new O(63670,"unknown_f8b6",void 0,[],void 0),O.UNKNOWN_F8B7=t.OPCODES[63671]=new O(63671,"unknown_f8b7",void 0,[],void 0),O.UNKNOWN_F8B8=t.OPCODES[63672]=new O(63672,"unknown_f8b8",void 0,[],void 0),O.CHL_RECOVERY=t.OPCODES[63673]=new O(63673,"chl_recovery",void 0,[],void 0),O.UNKNOWN_F8BA=t.OPCODES[63674]=new O(63674,"unknown_f8ba",void 0,[],void 0),O.UNKNOWN_F8BB=t.OPCODES[63675]=new O(63675,"unknown_f8bb",void 0,[],void 0),O.SET_EPISODE=t.OPCODES[63676]=new O(63676,"set_episode",void 0,[new y(a,void 0,void 0)],void 0),O.UNKNOWN_F8BD=t.OPCODES[63677]=new O(63677,"unknown_f8bd",void 0,[],void 0),O.UNKNOWN_F8BE=t.OPCODES[63678]=new O(63678,"unknown_f8be",void 0,[],void 0),O.UNKNOWN_F8BF=t.OPCODES[63679]=new O(63679,"unknown_f8bf",void 0,[],void 0),O.FILE_DL_REQ=t.OPCODES[63680]=new O(63680,"file_dl_req",void 0,[new y(a,void 0,void 0),new y(p,void 0,void 0)],g.Pop),O.GET_DL_STATUS=t.OPCODES[63681]=new O(63681,"get_dl_status",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.GBA_UNKNOWN4=t.OPCODES[63682]=new O(63682,"gba_unknown4",void 0,[],void 0),O.GET_GBA_STATE=t.OPCODES[63683]=new O(63683,"get_gba_state",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.UNKNOWN_F8C4=t.OPCODES[63684]=new O(63684,"unknown_f8c4",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.UNKNOWN_F8C5=t.OPCODES[63685]=new O(63685,"unknown_f8c5",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.QEXIT=t.OPCODES[63686]=new O(63686,"qexit",void 0,[],void 0),O.USE_ANIMATION=t.OPCODES[63687]=new O(63687,"use_animation",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,"Player slot.",m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,"Animation ID.",m.Read),new y(a,"Animation duration in number of frames.",m.Read)]},void 0,void 0)],void 0),O.STOP_ANIMATION=t.OPCODES[63688]=new O(63688,"stop_animation",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,"Player slot.",m.Read)]},void 0,void 0)],void 0),O.RUN_TO_COORD=t.OPCODES[63689]=new O(63689,"run_to_coord",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.SET_SLOT_INVINCIBLE=t.OPCODES[63690]=new O(63690,"set_slot_invincible",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,"Player slot.",m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0)],void 0),O.UNKNOWN_F8CB=t.OPCODES[63691]=new O(63691,"unknown_f8cb",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.SET_SLOT_POISON=t.OPCODES[63692]=new O(63692,"set_slot_poison",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,"Player slot.",m.Read)]},void 0,void 0)],void 0),O.SET_SLOT_PARALYZE=t.OPCODES[63693]=new O(63693,"set_slot_paralyze",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,"Player slot.",m.Read)]},void 0,void 0)],void 0),O.SET_SLOT_SHOCK=t.OPCODES[63694]=new O(63694,"set_slot_shock",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,"Player slot.",m.Read)]},void 0,void 0)],void 0),O.SET_SLOT_FREEZE=t.OPCODES[63695]=new O(63695,"set_slot_freeze",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,"Player slot.",m.Read)]},void 0,void 0)],void 0),O.SET_SLOT_SLOW=t.OPCODES[63696]=new O(63696,"set_slot_slow",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,"Player slot.",m.Read)]},void 0,void 0)],void 0),O.SET_SLOT_CONFUSE=t.OPCODES[63697]=new O(63697,"set_slot_confuse",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,"Player slot.",m.Read)]},void 0,void 0)],void 0),O.SET_SLOT_SHIFTA=t.OPCODES[63698]=new O(63698,"set_slot_shifta",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,"Player slot.",m.Read)]},void 0,void 0)],void 0),O.SET_SLOT_DEBAND=t.OPCODES[63699]=new O(63699,"set_slot_deband",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,"Player slot.",m.Read)]},void 0,void 0)],void 0),O.SET_SLOT_JELLEN=t.OPCODES[63700]=new O(63700,"set_slot_jellen",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,"Player slot.",m.Read)]},void 0,void 0)],void 0),O.SET_SLOT_ZALURE=t.OPCODES[63701]=new O(63701,"set_slot_zalure",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,"Player slot.",m.Read)]},void 0,void 0)],void 0),O.FLETI_FIXED_CAMERA=t.OPCODES[63702]=new O(63702,"fleti_fixed_camera",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],g.Pop),O.FLETI_LOCKED_CAMERA=t.OPCODES[63703]=new O(63703,"fleti_locked_camera",void 0,[new y(a,void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],g.Pop),O.DEFAULT_CAMERA_POS2=t.OPCODES[63704]=new O(63704,"default_camera_pos2",void 0,[],void 0),O.SET_MOTION_BLUR=t.OPCODES[63705]=new O(63705,"set_motion_blur",void 0,[],void 0),O.SET_SCREEN_BW=t.OPCODES[63706]=new O(63706,"set_screen_bw",void 0,[],void 0),O.UNKNOWN_F8DB=t.OPCODES[63707]=new O(63707,"unknown_f8db",void 0,[new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0),new y(r,void 0,void 0)],g.Pop),O.NPC_ACTION_STRING=t.OPCODES[63708]=new O(63708,"npc_action_string",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0),new y(_,void 0,void 0)],void 0),O.GET_PAD_COND=t.OPCODES[63709]=new O(63709,"get_pad_cond",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.GET_BUTTON_COND=t.OPCODES[63710]=new O(63710,"get_button_cond",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.FREEZE_ENEMIES=t.OPCODES[63711]=new O(63711,"freeze_enemies",void 0,[],void 0),O.UNFREEZE_ENEMIES=t.OPCODES[63712]=new O(63712,"unfreeze_enemies",void 0,[],void 0),O.FREEZE_EVERYTHING=t.OPCODES[63713]=new O(63713,"freeze_everything",void 0,[],void 0),O.UNFREEZE_EVERYTHING=t.OPCODES[63714]=new O(63714,"unfreeze_everything",void 0,[],void 0),O.RESTORE_HP=t.OPCODES[63715]=new O(63715,"restore_hp",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.RESTORE_TP=t.OPCODES[63716]=new O(63716,"restore_tp",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.CLOSE_CHAT_BUBBLE=t.OPCODES[63717]=new O(63717,"close_chat_bubble",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.MOVE_COORDS_OBJECT=t.OPCODES[63718]=new O(63718,"move_coords_object",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.AT_COORDS_CALL_EX=t.OPCODES[63719]=new O(63719,"at_coords_call_ex",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.UNKNOWN_F8E8=t.OPCODES[63720]=new O(63720,"unknown_f8e8",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.UNKNOWN_F8E9=t.OPCODES[63721]=new O(63721,"unknown_f8e9",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.UNKNOWN_F8EA=t.OPCODES[63722]=new O(63722,"unknown_f8ea",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.UNKNOWN_F8EB=t.OPCODES[63723]=new O(63723,"unknown_f8eb",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.UNKNOWN_F8EC=t.OPCODES[63724]=new O(63724,"unknown_f8ec",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.ANIMATION_CHECK=t.OPCODES[63725]=new O(63725,"animation_check",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.CALL_IMAGE_DATA=t.OPCODES[63726]=new O(63726,"call_image_data",void 0,[new y(a,void 0,void 0),new y(r,void 0,void 0)],g.Pop),O.UNKNOWN_F8EF=t.OPCODES[63727]=new O(63727,"unknown_f8ef",void 0,[],void 0),O.TURN_OFF_BGM_P2=t.OPCODES[63728]=new O(63728,"turn_off_bgm_p2",void 0,[],void 0),O.TURN_ON_BGM_P2=t.OPCODES[63729]=new O(63729,"turn_on_bgm_p2",void 0,[],void 0),O.LOAD_UNK_DATA=t.OPCODES[63730]=new O(63730,"load_unk_data",void 0,[new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0),new y(c,void 0,void 0)],g.Pop),O.PARTICLE2=t.OPCODES[63731]=new O(63731,"particle2",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0),new y(a,void 0,void 0),new y(d,void 0,void 0)],g.Pop),O.UNKNOWN_F8F4=t.OPCODES[63732]=new O(63732,"unknown_f8f4",void 0,[],void 0),O.UNKNOWN_F8F5=t.OPCODES[63733]=new O(63733,"unknown_f8f5",void 0,[],void 0),O.UNKNOWN_F8F6=t.OPCODES[63734]=new O(63734,"unknown_f8f6",void 0,[],void 0),O.UNKNOWN_F8F7=t.OPCODES[63735]=new O(63735,"unknown_f8f7",void 0,[],void 0),O.UNKNOWN_F8F8=t.OPCODES[63736]=new O(63736,"unknown_f8f8",void 0,[],void 0),O.UNKNOWN_F8F9=t.OPCODES[63737]=new O(63737,"unknown_f8f9",void 0,[],void 0),O.UNKNOWN_F8FA=t.OPCODES[63738]=new O(63738,"unknown_f8fa",void 0,[],void 0),O.UNKNOWN_F8FB=t.OPCODES[63739]=new O(63739,"unknown_f8fb",void 0,[],void 0),O.UNKNOWN_F8FC=t.OPCODES[63740]=new O(63740,"unknown_f8fc",void 0,[],void 0),O.UNKNOWN_F8FD=t.OPCODES[63741]=new O(63741,"unknown_f8fd",void 0,[],void 0),O.UNKNOWN_F8FE=t.OPCODES[63742]=new O(63742,"unknown_f8fe",void 0,[],void 0),O.UNKNOWN_F8FF=t.OPCODES[63743]=new O(63743,"unknown_f8ff",void 0,[],void 0),O.UNKNOWN_F900=t.OPCODES[63744]=new O(63744,"unknown_f900",void 0,[],void 0),O.DEC2FLOAT=t.OPCODES[63745]=new O(63745,"dec2float",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(d,void 0,m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Read)]},void 0,void 0)],void 0),O.FLOAT2DEC=t.OPCODES[63746]=new O(63746,"float2dec",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(d,void 0,m.Read)]},void 0,void 0)],void 0),O.FLET=t.OPCODES[63747]=new O(63747,"flet",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(d,void 0,m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(d,void 0,m.Read)]},void 0,void 0)],void 0),O.FLETI=t.OPCODES[63748]=new O(63748,"fleti",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(d,void 0,m.Write)]},void 0,void 0),new y(d,void 0,void 0)],void 0),O.UNKNOWN_F905=t.OPCODES[63749]=new O(63749,"unknown_f905",void 0,[],void 0),O.UNKNOWN_F906=t.OPCODES[63750]=new O(63750,"unknown_f906",void 0,[],void 0),O.UNKNOWN_F907=t.OPCODES[63751]=new O(63751,"unknown_f907",void 0,[],void 0),O.FADD=t.OPCODES[63752]=new O(63752,"fadd",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(d,void 0,m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(d,void 0,m.Read)]},void 0,void 0)],void 0),O.FADDI=t.OPCODES[63753]=new O(63753,"faddi",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(d,void 0,m.Write)]},void 0,void 0),new y(d,void 0,void 0)],void 0),O.FSUB=t.OPCODES[63754]=new O(63754,"fsub",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(d,void 0,m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(d,void 0,m.Read)]},void 0,void 0)],void 0),O.FSUBI=t.OPCODES[63755]=new O(63755,"fsubi",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(d,void 0,m.Write)]},void 0,void 0),new y(d,void 0,void 0)],void 0),O.FMUL=t.OPCODES[63756]=new O(63756,"fmul",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(d,void 0,m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(d,void 0,m.Read)]},void 0,void 0)],void 0),O.FMULI=t.OPCODES[63757]=new O(63757,"fmuli",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(d,void 0,m.Write)]},void 0,void 0),new y(d,void 0,void 0)],void 0),O.FDIV=t.OPCODES[63758]=new O(63758,"fdiv",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(d,void 0,m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(d,void 0,m.Read)]},void 0,void 0)],void 0),O.FDIVI=t.OPCODES[63759]=new O(63759,"fdivi",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(d,void 0,m.Write)]},void 0,void 0),new y(d,void 0,void 0)],void 0),O.GET_UNKNOWN_COUNT=t.OPCODES[63760]=new O(63760,"get_unknown_count",void 0,[new y(a,void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],g.Pop),O.GET_STACKABLE_ITEM_COUNT=t.OPCODES[63761]=new O(63761,"get_stackable_item_count",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,"Player slot.",m.Read),new y(a,void 0,m.Read),new y(a,void 0,m.Read),new y(a,void 0,m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.FREEZE_AND_HIDE_EQUIP=t.OPCODES[63762]=new O(63762,"freeze_and_hide_equip",void 0,[],void 0),O.THAW_AND_SHOW_EQUIP=t.OPCODES[63763]=new O(63763,"thaw_and_show_equip",void 0,[],void 0),O.SET_PALETTEX_CALLBACK=t.OPCODES[63764]=new O(63764,"set_palettex_callback",void 0,[new y(a,"Player slot.",void 0),new y(u,void 0,void 0)],g.Pop),O.ACTIVATE_PALETTEX=t.OPCODES[63765]=new O(63765,"activate_palettex",void 0,[new y(a,"Player slot.",void 0)],g.Pop),O.ENABLE_PALETTEX=t.OPCODES[63766]=new O(63766,"enable_palettex",void 0,[new y(a,"Player slot.",void 0)],g.Pop),O.RESTORE_PALETTEX=t.OPCODES[63767]=new O(63767,"restore_palettex",void 0,[new y(a,"Player slot.",void 0)],g.Pop),O.DISABLE_PALETTEX=t.OPCODES[63768]=new O(63768,"disable_palettex",void 0,[new y(a,"Player slot.",void 0)],g.Pop),O.GET_PALETTEX_ACTIVATED=t.OPCODES[63769]=new O(63769,"get_palettex_activated",void 0,[new y(a,"Player slot.",void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],g.Pop),O.GET_UNKNOWN_PALETTEX_STATUS=t.OPCODES[63770]=new O(63770,"get_unknown_palettex_status",void 0,[new y(a,void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],g.Pop),O.DISABLE_MOVEMENT2=t.OPCODES[63771]=new O(63771,"disable_movement2",void 0,[new y(a,"Player slot.",void 0)],g.Pop),O.ENABLE_MOVEMENT2=t.OPCODES[63772]=new O(63772,"enable_movement2",void 0,[new y(a,"Player slot.",void 0)],g.Pop),O.GET_TIME_PLAYED=t.OPCODES[63773]=new O(63773,"get_time_played",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.GET_GUILDCARD_TOTAL=t.OPCODES[63774]=new O(63774,"get_guildcard_total",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.GET_SLOT_MESETA=t.OPCODES[63775]=new O(63775,"get_slot_meseta",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.GET_PLAYER_LEVEL=t.OPCODES[63776]=new O(63776,"get_player_level",void 0,[new y(a,"Player slot.",void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],g.Pop),O.GET_SECTION_ID=t.OPCODES[63777]=new O(63777,"get_section_id",void 0,[new y(a,"Player slot.",void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],g.Pop),O.GET_PLAYER_HP=t.OPCODES[63778]=new O(63778,"get_player_hp",void 0,[new y(a,"Player slot.",void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,"Maximum HP.",m.Write),new y(a,"Current HP.",m.Write),new y(a,"Maximum TP.",m.Write),new y(a,"Current TP.",m.Write)]},void 0,void 0)],g.Pop),O.GET_FLOOR_NUMBER=t.OPCODES[63779]=new O(63779,"get_floor_number",void 0,[new y(a,"Player slot.",void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],g.Pop),O.GET_COORD_PLAYER_DETECT=t.OPCODES[63780]=new O(63780,"get_coord_player_detect",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,"Player slot.",m.Read)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Read)]},void 0,void 0)],void 0),O.READ_GLOBAL_FLAG=t.OPCODES[63781]=new O(63781,"read_global_flag",void 0,[new y(a,void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],g.Pop),O.WRITE_GLOBAL_FLAG=t.OPCODES[63782]=new O(63782,"write_global_flag",void 0,[new y(a,void 0,void 0),new y(a,void 0,void 0)],g.Pop),O.UNKNOWN_F927=t.OPCODES[63783]=new O(63783,"unknown_f927",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.FLOOR_PLAYER_DETECT=t.OPCODES[63784]=new O(63784,"floor_player_detect",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write),new y(a,void 0,m.Write),new y(a,void 0,m.Write),new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.READ_DISK_FILE=t.OPCODES[63785]=new O(63785,"read_disk_file",void 0,[new y(p,void 0,void 0)],g.Pop),O.OPEN_PACK_SELECT=t.OPCODES[63786]=new O(63786,"open_pack_select",void 0,[],void 0),O.ITEM_SELECT=t.OPCODES[63787]=new O(63787,"item_select",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.GET_ITEM_ID=t.OPCODES[63788]=new O(63788,"get_item_id",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.COLOR_CHANGE=t.OPCODES[63789]=new O(63789,"color_change",void 0,[new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0)],g.Pop),O.SEND_STATISTIC=t.OPCODES[63790]=new O(63790,"send_statistic",void 0,[new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0)],g.Pop),O.UNKNOWN_F92F=t.OPCODES[63791]=new O(63791,"unknown_f92f",void 0,[new y(a,void 0,void 0),new y(a,void 0,void 0)],g.Pop),O.CHAT_BOX=t.OPCODES[63792]=new O(63792,"chat_box",void 0,[new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(p,void 0,void 0)],g.Pop),O.CHAT_BUBBLE=t.OPCODES[63793]=new O(63793,"chat_bubble",void 0,[new y(a,void 0,void 0),new y(p,void 0,void 0)],g.Pop),O.UNKNOWN_F932=t.OPCODES[63794]=new O(63794,"unknown_f932",void 0,[],void 0),O.UNKNOWN_F933=t.OPCODES[63795]=new O(63795,"unknown_f933",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],void 0),O.SCROLL_TEXT=t.OPCODES[63796]=new O(63796,"scroll_text",void 0,[new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(d,void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y(p,void 0,void 0)],g.Pop),O.GBA_UNKNOWN1=t.OPCODES[63797]=new O(63797,"gba_unknown1",void 0,[],void 0),O.GBA_UNKNOWN2=t.OPCODES[63798]=new O(63798,"gba_unknown2",void 0,[],void 0),O.GBA_UNKNOWN3=t.OPCODES[63799]=new O(63799,"gba_unknown3",void 0,[],void 0),O.ADD_DAMAGE_TO=t.OPCODES[63800]=new O(63800,"add_damage_to",void 0,[new y(a,void 0,void 0),new y(a,void 0,void 0)],g.Pop),O.ITEM_DELETE3=t.OPCODES[63801]=new O(63801,"item_delete3",void 0,[new y(a,void 0,void 0)],g.Pop),O.GET_ITEM_INFO=t.OPCODES[63802]=new O(63802,"get_item_info",void 0,[new y(a,void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],g.Pop),O.ITEM_PACKING1=t.OPCODES[63803]=new O(63803,"item_packing1",void 0,[new y(a,void 0,void 0)],g.Pop),O.ITEM_PACKING2=t.OPCODES[63804]=new O(63804,"item_packing2",void 0,[new y(a,void 0,void 0),new y(a,void 0,void 0)],g.Pop),O.GET_LANG_SETTING=t.OPCODES[63805]=new O(63805,"get_lang_setting",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(o,void 0,m.Write)]},void 0,void 0)],g.Pop),O.PREPARE_STATISTIC=t.OPCODES[63806]=new O(63806,"prepare_statistic",void 0,[new y(a,void 0,void 0),new y(u,void 0,void 0),new y(u,void 0,void 0)],g.Pop),O.KEYWORD_DETECT=t.OPCODES[63807]=new O(63807,"keyword_detect",void 0,[],void 0),O.KEYWORD=t.OPCODES[63808]=new O(63808,"keyword",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y(a,"Player slot.",void 0),new y(p,void 0,void 0)],g.Pop),O.GET_GUILDCARD_NUM=t.OPCODES[63809]=new O(63809,"get_guildcard_num",void 0,[new y(a,"Player slot.",void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],g.Pop),O.UNKNOWN_F942=t.OPCODES[63810]=new O(63810,"unknown_f942",void 0,[],void 0),O.UNKNOWN_F943=t.OPCODES[63811]=new O(63811,"unknown_f943",void 0,[],void 0),O.GET_WRAP_STATUS=t.OPCODES[63812]=new O(63812,"get_wrap_status",void 0,[new y(a,"Player slot.",void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],g.Pop),O.INITIAL_FLOOR=t.OPCODES[63813]=new O(63813,"initial_floor",void 0,[new y(a,void 0,void 0)],g.Pop),O.SIN=t.OPCODES[63814]=new O(63814,"sin",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y(a,void 0,void 0)],g.Pop),O.COS=t.OPCODES[63815]=new O(63815,"cos",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y(a,void 0,void 0)],g.Pop),O.UNKNOWN_F948=t.OPCODES[63816]=new O(63816,"unknown_f948",void 0,[],void 0),O.UNKNOWN_F949=t.OPCODES[63817]=new O(63817,"unknown_f949",void 0,[],void 0),O.BOSS_IS_DEAD2=t.OPCODES[63818]=new O(63818,"boss_is_dead2",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.UNKNOWN_F94B=t.OPCODES[63819]=new O(63819,"unknown_f94b",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.UNKNOWN_F94C=t.OPCODES[63820]=new O(63820,"unknown_f94c",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.IS_THERE_CARDBATTLE=t.OPCODES[63821]=new O(63821,"is_there_cardbattle",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.UNKNOWN_F94E=t.OPCODES[63822]=new O(63822,"unknown_f94e",void 0,[],void 0),O.UNKNOWN_F94F=t.OPCODES[63823]=new O(63823,"unknown_f94f",void 0,[],void 0),O.BB_P2_MENU=t.OPCODES[63824]=new O(63824,"bb_p2_menu",void 0,[new y(a,void 0,void 0)],g.Pop),O.BB_MAP_DESIGNATE=t.OPCODES[63825]=new O(63825,"bb_map_designate",void 0,[new y(s,void 0,void 0),new y(r,void 0,void 0),new y(s,void 0,void 0),new y(s,void 0,void 0)],void 0),O.BB_GET_NUMBER_IN_PACK=t.OPCODES[63826]=new O(63826,"bb_get_number_in_pack",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],void 0),O.BB_SWAP_ITEM=t.OPCODES[63827]=new O(63827,"bb_swap_item",void 0,[new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(u,void 0,void 0),new y(u,void 0,void 0)],g.Pop),O.BB_CHECK_WRAP=t.OPCODES[63828]=new O(63828,"bb_check_wrap",void 0,[new y(a,void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0)],g.Pop),O.BB_EXCHANGE_PD_ITEM=t.OPCODES[63829]=new O(63829,"bb_exchange_pd_item",void 0,[new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(u,void 0,void 0),new y(u,void 0,void 0)],g.Pop),O.BB_EXCHANGE_PD_SRANK=t.OPCODES[63830]=new O(63830,"bb_exchange_pd_srank",void 0,[new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(u,void 0,void 0),new y(u,void 0,void 0)],g.Pop),O.BB_EXCHANGE_PD_SPECIAL=t.OPCODES[63831]=new O(63831,"bb_exchange_pd_special",void 0,[new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(u,void 0,void 0),new y(u,void 0,void 0)],g.Pop),O.BB_EXCHANGE_PD_PERCENT=t.OPCODES[63832]=new O(63832,"bb_exchange_pd_percent",void 0,[new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(a,void 0,void 0),new y(u,void 0,void 0),new y(u,void 0,void 0)],g.Pop),O.UNKNOWN_F959=t.OPCODES[63833]=new O(63833,"unknown_f959",void 0,[new y(a,void 0,void 0)],g.Pop),O.UNKNOWN_F95A=t.OPCODES[63834]=new O(63834,"unknown_f95a",void 0,[],void 0),O.UNKNOWN_F95B=t.OPCODES[63835]=new O(63835,"unknown_f95b",void 0,[],void 0),O.BB_EXCHANGE_SLT=t.OPCODES[63836]=new O(63836,"bb_exchange_slt",void 0,[new y(a,void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y(u,void 0,void 0),new y(u,void 0,void 0)],g.Pop),O.BB_EXCHANGE_PC=t.OPCODES[63837]=new O(63837,"bb_exchange_pc",void 0,[],void 0),O.BB_BOX_CREATE_BP=t.OPCODES[63838]=new O(63838,"bb_box_create_bp",void 0,[new y(a,void 0,void 0),new y(d,void 0,void 0),new y(d,void 0,void 0)],g.Pop),O.BB_EXCHANGE_PT=t.OPCODES[63839]=new O(63839,"bb_exchange_pt",void 0,[new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y({kind:n.RegTupRef,register_tuples:[new y(a,void 0,m.Write)]},void 0,void 0),new y(a,void 0,void 0),new y(u,void 0,void 0),new y(u,void 0,void 0)],g.Pop),O.UNKNOWN_F960=t.OPCODES[63840]=new O(63840,"unknown_f960",void 0,[new y(a,void 0,void 0)],g.Pop),O.UNKNOWN_F961=t.OPCODES[63841]=new O(63841,"unknown_f961",void 0,[],void 0),O.UNKNOWN_F962=t.OPCODES[63842]=new O(63842,"unknown_f962",void 0,[],void 0),O.UNKNOWN_F963=t.OPCODES[63843]=new O(63843,"unknown_f963",void 0,[],void 0),O.UNKNOWN_F964=t.OPCODES[63844]=new O(63844,"unknown_f964",void 0,[],void 0),O.UNKNOWN_F965=t.OPCODES[63845]=new O(63845,"unknown_f965",void 0,[],void 0),O.UNKNOWN_F966=t.OPCODES[63846]=new O(63846,"unknown_f966",void 0,[],void 0),O.UNKNOWN_F967=t.OPCODES[63847]=new O(63847,"unknown_f967",void 0,[],void 0),O.UNKNOWN_F968=t.OPCODES[63848]=new O(63848,"unknown_f968",void 0,[],void 0),O.UNKNOWN_F969=t.OPCODES[63849]=new O(63849,"unknown_f969",void 0,[],void 0),O.UNKNOWN_F96A=t.OPCODES[63850]=new O(63850,"unknown_f96a",void 0,[],void 0),O.UNKNOWN_F96B=t.OPCODES[63851]=new O(63851,"unknown_f96b",void 0,[],void 0),O.UNKNOWN_F96C=t.OPCODES[63852]=new O(63852,"unknown_f96c",void 0,[],void 0),O.UNKNOWN_F96D=t.OPCODES[63853]=new O(63853,"unknown_f96d",void 0,[],void 0),O.UNKNOWN_F96E=t.OPCODES[63854]=new O(63854,"unknown_f96e",void 0,[],void 0),O.UNKNOWN_F96F=t.OPCODES[63855]=new O(63855,"unknown_f96f",void 0,[],void 0),O.UNKNOWN_F970=t.OPCODES[63856]=new O(63856,"unknown_f970",void 0,[],void 0),O.UNKNOWN_F971=t.OPCODES[63857]=new O(63857,"unknown_f971",void 0,[],void 0),O.UNKNOWN_F972=t.OPCODES[63858]=new O(63858,"unknown_f972",void 0,[],void 0),O.UNKNOWN_F973=t.OPCODES[63859]=new O(63859,"unknown_f973",void 0,[],void 0),O.UNKNOWN_F974=t.OPCODES[63860]=new O(63860,"unknown_f974",void 0,[],void 0),O.UNKNOWN_F975=t.OPCODES[63861]=new O(63861,"unknown_f975",void 0,[],void 0),O.UNKNOWN_F976=t.OPCODES[63862]=new O(63862,"unknown_f976",void 0,[],void 0),O.UNKNOWN_F977=t.OPCODES[63863]=new O(63863,"unknown_f977",void 0,[],void 0),O.UNKNOWN_F978=t.OPCODES[63864]=new O(63864,"unknown_f978",void 0,[],void 0),O.UNKNOWN_F979=t.OPCODES[63865]=new O(63865,"unknown_f979",void 0,[],void 0),O.UNKNOWN_F97A=t.OPCODES[63866]=new O(63866,"unknown_f97a",void 0,[],void 0),O.UNKNOWN_F97B=t.OPCODES[63867]=new O(63867,"unknown_f97b",void 0,[],void 0),O.UNKNOWN_F97C=t.OPCODES[63868]=new O(63868,"unknown_f97c",void 0,[],void 0),O.UNKNOWN_F97D=t.OPCODES[63869]=new O(63869,"unknown_f97d",void 0,[],void 0),O.UNKNOWN_F97E=t.OPCODES[63870]=new O(63870,"unknown_f97e",void 0,[],void 0),O.UNKNOWN_F97F=t.OPCODES[63871]=new O(63871,"unknown_f97f",void 0,[],void 0),O.UNKNOWN_F980=t.OPCODES[63872]=new O(63872,"unknown_f980",void 0,[],void 0),O.UNKNOWN_F981=t.OPCODES[63873]=new O(63873,"unknown_f981",void 0,[],void 0),O.UNKNOWN_F982=t.OPCODES[63874]=new O(63874,"unknown_f982",void 0,[],void 0),O.UNKNOWN_F983=t.OPCODES[63875]=new O(63875,"unknown_f983",void 0,[],void 0),O.UNKNOWN_F984=t.OPCODES[63876]=new O(63876,"unknown_f984",void 0,[],void 0),O.UNKNOWN_F985=t.OPCODES[63877]=new O(63877,"unknown_f985",void 0,[],void 0),O.UNKNOWN_F986=t.OPCODES[63878]=new O(63878,"unknown_f986",void 0,[],void 0),O.UNKNOWN_F987=t.OPCODES[63879]=new O(63879,"unknown_f987",void 0,[],void 0),O.UNKNOWN_F988=t.OPCODES[63880]=new O(63880,"unknown_f988",void 0,[],void 0),O.UNKNOWN_F989=t.OPCODES[63881]=new O(63881,"unknown_f989",void 0,[],void 0),O.UNKNOWN_F98A=t.OPCODES[63882]=new O(63882,"unknown_f98a",void 0,[],void 0),O.UNKNOWN_F98B=t.OPCODES[63883]=new O(63883,"unknown_f98b",void 0,[],void 0),O.UNKNOWN_F98C=t.OPCODES[63884]=new O(63884,"unknown_f98c",void 0,[],void 0),O.UNKNOWN_F98D=t.OPCODES[63885]=new O(63885,"unknown_f98d",void 0,[],void 0),O.UNKNOWN_F98E=t.OPCODES[63886]=new O(63886,"unknown_f98e",void 0,[],void 0),O.UNKNOWN_F98F=t.OPCODES[63887]=new O(63887,"unknown_f98f",void 0,[],void 0),O.UNKNOWN_F990=t.OPCODES[63888]=new O(63888,"unknown_f990",void 0,[],void 0),O.UNKNOWN_F991=t.OPCODES[63889]=new O(63889,"unknown_f991",void 0,[],void 0),O.UNKNOWN_F992=t.OPCODES[63890]=new O(63890,"unknown_f992",void 0,[],void 0),O.UNKNOWN_F993=t.OPCODES[63891]=new O(63891,"unknown_f993",void 0,[],void 0),O.UNKNOWN_F994=t.OPCODES[63892]=new O(63892,"unknown_f994",void 0,[],void 0),O.UNKNOWN_F995=t.OPCODES[63893]=new O(63893,"unknown_f995",void 0,[],void 0),O.UNKNOWN_F996=t.OPCODES[63894]=new O(63894,"unknown_f996",void 0,[],void 0),O.UNKNOWN_F997=t.OPCODES[63895]=new O(63895,"unknown_f997",void 0,[],void 0),O.UNKNOWN_F998=t.OPCODES[63896]=new O(63896,"unknown_f998",void 0,[],void 0),O.UNKNOWN_F999=t.OPCODES[63897]=new O(63897,"unknown_f999",void 0,[],void 0),O.UNKNOWN_F99A=t.OPCODES[63898]=new O(63898,"unknown_f99a",void 0,[],void 0),O.UNKNOWN_F99B=t.OPCODES[63899]=new O(63899,"unknown_f99b",void 0,[],void 0),O.UNKNOWN_F99C=t.OPCODES[63900]=new O(63900,"unknown_f99c",void 0,[],void 0),O.UNKNOWN_F99D=t.OPCODES[63901]=new O(63901,"unknown_f99d",void 0,[],void 0),O.UNKNOWN_F99E=t.OPCODES[63902]=new O(63902,"unknown_f99e",void 0,[],void 0),O.UNKNOWN_F99F=t.OPCODES[63903]=new O(63903,"unknown_f99f",void 0,[],void 0),O.UNKNOWN_F9A0=t.OPCODES[63904]=new O(63904,"unknown_f9a0",void 0,[],void 0),O.UNKNOWN_F9A1=t.OPCODES[63905]=new O(63905,"unknown_f9a1",void 0,[],void 0),O.UNKNOWN_F9A2=t.OPCODES[63906]=new O(63906,"unknown_f9a2",void 0,[],void 0),O.UNKNOWN_F9A3=t.OPCODES[63907]=new O(63907,"unknown_f9a3",void 0,[],void 0),O.UNKNOWN_F9A4=t.OPCODES[63908]=new O(63908,"unknown_f9a4",void 0,[],void 0),O.UNKNOWN_F9A5=t.OPCODES[63909]=new O(63909,"unknown_f9a5",void 0,[],void 0),O.UNKNOWN_F9A6=t.OPCODES[63910]=new O(63910,"unknown_f9a6",void 0,[],void 0),O.UNKNOWN_F9A7=t.OPCODES[63911]=new O(63911,"unknown_f9a7",void 0,[],void 0),O.UNKNOWN_F9A8=t.OPCODES[63912]=new O(63912,"unknown_f9a8",void 0,[],void 0),O.UNKNOWN_F9A9=t.OPCODES[63913]=new O(63913,"unknown_f9a9",void 0,[],void 0),O.UNKNOWN_F9AA=t.OPCODES[63914]=new O(63914,"unknown_f9aa",void 0,[],void 0),O.UNKNOWN_F9AB=t.OPCODES[63915]=new O(63915,"unknown_f9ab",void 0,[],void 0),O.UNKNOWN_F9AC=t.OPCODES[63916]=new O(63916,"unknown_f9ac",void 0,[],void 0),O.UNKNOWN_F9AD=t.OPCODES[63917]=new O(63917,"unknown_f9ad",void 0,[],void 0),O.UNKNOWN_F9AE=t.OPCODES[63918]=new O(63918,"unknown_f9ae",void 0,[],void 0),O.UNKNOWN_F9AF=t.OPCODES[63919]=new O(63919,"unknown_f9af",void 0,[],void 0),O.UNKNOWN_F9B0=t.OPCODES[63920]=new O(63920,"unknown_f9b0",void 0,[],void 0),O.UNKNOWN_F9B1=t.OPCODES[63921]=new O(63921,"unknown_f9b1",void 0,[],void 0),O.UNKNOWN_F9B2=t.OPCODES[63922]=new O(63922,"unknown_f9b2",void 0,[],void 0),O.UNKNOWN_F9B3=t.OPCODES[63923]=new O(63923,"unknown_f9b3",void 0,[],void 0),O.UNKNOWN_F9B4=t.OPCODES[63924]=new O(63924,"unknown_f9b4",void 0,[],void 0),O.UNKNOWN_F9B5=t.OPCODES[63925]=new O(63925,"unknown_f9b5",void 0,[],void 0),O.UNKNOWN_F9B6=t.OPCODES[63926]=new O(63926,"unknown_f9b6",void 0,[],void 0),O.UNKNOWN_F9B7=t.OPCODES[63927]=new O(63927,"unknown_f9b7",void 0,[],void 0),O.UNKNOWN_F9B8=t.OPCODES[63928]=new O(63928,"unknown_f9b8",void 0,[],void 0),O.UNKNOWN_F9B9=t.OPCODES[63929]=new O(63929,"unknown_f9b9",void 0,[],void 0),O.UNKNOWN_F9BA=t.OPCODES[63930]=new O(63930,"unknown_f9ba",void 0,[],void 0),O.UNKNOWN_F9BB=t.OPCODES[63931]=new O(63931,"unknown_f9bb",void 0,[],void 0),O.UNKNOWN_F9BC=t.OPCODES[63932]=new O(63932,"unknown_f9bc",void 0,[],void 0),O.UNKNOWN_F9BD=t.OPCODES[63933]=new O(63933,"unknown_f9bd",void 0,[],void 0),O.UNKNOWN_F9BE=t.OPCODES[63934]=new O(63934,"unknown_f9be",void 0,[],void 0),O.UNKNOWN_F9BF=t.OPCODES[63935]=new O(63935,"unknown_f9bf",void 0,[],void 0),O.UNKNOWN_F9C0=t.OPCODES[63936]=new O(63936,"unknown_f9c0",void 0,[],void 0),O.UNKNOWN_F9C1=t.OPCODES[63937]=new O(63937,"unknown_f9c1",void 0,[],void 0),O.UNKNOWN_F9C2=t.OPCODES[63938]=new O(63938,"unknown_f9c2",void 0,[],void 0),O.UNKNOWN_F9C3=t.OPCODES[63939]=new O(63939,"unknown_f9c3",void 0,[],void 0),O.UNKNOWN_F9C4=t.OPCODES[63940]=new O(63940,"unknown_f9c4",void 0,[],void 0),O.UNKNOWN_F9C5=t.OPCODES[63941]=new O(63941,"unknown_f9c5",void 0,[],void 0),O.UNKNOWN_F9C6=t.OPCODES[63942]=new O(63942,"unknown_f9c6",void 0,[],void 0),O.UNKNOWN_F9C7=t.OPCODES[63943]=new O(63943,"unknown_f9c7",void 0,[],void 0),O.UNKNOWN_F9C8=t.OPCODES[63944]=new O(63944,"unknown_f9c8",void 0,[],void 0),O.UNKNOWN_F9C9=t.OPCODES[63945]=new O(63945,"unknown_f9c9",void 0,[],void 0),O.UNKNOWN_F9CA=t.OPCODES[63946]=new O(63946,"unknown_f9ca",void 0,[],void 0),O.UNKNOWN_F9CB=t.OPCODES[63947]=new O(63947,"unknown_f9cb",void 0,[],void 0),O.UNKNOWN_F9CC=t.OPCODES[63948]=new O(63948,"unknown_f9cc",void 0,[],void 0),O.UNKNOWN_F9CD=t.OPCODES[63949]=new O(63949,"unknown_f9cd",void 0,[],void 0),O.UNKNOWN_F9CE=t.OPCODES[63950]=new O(63950,"unknown_f9ce",void 0,[],void 0),O.UNKNOWN_F9CF=t.OPCODES[63951]=new O(63951,"unknown_f9cf",void 0,[],void 0),O.UNKNOWN_F9D0=t.OPCODES[63952]=new O(63952,"unknown_f9d0",void 0,[],void 0),O.UNKNOWN_F9D1=t.OPCODES[63953]=new O(63953,"unknown_f9d1",void 0,[],void 0),O.UNKNOWN_F9D2=t.OPCODES[63954]=new O(63954,"unknown_f9d2",void 0,[],void 0),O.UNKNOWN_F9D3=t.OPCODES[63955]=new O(63955,"unknown_f9d3",void 0,[],void 0),O.UNKNOWN_F9D4=t.OPCODES[63956]=new O(63956,"unknown_f9d4",void 0,[],void 0),O.UNKNOWN_F9D5=t.OPCODES[63957]=new O(63957,"unknown_f9d5",void 0,[],void 0),O.UNKNOWN_F9D6=t.OPCODES[63958]=new O(63958,"unknown_f9d6",void 0,[],void 0),O.UNKNOWN_F9D7=t.OPCODES[63959]=new O(63959,"unknown_f9d7",void 0,[],void 0),O.UNKNOWN_F9D8=t.OPCODES[63960]=new O(63960,"unknown_f9d8",void 0,[],void 0),O.UNKNOWN_F9D9=t.OPCODES[63961]=new O(63961,"unknown_f9d9",void 0,[],void 0),O.UNKNOWN_F9DA=t.OPCODES[63962]=new O(63962,"unknown_f9da",void 0,[],void 0),O.UNKNOWN_F9DB=t.OPCODES[63963]=new O(63963,"unknown_f9db",void 0,[],void 0),O.UNKNOWN_F9DC=t.OPCODES[63964]=new O(63964,"unknown_f9dc",void 0,[],void 0),O.UNKNOWN_F9DD=t.OPCODES[63965]=new O(63965,"unknown_f9dd",void 0,[],void 0),O.UNKNOWN_F9DE=t.OPCODES[63966]=new O(63966,"unknown_f9de",void 0,[],void 0),O.UNKNOWN_F9DF=t.OPCODES[63967]=new O(63967,"unknown_f9df",void 0,[],void 0),O.UNKNOWN_F9E0=t.OPCODES[63968]=new O(63968,"unknown_f9e0",void 0,[],void 0),O.UNKNOWN_F9E1=t.OPCODES[63969]=new O(63969,"unknown_f9e1",void 0,[],void 0),O.UNKNOWN_F9E2=t.OPCODES[63970]=new O(63970,"unknown_f9e2",void 0,[],void 0),O.UNKNOWN_F9E3=t.OPCODES[63971]=new O(63971,"unknown_f9e3",void 0,[],void 0),O.UNKNOWN_F9E4=t.OPCODES[63972]=new O(63972,"unknown_f9e4",void 0,[],void 0),O.UNKNOWN_F9E5=t.OPCODES[63973]=new O(63973,"unknown_f9e5",void 0,[],void 0),O.UNKNOWN_F9E6=t.OPCODES[63974]=new O(63974,"unknown_f9e6",void 0,[],void 0),O.UNKNOWN_F9E7=t.OPCODES[63975]=new O(63975,"unknown_f9e7",void 0,[],void 0),O.UNKNOWN_F9E8=t.OPCODES[63976]=new O(63976,"unknown_f9e8",void 0,[],void 0),O.UNKNOWN_F9E9=t.OPCODES[63977]=new O(63977,"unknown_f9e9",void 0,[],void 0),O.UNKNOWN_F9EA=t.OPCODES[63978]=new O(63978,"unknown_f9ea",void 0,[],void 0),O.UNKNOWN_F9EB=t.OPCODES[63979]=new O(63979,"unknown_f9eb",void 0,[],void 0),O.UNKNOWN_F9EC=t.OPCODES[63980]=new O(63980,"unknown_f9ec",void 0,[],void 0),O.UNKNOWN_F9ED=t.OPCODES[63981]=new O(63981,"unknown_f9ed",void 0,[],void 0),O.UNKNOWN_F9EE=t.OPCODES[63982]=new O(63982,"unknown_f9ee",void 0,[],void 0),O.UNKNOWN_F9EF=t.OPCODES[63983]=new O(63983,"unknown_f9ef",void 0,[],void 0),O.UNKNOWN_F9F0=t.OPCODES[63984]=new O(63984,"unknown_f9f0",void 0,[],void 0),O.UNKNOWN_F9F1=t.OPCODES[63985]=new O(63985,"unknown_f9f1",void 0,[],void 0),O.UNKNOWN_F9F2=t.OPCODES[63986]=new O(63986,"unknown_f9f2",void 0,[],void 0),O.UNKNOWN_F9F3=t.OPCODES[63987]=new O(63987,"unknown_f9f3",void 0,[],void 0),O.UNKNOWN_F9F4=t.OPCODES[63988]=new O(63988,"unknown_f9f4",void 0,[],void 0),O.UNKNOWN_F9F5=t.OPCODES[63989]=new O(63989,"unknown_f9f5",void 0,[],void 0),O.UNKNOWN_F9F6=t.OPCODES[63990]=new O(63990,"unknown_f9f6",void 0,[],void 0),O.UNKNOWN_F9F7=t.OPCODES[63991]=new O(63991,"unknown_f9f7",void 0,[],void 0),O.UNKNOWN_F9F8=t.OPCODES[63992]=new O(63992,"unknown_f9f8",void 0,[],void 0),O.UNKNOWN_F9F9=t.OPCODES[63993]=new O(63993,"unknown_f9f9",void 0,[],void 0),O.UNKNOWN_F9FA=t.OPCODES[63994]=new O(63994,"unknown_f9fa",void 0,[],void 0),O.UNKNOWN_F9FB=t.OPCODES[63995]=new O(63995,"unknown_f9fb",void 0,[],void 0),O.UNKNOWN_F9FC=t.OPCODES[63996]=new O(63996,"unknown_f9fc",void 0,[],void 0),O.UNKNOWN_F9FD=t.OPCODES[63997]=new O(63997,"unknown_f9fd",void 0,[],void 0),O.UNKNOWN_F9FE=t.OPCODES[63998]=new O(63998,"unknown_f9fe",void 0,[],void 0),O.UNKNOWN_F9FF=t.OPCODES[63999]=new O(63999,"unknown_f9ff",void 0,[],void 0),t.Opcode=O,t.OPCODES.forEach(e=>{t.OPCODES_BY_MNEMONIC.set(e.mnemonic,e)})},Za3H:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("FXpb"),o=i("nN8q"),s=i("6cU9"),r=i("w6HN"),a=i("4/Uj"),d=i("KUR2"),l=i("469Q"),u=i("4SjJ");class c extends o.ResizableWidget{constructor(){super(n.el.div({class:"viewer_TextureView"})),this.open_file_button=new s.FileButton("Open file...",{icon_left:n.Icon.File,accept:".xvm"}),this.tool_bar=this.disposable(new r.ToolBar({children:[this.open_file_button]})),this.renderer_view=this.disposable(new d.RendererWidget(new l.TextureRenderer)),this.element.append(this.tool_bar.element,this.renderer_view.element),this.disposable(this.open_file_button.files.observe(({value:e})=>{e.length&&a.texture_store.load_file(e[0])})),this.renderer_view.start_rendering(),this.disposable(u.gui_store.tool.observe(({value:e})=>{e===u.GuiTool.Viewer?this.renderer_view.start_rendering():this.renderer_view.stop_rendering()})),this.finalize_construction(c.prototype)}resize(e,t){return super.resize(e,t),this.renderer_view.resize(e,Math.max(0,t-this.tool_bar.height)),this}}t.TextureView=c},aEXR:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,s){function r(e){try{d(n.next(e))}catch(e){s(e)}}function a(e){try{d(n.throw(e))}catch(e){s(e)}}function d(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(r,a)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=i("bcBH"),s=i("NRxM"),r=i("XDYw"),a=i("y42t"),d=i("Yuai"),l=i("AUhH"),u=i("eFYZ"),c=new l.LoadingCache,_=new l.LoadingCache;function p(e,t,i){const n=h(e,t,i,"render").then(e=>u.area_geometry_to_sections_and_object_3d(a.parse_area_geometry(new s.ArrayBufferCursor(e,o.Endianness.Little))));return{geometry:n.then(([,e])=>e),sections:n.then(([e])=>e)}}t.load_area_sections=function(e,t,i){return n(this,void 0,void 0,function*(){return c.get_or_set(`${e}-${t}-${i}`,()=>p(e,t,i)).sections})},t.load_area_render_geometry=function(e,t,i){return n(this,void 0,void 0,function*(){return c.get_or_set(`${e}-${t}-${i}`,()=>p(e,t,i)).geometry})},t.load_area_collision_geometry=function(e,t,i){return n(this,void 0,void 0,function*(){return _.get_or_set(`${e}-${t}-${i}`,()=>h(e,t,i,"collision").then(e=>u.area_collision_geometry_to_object_3d(r.parse_area_collision_geometry(new s.ArrayBufferCursor(e,o.Endianness.Little)))))})};const v=[[["city00_00",1],["forest01",1],["forest02",1],["cave01_",6],["cave02_",5],["cave03_",6],["machine01_",6],["machine02_",6],["ancient01_",5],["ancient02_",5],["ancient03_",5],["boss01",1],["boss02",1],["boss03",1],["darkfalz00",1]],[["labo00_00",1],["ruins01_",3],["ruins02_",3],["space01_",3],["space02_",3],["jungle01_00",1],["jungle02_00",1],["jungle03_00",1],["jungle04_",3],["jungle05_00",1],["seabed01_",3],["seabed02_",3],["boss05",1],["boss06",1],["boss07",1],["boss08",1],["jungle06_00",1],["jungle07_",5]],[],[["city02_00",1],["wilds01_00",1],["wilds01_01",1],["wilds01_02",1],["wilds01_03",1],["crater01_00",1],["desert01_",3],["desert02_",3],["desert03_",3],["boss09_00",1]]];function h(e,t,i,o){return n(this,void 0,void 0,function*(){const n=function(e,t,i){16===t&&1===i&&(t=17,i=1);const n=v[e-1];if(0<=t&&t<n.length){const[o,s]=n[t];if(0<=i&&i<s){let e;if(1===s)e="";else for(e=String(i);e.length<2;)e="0"+e;return`/maps/map_${o}${e}`}throw new Error(`Unknown variant ${i} of area ${t} in episode ${e}.`)}throw new Error(`Unknown episode ${e} area ${t}.`)}(e,t,i),s="render"===o?"n.rel":"c.rel";return d.load_array_buffer(n+s)})}},bJO5:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("ouMO");t.AreaVariantModel=class{constructor(e,t){if(this._sections=n.list_property(),this.sections=this._sections,!Number.isInteger(e)||e<0)throw new Error(`Expected id to be a non-negative integer, got ${e}.`);this.id=e,this.area=t}}},bcBH:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"}(t.Endianness||(t.Endianness={}))},bqrC:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("xs7i"),o=i("v2aa"),s=i("lg9k"),r=i("+oIp"),a=i("sZ1+"),d=i("yRp4"),l=i("ZPAt"),u=i("uaZj"),c=i("IjTL");t.create_new_quest=function(e){if(e===n.Episode.II)throw new Error("Episode II not yet supported.");if(e===n.Episode.IV)throw new Error("Episode IV not yet supported.");return new o.QuestModel(0,0,"Untitled","Created with phantasmal.world.","Created with phantasmal.world.",e,(new Map).set(0,0),[new u.QuestObjectModel(r.ObjectType.MenuActivation,16384,0,0,10,new d.Vec3(-16.313568115234375,3,-579.5118408203125),new d.Vec3(.0009587526218325454,0,0),new Map([["property_0",1],["property_1",1],["property_2",1],["property_3",1],["property_4",0],["property_5",0],["property_6",2365279104]]),[[2,0,0,0,0,0],[0,0]]),new u.QuestObjectModel(r.ObjectType.MenuActivation,16385,0,0,10,new d.Vec3(-393.07318115234375,10,-12.964752197265625),new d.Vec3(0,0,0),new Map([["property_0",9183549615799121e-56],["property_1",1.0000011920928955],["property_2",1],["property_3",0],["property_4",0],["property_5",0],["property_6",2365279264]]),[[2,0,1,0,0,0],[0,0]]),new u.QuestObjectModel(r.ObjectType.MenuActivation,16386,0,0,10,new d.Vec3(-458.60699462890625,10,-51.270660400390625),new d.Vec3(0,0,0),new Map([["property_0",1],["property_1",1],["property_2",1],["property_3",2],["property_4",65536],["property_5",10],["property_6",2365279424]]),[[2,0,2,0,0,0],[0,0]]),new u.QuestObjectModel(r.ObjectType.MenuActivation,16387,0,0,10,new d.Vec3(-430.19696044921875,10,-24.490447998046875),new d.Vec3(0,0,0),new Map([["property_0",1],["property_1",1],["property_2",1],["property_3",3],["property_4",0],["property_5",0],["property_6",2365279584]]),[[2,0,3,0,0,0],[0,0]]),new u.QuestObjectModel(r.ObjectType.PlayerSet,16388,0,0,10,new d.Vec3(.995330810546875,0,-37.0010986328125),new d.Vec3(0,4.712460886831327,0),new Map([["property_0",0],["property_1",1],["property_2",1],["property_3",0],["property_4",0],["property_5",0],["property_6",2365279744]]),[[2,0,4,0,0,0],[0,0]]),new u.QuestObjectModel(r.ObjectType.PlayerSet,16389,0,0,10,new d.Vec3(3.0009307861328125,0,-23.99688720703125),new d.Vec3(0,4.859725289544806,0),new Map([["property_0",1.000000238418579],["property_1",1],["property_2",1],["property_3",0],["property_4",0],["property_5",0],["property_6",2365279904]]),[[2,0,5,0,0,0],[0,0]]),new u.QuestObjectModel(r.ObjectType.PlayerSet,16390,0,0,10,new d.Vec3(2.0015106201171875,0,-50.00386047363281),new d.Vec3(0,4.565196484117848,0),new Map([["property_0",2.000002384185791],["property_1",1],["property_2",1],["property_3",0],["property_4",0],["property_5",0],["property_6",2365280064]]),[[2,0,6,0,0,0],[0,0]]),new u.QuestObjectModel(r.ObjectType.PlayerSet,16391,0,0,10,new d.Vec3(4.9973907470703125,0,-61.99664306640625),new d.Vec3(0,4.368843947166543,0),new Map([["property_0",3.0000007152557373],["property_1",1],["property_2",1],["property_3",65536],["property_4",10],["property_5",0],["property_6",2365280224]]),[[2,0,7,0,0,0],[0,0]]),new u.QuestObjectModel(r.ObjectType.MainRagolTeleporter,18264,0,0,10,new d.Vec3(132.00314331054688,1.000000238418579,-265.002197265625),new d.Vec3(0,.49088134237826325,0),new Map([["property_0",1.000000238418579],["property_1",1],["property_2",1],["property_3",1],["property_4",0],["property_5",0],["property_6",2365227216]]),[[0,0,87,7,0,0],[0,0]]),new u.QuestObjectModel(r.ObjectType.PrincipalWarp,16393,0,0,10,new d.Vec3(-228,0,-2020.99951171875),new d.Vec3(0,2.9452880542695796,0),new Map([["property_0",-10.000004768371582],["property_1",0],["property_2",-30.000030517578125],["property_3",0],["property_4",65536],["property_5",65536],["property_6",2365280688]]),[[2,0,9,0,0,0],[0,0]]),new u.QuestObjectModel(r.ObjectType.MenuActivation,16394,0,0,10,new d.Vec3(-41.000030517578125,0,42.37322998046875),new d.Vec3(0,0,0),new Map([["property_0",1],["property_1",1],["property_2",1],["property_3",4],["property_4",0],["property_5",0],["property_6",2365280992]]),[[2,0,10,0,0,0],[1,0]]),new u.QuestObjectModel(r.ObjectType.MenuActivation,16395,0,0,10,new d.Vec3(-479.21673583984375,8.781256675720215,-322.465576171875),new d.Vec3(6.28328118244177,.0009587526218325454,0),new Map([["property_0",1],["property_1",1],["property_2",1],["property_3",5],["property_4",0],["property_5",0],["property_6",2365281152]]),[[2,0,11,0,0,0],[0,0]]),new u.QuestObjectModel(r.ObjectType.PrincipalWarp,16396,0,0,10,new d.Vec3(-228,0,-351.0015869140625),new d.Vec3(0,0,0),new Map([["property_0",10.000006675720215],["property_1",0],["property_2",-1760.0010986328125],["property_3",32768],["property_4",0],["property_5",0],["property_6",2365281312]]),[[2,0,12,0,0,0],[0,0]]),new u.QuestObjectModel(r.ObjectType.TelepipeLocation,16397,0,0,10,new d.Vec3(-561.88232421875,0,-406.8829345703125),new d.Vec3(0,0,0),new Map([["property_0",1],["property_1",1],["property_2",1],["property_3",0],["property_4",0],["property_5",0],["property_6",2365281616]]),[[2,0,13,0,0,0],[0,0]]),new u.QuestObjectModel(r.ObjectType.TelepipeLocation,16398,0,0,10,new d.Vec3(-547.8557739257812,0,-444.8822326660156),new d.Vec3(0,0,0),new Map([["property_0",1],["property_1",1],["property_2",1],["property_3",1],["property_4",0],["property_5",0],["property_6",2365281808]]),[[2,0,14,0,0,0],[0,0]]),new u.QuestObjectModel(r.ObjectType.TelepipeLocation,16399,0,0,10,new d.Vec3(-486.441650390625,0,-497.4501647949219),new d.Vec3(0,0,0),new Map([["property_0",9183549615799121e-56],["property_1",1.0000011920928955],["property_2",1],["property_3",3],["property_4",0],["property_5",0],["property_6",2365282e3]]),[[2,0,15,0,0,0],[0,0]]),new u.QuestObjectModel(r.ObjectType.TelepipeLocation,16400,0,0,10,new d.Vec3(-522.4052734375,0,-474.1882629394531),new d.Vec3(0,0,0),new Map([["property_0",1],["property_1",1],["property_2",1],["property_3",2],["property_4",65536],["property_5",10],["property_6",2365282192]]),[[2,0,16,0,0,0],[0,0]]),new u.QuestObjectModel(r.ObjectType.MedicalCenterDoor,16401,0,0,10,new d.Vec3(-34.49853515625,0,-384.4951171875),new d.Vec3(0,5.497871034636549,0),new Map([["property_0",3.0000007152557373],["property_1",1],["property_2",1],["property_3",1],["property_4",0],["property_5",0],["property_6",2365282384]]),[[2,0,17,0,0,0],[0,0]]),new u.QuestObjectModel(r.ObjectType.ShopDoor,16402,0,0,10,new d.Vec3(-393.0031433105469,0,-143.49981689453125),new d.Vec3(0,3.141640591220885,0),new Map([["property_0",3.0000007152557373],["property_1",1],["property_2",1],["property_3",1],["property_4",0],["property_5",0],["property_6",2365282640]]),[[2,0,18,0,0,0],[0,0]]),new u.QuestObjectModel(r.ObjectType.MenuActivation,16403,0,0,10,new d.Vec3(-355.17462158203125,0,-43.15193176269531),new d.Vec3(0,0,0),new Map([["property_0",1.000000238418579],["property_1",1],["property_2",1],["property_3",6],["property_4",0],["property_5",0],["property_6",2365282896]]),[[2,0,19,0,0,0],[0,0]]),new u.QuestObjectModel(r.ObjectType.HuntersGuildDoor,16404,0,0,10,new d.Vec3(-43.00239562988281,0,-118.00120544433594),new d.Vec3(0,3.141640591220885,0),new Map([["property_0",3.0000007152557373],["property_1",1],["property_2",1],["property_3",1],["property_4",0],["property_5",0],["property_6",2365283056]]),[[2,0,20,0,0,0],[0,0]]),new u.QuestObjectModel(r.ObjectType.TeleporterDoor,16405,0,0,10,new d.Vec3(26.000823974609375,0,-265.99810791015625),new d.Vec3(0,3.141640591220885,0),new Map([["property_0",3.0000007152557373],["property_1",1],["property_2",1],["property_3",1],["property_4",0],["property_5",0],["property_6",2365283312]]),[[2,0,21,0,0,0],[0,0]]),new u.QuestObjectModel(r.ObjectType.PlayerSet,16406,0,0,10,new d.Vec3(57.81005859375,0,-268.5472412109375),new d.Vec3(0,4.712460886831327,0),new Map([["property_0",0],["property_1",1],["property_2",1],["property_3",1],["property_4",0],["property_5",0],["property_6",2365283568]]),[[2,0,22,0,0,0],[0,0]]),new u.QuestObjectModel(r.ObjectType.PlayerSet,16407,0,0,10,new d.Vec3(66.769287109375,0,-252.3748779296875),new d.Vec3(0,4.712460886831327,0),new Map([["property_0",1.000000238418579],["property_1",1],["property_2",1],["property_3",1],["property_4",0],["property_5",0],["property_6",2365283728]]),[[2,0,23,0,0,0],[0,0]]),new u.QuestObjectModel(r.ObjectType.PlayerSet,16408,0,0,10,new d.Vec3(67.36819458007812,0,-284.9297180175781),new d.Vec3(0,4.712460886831327,0),new Map([["property_0",2.000000476837158],["property_1",1],["property_2",1],["property_3",1],["property_4",0],["property_5",0],["property_6",2365283888]]),[[2,0,24,0,0,0],[0,0]]),new u.QuestObjectModel(r.ObjectType.PlayerSet,16409,0,0,10,new d.Vec3(77.10488891601562,0,-269.2830505371094),new d.Vec3(0,4.712460886831327,0),new Map([["property_0",3.0000007152557373],["property_1",1],["property_2",1],["property_3",1],["property_4",0],["property_5",0],["property_6",2365284048]]),[[2,0,25,0,0,0],[0,0]])],[new c.QuestNpcModel(a.NpcType.GuildLady,29,1011.0010986328125,850,0,0,10,new d.Vec3(-49.0010986328125,0,50.996429443359375),new d.Vec3(0,2.3562304434156633,0),new d.Vec3(0,0,0),[[0,0,7,86,0,0,0,0,23,87],[0,0,0,0,0,0],[128,238,223,176]]),new c.QuestNpcModel(a.NpcType.FemaleFat,4,1016.0010986328125,100,1,0,20,new d.Vec3(167.99769592285156,0,83.99686431884766),new d.Vec3(0,3.927050739026106,0),new d.Vec3(24.000009536743164,0,0),[[0,0,7,88,0,0,0,0,23,89],[0,0,0,0,0,0],[128,238,232,48]]),new c.QuestNpcModel(a.NpcType.MaleDwarf,10,1015.0010986328125,90,1,0,20,new d.Vec3(156.0028839111328,0,-49.99967575073242),new d.Vec3(0,5.497871034636549,0),new d.Vec3(30.000009536743164,0,0),[[0,0,7,89,0,0,0,0,23,90],[0,0,0,0,0,0],[128,238,236,176]]),new c.QuestNpcModel(a.NpcType.RedSoldier,26,1020.0010986328125,130,0,0,20,new d.Vec3(237.9988250732422,0,-14.0001220703125),new d.Vec3(0,5.497871034636549,0),new d.Vec3(0,0,0),[[0,0,7,90,0,0,0,0,23,91],[0,0,0,0,0,0],[128,238,241,48]]),new c.QuestNpcModel(a.NpcType.BlueSoldier,25,1019.0010986328125,120,0,0,20,new d.Vec3(238.00379943847656,0,63.00413513183594),new d.Vec3(0,3.927050739026106,0),new d.Vec3(0,0,0),[[0,0,7,91,0,0,0,0,23,92],[0,0,0,0,0,0],[128,238,245,176]]),new c.QuestNpcModel(a.NpcType.FemaleMacho,5,1014.0010986328125,80,1,0,20,new d.Vec3(-2.001882553100586,0,35.0036506652832),new d.Vec3(0,3.141640591220885,0),new d.Vec3(26.000009536743164,0,0),[[0,0,7,92,0,0,0,0,23,93],[0,0,0,0,0,0],[128,238,250,48]]),new c.QuestNpcModel(a.NpcType.Scientist,30,1013.0010986328125,70,1,0,20,new d.Vec3(-147.0000457763672,0,-7.996537208557129),new d.Vec3(0,2.577127047485882,0),new d.Vec3(30.000009536743164,0,0),[[0,0,7,93,0,0,0,0,23,94],[0,0,0,0,0,0],[128,238,254,176]]),new c.QuestNpcModel(a.NpcType.MaleOld,13,1012.0010986328125,60,1,0,20,new d.Vec3(-219.99710083007812,0,-100.0008316040039),new d.Vec3(0,0,0),new d.Vec3(30.000011444091797,0,0),[[0,0,7,94,0,0,0,0,23,95],[0,0,0,0,0,0],[128,239,3,48]]),new c.QuestNpcModel(a.NpcType.GuildLady,29,1010.0010986328125,840,0,0,20,new d.Vec3(-262.5099792480469,0,-24.53999900817871),new d.Vec3(0,1.963525369513053,0),new d.Vec3(0,0,0),[[0,0,7,95,0,0,0,0,23,106],[0,0,0,0,0,0],[128,239,100,192]]),new c.QuestNpcModel(a.NpcType.Tekker,28,1009,830,0,0,30,new d.Vec3(-43.70983123779297,2.5999999046325684,-52.78248596191406),new d.Vec3(0,.7854101478052212,0),new d.Vec3(0,0,0),[[0,0,7,97,0,0,0,0,23,98],[0,0,0,0,0,0],[128,239,16,176]]),new c.QuestNpcModel(a.NpcType.MaleMacho,12,1006,800,0,0,30,new d.Vec3(.33990478515625,2.5999999046325684,-84.71995544433594),new d.Vec3(0,0,0),new d.Vec3(0,0,0),[[0,0,7,98,0,0,0,0,23,99],[0,0,0,0,0,0],[128,239,21,48]]),new c.QuestNpcModel(a.NpcType.FemaleMacho,5,1008,820,0,0,30,new d.Vec3(43.87113952636719,2.5999996662139893,-74.80299377441406),new d.Vec3(0,-.5645135437350027,0),new d.Vec3(0,0,0),[[0,0,7,99,0,0,0,0,23,100],[0,0,0,0,0,0],[128,239,25,176]]),new c.QuestNpcModel(a.NpcType.MaleFat,11,1007.0010986328125,810,0,0,30,new d.Vec3(75.88380432128906,2.5999996662139893,-42.69328308105469),new d.Vec3(0,-1.0308508189943528,0),new d.Vec3(0,0,0),[[0,0,7,100,0,0,0,0,23,101],[0,0,0,0,0,0],[128,239,30,48]]),new c.QuestNpcModel(a.NpcType.FemaleTall,7,1021.0010986328125,140,1,0,30,new d.Vec3(16.003997802734375,0,5.995697021484375),new d.Vec3(0,-1.1781152217078317,0),new d.Vec3(22.000009536743164,0,0),[[0,0,7,101,0,0,0,0,23,102],[0,0,0,0,0,0],[128,239,34,176]]),new c.QuestNpcModel(a.NpcType.Nurse,31,1017,860,0,0,40,new d.Vec3(.3097381591796875,3,-105.3865966796875),new d.Vec3(0,0,0),new d.Vec3(0,0,0),[[0,0,7,102,0,0,0,0,23,103],[0,0,0,0,0,0],[128,239,39,48]]),new c.QuestNpcModel(a.NpcType.Nurse,31,1018.0010986328125,110,1,0,40,new d.Vec3(53.499176025390625,0,-26.496688842773438),new d.Vec3(0,5.497871034636549,0),new d.Vec3(18.000009536743164,0,0),[[0,0,7,103,0,0,0,0,23,104],[0,0,0,0,0,0],[128,239,43,176]])],[],[{labels:[0],type:s.SegmentType.Instructions,instructions:[new s.Instruction(l.Opcode.SET_EPISODE,[{value:0,size:4}]),new s.Instruction(l.Opcode.ARG_PUSHL,[{value:0,size:4}]),new s.Instruction(l.Opcode.ARG_PUSHW,[{value:150,size:2}]),new s.Instruction(l.Opcode.SET_FLOOR_HANDLER,[]),new s.Instruction(l.Opcode.BB_MAP_DESIGNATE,[{value:0,size:1},{value:0,size:2},{value:0,size:1},{value:0,size:1}]),new s.Instruction(l.Opcode.RET,[])]},{labels:[150],type:s.SegmentType.Instructions,instructions:[new s.Instruction(l.Opcode.LETI,[{value:60,size:1},{value:237,size:4}]),new s.Instruction(l.Opcode.LETI,[{value:61,size:1},{value:0,size:4}]),new s.Instruction(l.Opcode.LETI,[{value:62,size:1},{value:333,size:4}]),new s.Instruction(l.Opcode.LETI,[{value:63,size:1},{value:-15,size:4}]),new s.Instruction(l.Opcode.ARG_PUSHL,[{value:0,size:4}]),new s.Instruction(l.Opcode.ARG_PUSHR,[{value:60,size:1}]),new s.Instruction(l.Opcode.P_SETPOS,[]),new s.Instruction(l.Opcode.LETI,[{value:60,size:1},{value:255,size:4}]),new s.Instruction(l.Opcode.LETI,[{value:61,size:1},{value:0,size:4}]),new s.Instruction(l.Opcode.LETI,[{value:62,size:1},{value:338,size:4}]),new s.Instruction(l.Opcode.LETI,[{value:63,size:1},{value:-43,size:4}]),new s.Instruction(l.Opcode.ARG_PUSHL,[{value:1,size:4}]),new s.Instruction(l.Opcode.ARG_PUSHR,[{value:60,size:1}]),new s.Instruction(l.Opcode.P_SETPOS,[]),new s.Instruction(l.Opcode.LETI,[{value:60,size:1},{value:222,size:4}]),new s.Instruction(l.Opcode.LETI,[{value:61,size:1},{value:0,size:4}]),new s.Instruction(l.Opcode.LETI,[{value:62,size:1},{value:322,size:4}]),new s.Instruction(l.Opcode.LETI,[{value:63,size:1},{value:25,size:4}]),new s.Instruction(l.Opcode.ARG_PUSHL,[{value:2,size:4}]),new s.Instruction(l.Opcode.ARG_PUSHR,[{value:60,size:1}]),new s.Instruction(l.Opcode.P_SETPOS,[]),new s.Instruction(l.Opcode.LETI,[{value:60,size:1},{value:248,size:4}]),new s.Instruction(l.Opcode.LETI,[{value:61,size:1},{value:0,size:4}]),new s.Instruction(l.Opcode.LETI,[{value:62,size:1},{value:323,size:4}]),new s.Instruction(l.Opcode.LETI,[{value:63,size:1},{value:-20,size:4}]),new s.Instruction(l.Opcode.ARG_PUSHL,[{value:3,size:4}]),new s.Instruction(l.Opcode.ARG_PUSHR,[{value:60,size:1}]),new s.Instruction(l.Opcode.P_SETPOS,[]),new s.Instruction(l.Opcode.RET,[])]}],[])}},c5EP:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,s){function r(e){try{d(n.next(e))}catch(e){s(e)}}function a(e){try{d(n.throw(e))}catch(e){s(e)}}function d(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(r,a)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=i("ouMO"),s=i("v2aa"),r=i("Sa3/"),a=i("XcMJ"),d=i("NRxM"),l=i("bcBH"),u=i("uaZj"),c=i("IjTL"),_=i("4Mnx"),p=i("Tpfs"),v=i("4SjJ"),h=i("70mo"),w=i("mpco"),f=i("oSIo"),m=i("3AeF"),g=i("pgiS"),y=i("yWJ7"),O=i("bqrC"),b=i("GGSb").get("quest_editor/gui/QuestEditorStore");class E{constructor(){this.debug=o.property(!1),this.undo=new h.UndoStack,this.disposer=new p.Disposer,this._current_quest_filename=o.property(void 0),this._current_quest=o.property(void 0),this._current_area=o.property(void 0),this._selected_entity=o.property(void 0),this.set_current_area=e=>{this._selected_entity.val=void 0,this._current_area.val=e},this.set_selected_entity=e=>{e&&this.current_quest.val&&(this._current_area.val=_.area_store.get_area(this.current_quest.val.episode,e.area_id)),this._selected_entity.val=e},this.new_quest=e=>{this.set_quest(O.create_new_quest(e))},this.open_file=e=>n(this,void 0,void 0,function*(){try{const t=yield r.read_file(e),i=a.parse_quest(new d.ArrayBufferCursor(t,l.Endianness.Little));this.set_quest(i&&new s.QuestModel(i.id,i.language,i.name,i.short_description,i.long_description,i.episode,i.map_designations,i.objects.map(e=>new u.QuestObjectModel(e.type,e.id,e.group_id,e.area_id,e.section_id,e.position,e.rotation,e.properties,e.unknown)),i.npcs.map(e=>new c.QuestNpcModel(e.type,e.pso_type_id,e.npc_id,e.script_label,e.roaming,e.area_id,e.section_id,e.position,e.rotation,e.scale,e.unknown)),i.dat_unknowns,i.object_code,i.shop_items),e.name)}catch(e){b.error("Couldn't read file.",e)}}),this.save_as=()=>{const e=this.current_quest.val;if(!e)return;let t=prompt("File name:");if(!t)return;const i=a.write_quest_qst({id:e.id.val,language:e.language.val,name:e.name.val,short_description:e.short_description.val,long_description:e.long_description.val,episode:e.episode,objects:e.objects.val.map(e=>({type:e.type,area_id:e.area_id,section_id:e.section_id.val,position:e.position.val,rotation:e.rotation.val,unknown:e.unknown,id:e.id,group_id:e.group_id,properties:e.properties})),npcs:e.npcs.val.map(e=>({type:e.type,area_id:e.area_id,section_id:e.section_id.val,position:e.position.val,rotation:e.rotation.val,scale:e.scale,unknown:e.unknown,pso_type_id:e.pso_type_id,npc_id:e.npc_id,script_label:e.script_label,roaming:e.roaming})),dat_unknowns:e.dat_unknowns,object_code:e.object_code,shop_items:e.shop_items,map_designations:e.map_designations.val},t);t.endsWith(".qst")||(t+=".qst");const n=document.createElement("a");n.href=URL.createObjectURL(new Blob([i],{type:"application/octet-stream"})),n.download=t,document.body.appendChild(n),n.click(),URL.revokeObjectURL(n.href),document.body.removeChild(n)},this.push_edit_id_action=e=>{this.current_quest.val&&this.undo.push(new y.EditIdAction(this.current_quest.val,e)).redo()},this.push_edit_name_action=e=>{this.current_quest.val&&this.undo.push(new g.EditNameAction(this.current_quest.val,e)).redo()},this.push_edit_short_description_action=e=>{this.current_quest.val&&this.undo.push(new f.EditShortDescriptionAction(this.current_quest.val,e)).redo()},this.push_edit_long_description_action=e=>{this.current_quest.val&&this.undo.push(new m.EditLongDescriptionAction(this.current_quest.val,e)).redo()},this.push_translate_entity_action=(e,t,i,n,o,s)=>{this.undo.push(new w.TranslateEntityAction(e,t,i,n,o,s)).redo()},this.set_section_on_quest_entity=(e,t)=>{const i=t.find(t=>t.id===e.section_id.val);i?e.set_section(i):b.warn(`Section ${e.section_id.val} not found.`)},this.current_quest_filename=this._current_quest_filename,this.current_quest=this._current_quest,this.current_area=this._current_area,this.selected_entity=this._selected_entity,this.disposer.add(v.gui_store.tool.observe(({value:e})=>{e===v.GuiTool.QuestEditor&&this.undo.make_current()},{call_now:!0}))}dispose(){this.disposer.dispose()}set_quest(e,t){return n(this,void 0,void 0,function*(){if(this.undo.reset(),this._current_area.val=void 0,this._selected_entity.val=void 0,this._current_quest_filename.val=t,this._current_quest.val=e,e){this._current_area.val=_.area_store.get_area(e.episode,0);for(const t of e.area_variants.val){const i=yield _.area_store.get_area_sections(e.episode,t.area.id,t.id);t.sections.val.splice(0,1/0,...i);for(const n of e.objects.val.filter(e=>e.area_id===t.area.id))try{this.set_section_on_quest_entity(n,i)}catch(e){b.error(e)}for(const n of e.npcs.val.filter(e=>e.area_id===t.area.id))try{this.set_section_on_quest_entity(n,i)}catch(e){b.error(e)}}}else b.error("Couldn't parse quest file.")})}}t.QuestEditorStore=E,t.quest_editor_store=new E},dx17:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,s){function r(e){try{d(n.next(e))}catch(e){s(e)}}function a(e){try{d(n.throw(e))}catch(e){s(e)}}function d(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(r,a)}d((n=n.apply(e,t||[])).next())})},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i("nsCy"),r=i("G+UN"),a=i("6WXA"),d=o(i("GGSb")),l=i("sZ1+"),u=i("lC1H"),c=d.default.get("stores/ItemDropStore");class _{constructor(e){this.enemy_drops=e}}t.ItemDropStore=_;class p{constructor(){this.table=[],this.item_type_to_drops=[];for(let e=0;e<s.Difficulties.length;e++){const e=[];this.table.push(e);for(let t=0;t<s.SectionIds.length;t++)e.push([])}}get_drop(e,t,i){return this.table[e][t][i]}set_drop(e,t,i,n){this.table[e][t][i]=n;let o=this.item_type_to_drops[n.item_type.id];o||(o=[],this.item_type_to_drops[n.item_type.id]=o),o.push(n)}get_drops_for_item_type(e){return this.item_type_to_drops[e]||[]}}t.EnemyDropTable=p,t.item_drop_stores=new a.ServerMap(function(e){return n(this,void 0,void 0,function*(){const t=yield r.item_type_stores.get(e),i=yield fetch(`/assets/enemyDrops.${s.Server[e].toLowerCase()}.json`),n=yield i.json(),o=new p;for(const e of n){const i=l.NpcType[e.enemy];if(!i){c.warn(`Couldn't determine NpcType of episode ${e.episode} ${e.enemy}.`);continue}const n=s.Difficulty[e.difficulty],r=t.get_by_id(e.itemTypeId);if(!r){c.warn(`Couldn't find item kind ${e.itemTypeId}.`);continue}const a=s.SectionId[e.sectionId];null!=a?o.set_drop(n,a,i,new u.EnemyDrop(n,a,i,r,e.dropRate,e.rareRate)):c.warn(`Couldn't find section ID ${e.sectionId}.`)}return new _(o)})})},eAF0:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SectionModel=class{constructor(e,t,i){if(!Number.isInteger(e)||e<-1)throw new Error(`Expected id to be an integer greater than or equal to -1, got ${e}.`);if(!t)throw new Error("position is required.");if(!Number.isFinite(i))throw new Error("y_axis_rotation is required.");this.id=e,this.position=t,this.y_axis_rotation=i,this.sin_y_axis_rotation=Math.sin(this.y_axis_rotation),this.cos_y_axis_rotation=Math.cos(this.y_axis_rotation)}}},eFYZ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("Womt"),o=i("vM2b"),s=i("488w"),r=i("eAF0"),a=[new n.MeshBasicMaterial({color:8437968,transparent:!0,opacity:.25,visible:!1}),new n.MeshLambertMaterial({color:10526880,side:n.DoubleSide}),new n.MeshLambertMaterial({color:5288048,side:n.DoubleSide}),new n.MeshLambertMaterial({color:6307968,side:n.DoubleSide})],d=[new n.MeshBasicMaterial({color:9490656,wireframe:!0,transparent:!0,opacity:.3,visible:!1}),new n.MeshBasicMaterial({color:13684944,wireframe:!0}),new n.MeshBasicMaterial({color:8446112,wireframe:!0}),new n.MeshBasicMaterial({color:9466032,wireframe:!0})];t.area_collision_geometry_to_object_3d=function(e){const t=new n.Group;for(const i of e.meshes){const e=new n.Geometry;for(const{x:t,y:o,z:s}of i.vertices)e.vertices.push(new n.Vector3(t,o,s));for(const{indices:t,flags:o,normal:s}of i.triangles){const i=16&o,r=1&o,a=64&o?3:i?2:r?1:0;e.faces.push(new n.Face3(t[0],t[1],t[2],new n.Vector3(s.x,s.y,s.z),void 0,a))}e.computeBoundingBox(),e.computeBoundingSphere();const o=new n.Mesh(e,a);o.renderOrder=1,t.add(o);const s=new n.Mesh(e,d);s.renderOrder=2,t.add(s)}return t},t.area_geometry_to_sections_and_object_3d=function(e){const t=[],i=new n.Group;let a=0;for(const d of e.sections){const e=new o.GeometryBuilder;for(const t of d.objects)s.ninja_object_to_geometry_builder(t,e);const l=new n.Mesh(e.build(),new n.MeshBasicMaterial({color:(new n.Color).setHSL(a++%7/7,1,.5),transparent:!0,opacity:.25,side:n.DoubleSide}));if(i.add(l),l.position.set(d.position.x,d.position.y,d.position.z),l.rotation.set(d.rotation.x,d.rotation.y,d.rotation.z),l.updateMatrixWorld(),d.id>=0){const e=new r.SectionModel(d.id,d.position,d.rotation.y);t.push(e),l.userData.section=e}}return[t,i]}},hUhj:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("nEgy"),o=i("52VV"),s=i("+LO4");t.AbstractProperty=class extends s.AbstractMinimalProperty{map(e){return new n.DependentProperty([this],()=>e(this.val))}flat_map(e){return new o.FlatMappedProperty(this,t=>e(t))}}},hVaW:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ASM_SYNTAX={defaultToken:"invalid",tokenizer:{root:[[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/r\d+/,"predefined"],[/[^\s]+:/,"tag"],[/0x[0-9a-fA-F]+/,"number.hex"],[/-?\d+(\.\d+)?(e-?\d+)?/,"number.float"],[/-?[0-9]+/,"number"],[/\.[^\s]+/,"keyword"],[/[a-z][a-z0-9_=<>!]*/,"identifier"],[/[ \t\r\n]+/,"white"],[/\/\/.*$/,"comment"],[/,/,"delimiter"]],string:[[/[^\\"]+/,"string"],[/\\(?:[n\\"])/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]]}}},iR5r:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("Womt");function o(e){let t,i;switch(e.format[1]){case 6:t=n.RGBA_S3TC_DXT1_Format,i=e.width*e.height/2;break;case 7:t=n.RGBA_S3TC_DXT3_Format,i=e.width*e.height;break;default:throw new Error(`Format ${e.format.join(", ")} not supported.`)}const o=new n.CompressedTexture([{data:new Uint8Array(e.data,0,i),width:e.width,height:e.height}],e.width,e.height,t);return o.minFilter=n.LinearFilter,o.wrapS=n.MirroredRepeatWrapping,o.wrapT=n.MirroredRepeatWrapping,o.needsUpdate=!0,o}t.xvm_to_textures=function(e){return e.textures.map(o)},t.xvm_texture_to_texture=o},j4Ss:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("nN8q"),o=i("FXpb"),s=i("rqwK"),r=i("sZ1+");i("Czz9");const a=i("CpvQ"),d=i("yar8"),l=i("ouMO");class u extends n.ResizableWidget{constructor(e){super(o.el.div({class:"hunt_optimizer_MethodsForEpisodeView"})),this.episode=e,this.enemy_types=r.ENEMY_NPC_TYPES.filter(e=>r.npc_data(e).episode===this.episode);const t=l.list_property(),i=this.disposable(new d.Table({class:"hunt_optimizer_MethodsForEpisodeView_table",values:t,sort:e=>{t.sort((t,i)=>{for(const{column:n,direction:o}of e){let e=0;switch(n.key){case"method":e=t.name.localeCompare(i.name);break;case"time":e=t.time.val.as("minutes")-i.time.val.as("minutes");break;default:{const o=r.NpcType[n.key];o&&(e=(t.enemy_counts.get(o)||0)-(i.enemy_counts.get(o)||0))}}if(0!==e)return o===d.SortDirection.Asc?e:-e}return 0})},columns:[{key:"method",title:"Method",fixed:!0,width:250,sortable:!0,render_cell:e=>e.name},{key:"time",title:"Time",fixed:!0,width:60,input:!0,sortable:!0,render_cell(e,t){const i=t.add(new a.DurationInput(e.time.val));return t.add(i.value.observe(({value:t})=>e.set_user_time(t))),i.element}},...this.enemy_types.map(e=>({key:r.NpcType[e],title:r.npc_data(e).simple_name,width:90,text_align:"right",sortable:!0,render_cell(t){const i=t.enemy_counts.get(e);return null==i?"":i.toString()}}))]}));this.element.append(i.element),this.disposable(s.hunt_method_stores.observe_current(e=>{this.hunt_methods_observer&&this.hunt_methods_observer.dispose(),this.hunt_methods_observer=e.methods.observe(({value:e})=>{t.val=e.filter(e=>e.episode===this.episode)},{call_now:!0})},{call_now:!0})),this.finalize_construction(u.prototype)}dispose(){super.dispose(),this.hunt_methods_observer&&this.hunt_methods_observer.dispose()}}t.MethodsForEpisodeView=u},jJhE:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.is_property=function(e){return e.is_property},t.is_any_property=function(e){return e&&e.is_property}},karJ:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,s){function r(e){try{d(n.next(e))}catch(e){s(e)}}function a(e){try{d(n.throw(e))}catch(e){s(e)}}function d(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(r,a)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=i("Yuai");t.get_character_class_data=function(e,t,i){return n(this,void 0,void 0,function*(){return yield o.load_array_buffer(function(e,t,i){return`/player/${e}${t}${null==i?"":i}.nj`}(e,t,i))})},t.get_character_class_animation_data=function(e){return n(this,void 0,void 0,function*(){return yield o.load_array_buffer(`/player/animation/animation_${e.toString().padStart(3,"0")}.njm`)})}},kiqn:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("yRp4"),o=i("ouMO");t.QuestEntityModel=class{constructor(e,t,i,s,r){this._section=o.property(void 0),this.position_to_world_position=(e,t)=>{if(e){let{x:i,y:o,z:s}=t;const r=-e.sin_y_axis_rotation,a=e.cos_y_axis_rotation,d=r*i+a*s,l=a*i-r*s+e.position.x,u=o+e.position.y,c=d+e.position.z;return new n.Vec3(l,u,c)}return t},this.type=e,this.area_id=t,this.section=this._section,this._section_id=o.property(i),this.section_id=this._section_id,this._position=o.property(s),this.position=this._position,this._rotation=o.property(r),this.rotation=this._rotation,this.world_position=o.map(this.position_to_world_position,this.section,this.position)}set_section(e){return this._section.val=e,this._section_id.val=e.id,this}set_position(e){this._position.val=e}set_rotation(e){this._rotation.val=e}set_world_position(e){let{x:t,y:i,z:o}=e;const s=this.section.val;if(s){const e=t-s.position.x,n=i-s.position.y,r=o-s.position.z,a=-s.sin_y_axis_rotation,d=s.cos_y_axis_rotation;t=d*e+a*r,i=n,o=-a*e+d*r}return this._position.val=new n.Vec3(t,i,o),this}}},kwt4:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("yRp4"),o=i("9Ykw"),s=i("9Onn"),r=i("q7ag");t.ANGLE_TO_RAD=2*Math.PI/65535;const a=1296255566;t.is_njcm_model=function(e){return"njcm"===e.type},t.is_xj_model=function(e){return"xj"===e.type};class d{constructor(e,t,i,n,o,s){this.bone_cache=new Map,this._bone_count=-1,this.evaluation_flags=e,this.model=t,this.position=i,this.rotation=n,this.scale=o,this.children=s}bone_count(){if(-1===this._bone_count){const e=[0];this.get_bone_internal(this,1/0,e),this._bone_count=e[0]}return this._bone_count}get_bone(e){let t=this.bone_cache.get(e);return void 0===t&&(t=this.get_bone_internal(this,e,[0]),this.bone_cache.set(e,t||null)),t||void 0}get_bone_internal(e,t,i){if(!e.evaluation_flags.skip){const n=i[0]++;if(this.bone_cache.set(n,e),n===t)return e}if(!e.evaluation_flags.break_child_trace)for(const n of e.children){const e=this.get_bone_internal(n,t,i);if(e)return e}}}function l(e,t,i){const n=o.parse_iff(e).filter(e=>e.type===a),s=[];for(const e of n)s.push(...u(e.data,t,i));return s}function u(e,i,o){const s=e.u32(),r=0!=(1&s),a=0!=(2&s),l=0!=(4&s),c=0!=(8&s),_=0!=(16&s),p=0!=(32&s),v=0!=(64&s),h=0!=(128&s),w=e.u32(),f=e.f32(),m=e.f32(),g=e.f32(),y=e.i32()*t.ANGLE_TO_RAD,O=e.i32()*t.ANGLE_TO_RAD,b=e.i32()*t.ANGLE_TO_RAD,E=e.f32(),S=e.f32(),R=e.f32(),k=e.u32(),N=e.u32();let P,C,D;return w&&(e.seek_start(w),P=i(e,o)),k?(e.seek_start(k),C=u(e,i,o)):C=[],N?(e.seek_start(N),D=u(e,i,o)):D=[],[new d({no_translate:r,no_rotate:a,no_scale:l,hidden:c,break_child_trace:_,zxy_rotation_order:p,skip:v,shape_skip:h},P,new n.Vec3(f,m,g),new n.Vec3(y,O,b),new n.Vec3(E,S,R),C),...D]}t.NjObject=d,t.parse_nj=function(e){return l(e,s.parse_njcm_model,[])},t.parse_xj=function(e){return l(e,r.parse_xj_model,void 0)},t.parse_xj_object=function(e){return u(e,r.parse_xj_model,void 0)}},lC1H:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.EnemyDrop=class{constructor(e,t,i,n,o,s){this.difficulty=e,this.section_id=t,this.npc_type=i,this.item_type=n,this.anything_rate=o,this.rare_rate=s,this.rate=o*s}}},lHpu:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("Womt"),o=i("tyuj"),s=i("iR5r"),r=i("Eqai"),a=i("488w"),d=i("7CyS"),l=i("Ftn7"),u=i("Tpfs");t.Model3DRenderer=class extends l.Renderer{constructor(){super(new n.PerspectiveCamera(75,1,1,200)),this.disposer=new u.Disposer,this.clock=new n.Clock,this.update_animation_time=!0,this.nj_data_or_xvm_changed=()=>{this.mesh&&(this.scene.remove(this.mesh),this.mesh=void 0,this.scene.remove(this.skeleton_helper),this.skeleton_helper=void 0),this.animation&&(this.animation.mixer.stopAllAction(),this.mesh&&this.animation.mixer.uncacheRoot(this.mesh),this.animation=void 0);const e=o.model_store.current_nj_data.val;if(e){const{nj_object:t,has_skeleton:i}=e;let d;const l=o.model_store.current_xvm.val,u=l?s.xvm_to_textures(l):void 0,c=u&&u.map(e=>new n.MeshLambertMaterial({skinning:i,map:e,side:n.DoubleSide,alphaTest:.5})),_=(d=i?r.create_skinned_mesh(a.ninja_object_to_buffer_geometry(t),c):r.create_mesh(a.ninja_object_to_buffer_geometry(t),c)).geometry.boundingBox,p=_.max.y-_.min.y;d.translateY(-p/2-_.min.y),this.mesh=d,this.scene.add(d),this.skeleton_helper=new n.SkeletonHelper(d),this.skeleton_helper.visible=o.model_store.show_skeleton.val,this.skeleton_helper.material.linewidth=3,this.scene.add(this.skeleton_helper),this.reset_camera(new n.Vector3(0,10,20),new n.Vector3(0,0,0))}this.schedule_render()},this.nj_motion_changed=({value:e})=>{let t;this.animation&&(this.animation.mixer.stopAllAction(),t=this.animation.mixer);const i=o.model_store.current_nj_data.val;if(!(this.mesh&&this.mesh instanceof n.SkinnedMesh&&e&&i))return;this.animation||(t=new n.AnimationMixer(this.mesh));const s=d.create_animation_clip(i.nj_object,e);this.animation={mixer:t,clip:s,action:t.clipAction(s)},this.clock.start(),this.animation.action.play(),this.schedule_render()},this.show_skeleton_changed=({value:e})=>{this.skeleton_helper&&(this.skeleton_helper.visible=e,this.schedule_render())},this.animation_playing_changed=({value:e})=>{this.animation&&(this.animation.action.paused=!e,e?(this.clock.start(),this.schedule_render()):this.clock.stop())},this.animation_frame_rate_changed=({value:e})=>{this.animation&&(this.animation.mixer.timeScale=e/d.PSO_FRAME_RATE)},this.animation_frame_changed=({value:e})=>{const t=o.model_store.current_nj_motion.val;if(this.animation&&t){const i=t.frame_count;e>i&&(e=1),e<1&&(e=i),this.update_animation_time&&(this.animation.action.time=(e-1)/d.PSO_FRAME_RATE),this.schedule_render()}},this.perspective_camera=this.camera,this.disposer.add_all(o.model_store.current_nj_data.observe(this.nj_data_or_xvm_changed),o.model_store.current_xvm.observe(this.nj_data_or_xvm_changed),o.model_store.current_nj_motion.observe(this.nj_motion_changed),o.model_store.show_skeleton.observe(this.show_skeleton_changed),o.model_store.animation_playing.observe(this.animation_playing_changed),o.model_store.animation_frame_rate.observe(this.animation_frame_rate_changed),o.model_store.animation_frame.observe(this.animation_frame_changed))}set_size(e,t){this.perspective_camera.aspect=e/t,this.perspective_camera.updateProjectionMatrix(),super.set_size(e,t)}dispose(){super.dispose(),this.disposer.dispose()}render(){this.animation&&this.animation.mixer.update(this.clock.getDelta()),this.light_holder.quaternion.copy(this.perspective_camera.quaternion),super.render(),this.animation&&!this.animation.action.paused&&(this.update_animation_frame(),this.schedule_render())}update_animation_frame(){if(this.animation&&!this.animation.action.paused){const e=this.animation.action.time;this.update_animation_time=!1,o.model_store.animation_frame.val=e*d.PSO_FRAME_RATE+1,this.update_animation_time=!0}}}},lPzw:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AreaModel=class{constructor(e,t,i,n){if(!Number.isInteger(e)||e<0)throw new Error(`Expected id to be a non-negative integer, got ${e}.`);if(!t)throw new Error("name is required.");if(!n)throw new Error("area_variants is required.");this.id=e,this.name=t,this.order=i,this.area_variants=n}}},lg9k:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("ZPAt");t.Instruction=class{constructor(e,t){this.opcode=e,this.args=t,this.arg_size=0,this.param_to_args=[];const i=Math.min(e.params.length,t.length);for(let o=0;o<i;o++){const i=e.params[o].type,s=t[o];switch(this.param_to_args[o]=[],i.kind){case n.Kind.ILabelVar:case n.Kind.RegRefVar:this.arg_size++;for(let e=o;e<t.length;e++)this.param_to_args[o].push(t[e]),this.arg_size+=t[e].size;break;default:this.arg_size+=s.size,this.param_to_args[o].push(s)}}this.size=e.size+this.arg_size}},function(e){e[e.Instructions=0]="Instructions",e[e.Data=1]="Data",e[e.String=2]="String"}(t.SegmentType||(t.SegmentType={}))},mpco:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("yQqj"),o=i("c5EP");t.TranslateEntityAction=class{constructor(e,t,i,o,s,r){this.entity=e,this.old_section=t,this.new_section=i,this.old_position=o,this.new_position=s,this.world=r,this.description=`Move ${n.entity_data(e.type).name}`}undo(){o.quest_editor_store.set_selected_entity(this.entity),this.old_section&&this.entity.set_section(this.old_section),this.world?this.entity.set_world_position(this.old_position):this.entity.set_position(this.old_position)}redo(){o.quest_editor_store.set_selected_entity(this.entity),this.new_section&&this.entity.set_section(this.new_section),this.world?this.entity.set_world_position(this.new_position):this.entity.set_position(this.new_position)}}},n5fr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("ouMO"),o=i("Ts/k");t.undo_manager=new class{constructor(){this.current=n.property(o.NOOP_UNDO),this.can_undo=this.current.flat_map(e=>e.can_undo),this.can_redo=this.current.flat_map(e=>e.can_redo),this.first_undo=this.current.flat_map(e=>e.first_undo),this.first_redo=this.current.flat_map(e=>e.first_redo)}undo(){return this.current.val.undo()}redo(){return this.current.val.redo()}}},nEgy:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("Tpfs"),o=i("+LO4"),s=i("52VV");class r extends o.AbstractMinimalProperty{constructor(e,t){super(),this.dependencies=e,this.f=t,this.dependency_disposables=new n.Disposer}get val(){return this.get_val()}get_val(){return this.dependency_disposables.length?this._val:this.f()}observe(e,t={}){const i=super.observe(e,t);return 0===this.dependency_disposables.length&&(this._val=this.f(),this.dependency_disposables.add_all(...this.dependencies.map(e=>e.observe(()=>{const e=this._val;this._val=this.f(),this.emit(e)})))),this.emit(this._val),{dispose:()=>{i.dispose(),0===this.observers.length&&this.dependency_disposables.dispose_all()}}}map(e){return new r([this],()=>e(this.val))}flat_map(e){return new s.FlatMappedProperty(this,t=>e(t))}}t.DependentProperty=r},nN8q:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("TRid");t.ResizableWidget=class extends n.Widget{constructor(){super(...arguments),this.width=0,this.height=0}resize(e,t){return this.width=e,this.height=t,this.element.style.width=`${e}px`,this.element.style.height=`${t}px`,this}}},nowp:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("ExVU"),o=i("ouMO");t.WantedItemModel=class{constructor(e,t){this.item_type=e,this._amount=o.property(t),this.amount=this._amount}set_amount(e){return this._amount.val=e,this}};t.OptimalResultModel=class{constructor(e,t){this.wanted_items=e,this.optimal_methods=t}};t.OptimalMethodModel=class{constructor(e,t,i,o,s,r,a){this.difficulty=e,this.section_ids=t,this.method_name=i,this.method_episode=o,this.method_time=s,this.runs=r,this.item_counts=a,this.total_time=n.Duration.fromMillis(r*s.as("milliseconds"))}}},nsCy:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("uiJh");var o,s,r;t.RARE_ENEMY_PROB=1/512,t.KONDRIEU_PROB=.1,function(e){e.Ephinea="Ephinea"}(o=t.Server||(t.Server={})),t.Servers=n.enum_values(o),function(e){e[e.Viridia=0]="Viridia",e[e.Greenill=1]="Greenill",e[e.Skyly=2]="Skyly",e[e.Bluefull=3]="Bluefull",e[e.Purplenum=4]="Purplenum",e[e.Pinkal=5]="Pinkal",e[e.Redria=6]="Redria",e[e.Oran=7]="Oran",e[e.Yellowboze=8]="Yellowboze",e[e.Whitill=9]="Whitill"}(s=t.SectionId||(t.SectionId={})),t.SectionIds=n.enum_values(s),function(e){e[e.Normal=0]="Normal",e[e.Hard=1]="Hard",e[e.VHard=2]="VHard",e[e.Ultimate=3]="Ultimate"}(r=t.Difficulty||(t.Difficulty={})),t.Difficulties=n.enum_values(r)},oSIo:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("x4IQ");t.EditShortDescriptionAction=class extends n.QuestEditAction{constructor(){super(...arguments),this.description="Edit short description"}undo(){this.quest.set_short_description(this.old)}redo(){this.quest.set_short_description(this.new)}}},ouMO:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("Q+PT"),o=i("0CzU"),s=i("nEgy"),r=i("22Lq");t.emitter=function(){return new n.SimpleEmitter},t.property=function(e){return new o.SimpleProperty(e)},t.list_property=function(e,...t){return new r.SimpleListProperty(e,...t)},t.add=function(e,t){return e.map(e=>e+t)},t.sub=function(e,t){return e.map(e=>e-t)},t.map=function(e,...t){return new s.DependentProperty(t,()=>e(...t.map(e=>e.val)))}},oxtq:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.ListChange=0]="ListChange",e[e.ValueChange=1]="ValueChange"}(t.ListChangeType||(t.ListChangeType={})),t.is_list_property=function(e){return e.is_list_property},t.is_any_list_property=function(e){return e&&e.is_list_property}},oyid:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("FXpb"),o=i("sDu+"),s=i("4VsB");class r extends o.LabelledControl{constructor(e=!1,t){super(n.create_element("input",{class:"core_CheckBox"}),t),this.preferred_label_position="right",this._checked=new s.WidgetProperty(this,e,this.set_checked),this.checked=this._checked,this.set_checked(e),this.element.type="checkbox",this.element.onchange=()=>this._checked.set_val(this.element.checked,{silent:!1}),this.finalize_construction(r.prototype)}set_enabled(e){super.set_enabled(e),this.element.disabled=!e}set_checked(e){this.element.checked=e}}t.CheckBox=r},pgiS:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("x4IQ");t.EditNameAction=class extends n.QuestEditAction{constructor(){super(...arguments),this.description="Edit name"}undo(){this.quest.set_name(this.old)}redo(){this.quest.set_name(this.new)}}},q7ag:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(i("GGSb")).default.get("data_formats/parsing/ninja/xj");function s(e,t,i){const n=[];for(let o=0;o<i;++o){e.seek_start(t+20*o);const i=e.u32(),s=e.u32(),a=e.u32(),d=e.u32(),l=r(e,i,s);e.seek_start(a);const u=e.u16_array(d);n.push({material_properties:l,indices:u})}return n}function r(e,t,i){const n={};for(let o=0;o<i;++o){switch(e.seek_start(t+16*o),e.u32()){case 2:n.alpha_src=e.u32(),n.alpha_dst=e.u32();break;case 3:n.texture_id=e.u32();break;case 5:n.diffuse_r=e.u8(),n.diffuse_g=e.u8(),n.diffuse_b=e.u8(),n.diffuse_a=e.u8()}}return n}t.parse_xj_model=function(e){e.seek(4);const t=e.u32(),i=e.u32(),n=e.u32(),r=e.u32(),a=e.u32(),d=e.u32(),l={type:"xj",vertices:[],meshes:[],collision_sphere_position:e.vec3_f32(),collision_sphere_radius:e.f32()};return i>=1&&(i>1&&o.warn(`Vertex info count of ${i} was larger than expected.`),l.vertices.push(...function(e,t){e.seek_start(t);const i=e.u16();e.seek(2);const n=e.u32(),s=e.u32(),r=e.u32(),a=[];for(let t=0;t<r;++t){e.seek_start(n+t*s);const r=e.vec3_f32();let d,l;switch(i){case 3:d=e.vec3_f32(),l=e.vec2_f32();break;case 4:break;case 5:e.seek(4),l=e.vec2_f32();break;case 6:d=e.vec3_f32();break;case 7:d=e.vec3_f32(),l=e.vec2_f32();break;default:o.warn(`Unknown vertex type ${i} with size ${s}.`)}a.push({position:r,normal:d,uv:l})}return a}(e,t))),l.meshes.push(...s(e,n,r)),l.meshes.push(...s(e,a,d)),l}},"r+6V":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("FXpb");i("CCCE");const o=i("KVVN"),s=i("LSoc"),r=i("QmPX"),a=i("ouMO");class d extends r.Control{constructor(e,t,i,r){const l=n.el.div({class:"core_DropDown"}),u=new o.Button(e,{icon_left:r&&r.icon_left,icon_right:n.Icon.TriangleDown}),c=new s.Menu(t,i,l);super(l,r),this.button=this.disposable(u),this.menu=this.disposable(c),this.element.append(this.button.element,this.menu.element),this._chosen=a.emitter(),this.chosen=this._chosen,this.just_opened=!1,this.disposables(n.disposable_listener(u.element,"mousedown",()=>this.button_mousedown(),{capture:!0}),u.mouseup.observe(()=>this.button_mouseup()),this.menu.selected.observe(({value:e})=>{e&&(this._chosen.emit({value:e}),this.menu.selected.val=void 0)})),this.finalize_construction(d.prototype)}set_enabled(e){super.set_enabled(e),this.button.enabled.val=e}button_mousedown(){this.just_opened=!this.menu.visible.val,this.menu.visible.val=!0}button_mouseup(){this.just_opened?this.menu.focus():this.menu.visible.val=!1,this.just_opened=!1}}t.DropDown=d},rqwK:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,s){function r(e){try{d(n.next(e))}catch(e){s(e)}}function a(e){try{d(n.throw(e))}catch(e){s(e)}}function d(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(r,a)}d((n=n.apply(e,t||[])).next())})},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(i("GGSb")),r=i("nsCy"),a=i("sZ1+"),d=i("upFJ"),l=i("IV2v"),u=i("RMZt"),c=i("ExVU"),_=i("ouMO"),p=i("Tpfs"),v=i("6WXA"),h=s.default.get("hunt_optimizer/stores/HuntMethodStore"),w=c.Duration.fromObject({minutes:30}),f=c.Duration.fromObject({minutes:45}),m=c.Duration.fromObject({minutes:45});class g{constructor(e,t){this.disposer=new p.Disposer,this.methods=_.list_property(e=>[e.user_time],...t),this.disposer.add(this.methods.observe_list(()=>u.hunt_method_persister.persist_method_user_times(this.methods.val,e)))}dispose(){this.disposer.dispose()}}t.HuntMethodStore=g,t.hunt_method_stores=new v.ServerMap(function(e){return n(this,void 0,void 0,function*(){const t=yield fetch(`/assets/quests.${r.Server[e].toLowerCase()}.json`),i=yield t.json(),n=[];for(const e of i){let t=0;const i=new Map;for(const[n,o]of Object.entries(e.enemyCounts)){const e=a.NpcType[n];e?(i.set(e,o),t+=o):h.error(`No NpcType found for code ${n}.`)}switch(e.id){case 31:case 34:case 1305:case 1306:case 1307:case 313:case 314:continue}n.push(new l.HuntMethodModel(`q${e.id}`,e.name,new d.SimpleQuestModel(e.id,e.name,e.episode,i),/^\d-\d.*/.test(e.name)?f:t>400?m:w))}return yield u.hunt_method_persister.load_method_user_times(n,e),new g(e,n)})})},"sDu+":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("7ZX1"),o=i("QmPX");t.LabelledControl=class extends o.Control{constructor(e,t){super(e,t),this._label_text=t&&t.label}get label(){return this._label||null==this._label_text||(this._label=this.disposable(new n.Label(this._label_text)),this.id||(this._label.for=this.id=String(s++)),this._label.enabled.bind_bi(this.enabled)),this._label}};let s=0},sMN3:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,s){function r(e){try{d(n.next(e))}catch(e){s(e)}}function a(e){try{d(n.throw(e))}catch(e){s(e)}}function d(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(r,a)}d((n=n.apply(e,t||[])).next())})},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(i("lLyO")),r=i("nsCy"),a=i("sZ1+"),d=i("nowp"),l=i("ouMO"),u=i("rqwK"),c=i("dx17"),_=i("G+UN"),p=i("w+Lt"),v=i("6WXA"),h=i("Tpfs");class w{constructor(e,t,i,o){this.server=e,this.item_drop_store=i,this._wanted_items=l.list_property(e=>[e.amount]),this.disposer=new h.Disposer,this.optimize=(e,t)=>{if(!e.length)return;const i=new Set(e.filter(e=>e.amount.val>0).map(e=>e.item_type)),n=this.item_drop_store.enemy_drops,o={};for(const e of this.wanted_items.val)o[e.item_type.name]={min:e.amount.val};const l={},u=new Map;for(const e of t){const t=new Map;for(const[i,n]of e.enemy_counts.entries()){const e=t.get(i)||0,o=a.npc_data(i);if(null==o.rare_type)t.set(i,e+n);else{let s,d;o.rare_type===a.NpcType.Kondrieu?(s=1-r.KONDRIEU_PROB,d=r.KONDRIEU_PROB):(s=1-r.RARE_ENEMY_PROB,d=r.RARE_ENEMY_PROB),t.set(i,e+n*s),t.set(o.rare_type,(t.get(o.rare_type)||0)+n*d)}}const o=[t],s=t.get(a.NpcType.PanArms);if(s){const e=new Map(t);e.delete(a.NpcType.PanArms),e.set(a.NpcType.Migium,s),e.set(a.NpcType.Hidoom,s),o.push(e)}const d=t.get(a.NpcType.PanArms2);if(d){const e=new Map(t);e.delete(a.NpcType.PanArms2),e.set(a.NpcType.Migium2,d),e.set(a.NpcType.Hidoom2,d),o.push(e)}for(let t=0;t<o.length;t++){const s=o[t],a=1===t;for(const t of r.Difficulties)for(const o of r.SectionIds){const r={time:e.time.val.as("hours")};let d=!1;for(const[e,a]of s.entries()){const s=n.get_drop(t,o,e);if(s&&i.has(s.item_type)){const e=r[s.item_type.name]||0;r[s.item_type.name]=e+a*s.rate,d=!0}}if(d){const i=this.full_method_name(t,o,e,a);l[i]=r,u.set(i,{method:e,difficulty:t,section_id:o,split_pan_arms:a})}}}}const c=s.default.Solve({optimize:"time",opType:"min",constraints:o,variables:l});if(!c.feasible)return;const _=[];for(const[e,t]of Object.entries(c)){const n=u.get(e);if(n){const{method:o,difficulty:s,section_id:a,split_pan_arms:u}=n,c=t,p=l[e],v=new Map;for(const[e,t]of Object.entries(p))for(const n of i)if(e===n.name){v.set(n,c*t);break}const h=[];for(const e of r.SectionIds){let t=!0;if(e!==a){const i=l[this.full_method_name(s,e,o,u)];if(i){for(const e of Object.keys(p))if(p[e]!==i[e]){t=!1;break}}else t=!1}t&&h.push(e)}_.push(new d.OptimalMethodModel(s,h,o.name+(u?" (Split Pan Arms)":""),o.episode,o.time.val,c,v))}}return new d.OptimalResultModel([...i],_)},this.initialize_persistence=()=>n(this,void 0,void 0,function*(){this._wanted_items.val=yield p.hunt_optimizer_persister.load_wanted_items(this.server),this.disposer.add(this._wanted_items.observe(({value:e})=>{p.hunt_optimizer_persister.persist_wanted_items(this.server,e)}))}),this.huntable_item_types=t.item_types.filter(e=>i.enemy_drops.get_drops_for_item_type(e.id).length),this.wanted_items=this._wanted_items,this.result=l.map(this.optimize,this.wanted_items,o.methods),this.initialize_persistence()}dispose(){this.disposer.dispose()}add_wanted_item(e){this._wanted_items.val.find(t=>t.item_type===e)||this._wanted_items.push(new d.WantedItemModel(e,1))}remove_wanted_item(e){this._wanted_items.remove(e)}full_method_name(e,t,i,n){let o=`${e}\t${t}\t${i.id}`;return n&&(o+="\tspa"),o}}t.hunt_optimizer_stores=new v.ServerMap(function(e){return n(this,void 0,void 0,function*(){return new w(e,yield _.item_type_stores.get(e),yield c.item_drop_stores.get(e),yield u.hunt_method_stores.get(e))})})},"sZ1+":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("xs7i");var o;!function(e){e[e.Unknown=0]="Unknown",e[e.FemaleFat=1]="FemaleFat",e[e.FemaleMacho=2]="FemaleMacho",e[e.FemaleTall=3]="FemaleTall",e[e.MaleDwarf=4]="MaleDwarf",e[e.MaleFat=5]="MaleFat",e[e.MaleMacho=6]="MaleMacho",e[e.MaleOld=7]="MaleOld",e[e.BlueSoldier=8]="BlueSoldier",e[e.RedSoldier=9]="RedSoldier",e[e.Principal=10]="Principal",e[e.Tekker=11]="Tekker",e[e.GuildLady=12]="GuildLady",e[e.Scientist=13]="Scientist",e[e.Nurse=14]="Nurse",e[e.Irene=15]="Irene",e[e.ItemShop=16]="ItemShop",e[e.Nurse2=17]="Nurse2",e[e.Hildebear=18]="Hildebear",e[e.Hildeblue=19]="Hildeblue",e[e.RagRappy=20]="RagRappy",e[e.AlRappy=21]="AlRappy",e[e.Monest=22]="Monest",e[e.Mothmant=23]="Mothmant",e[e.SavageWolf=24]="SavageWolf",e[e.BarbarousWolf=25]="BarbarousWolf",e[e.Booma=26]="Booma",e[e.Gobooma=27]="Gobooma",e[e.Gigobooma=28]="Gigobooma",e[e.Dragon=29]="Dragon",e[e.GrassAssassin=30]="GrassAssassin",e[e.PoisonLily=31]="PoisonLily",e[e.NarLily=32]="NarLily",e[e.NanoDragon=33]="NanoDragon",e[e.EvilShark=34]="EvilShark",e[e.PalShark=35]="PalShark",e[e.GuilShark=36]="GuilShark",e[e.PofuillySlime=37]="PofuillySlime",e[e.PouillySlime=38]="PouillySlime",e[e.PanArms=39]="PanArms",e[e.Migium=40]="Migium",e[e.Hidoom=41]="Hidoom",e[e.DeRolLe=42]="DeRolLe",e[e.Dubchic=43]="Dubchic",e[e.Gilchic=44]="Gilchic",e[e.Garanz=45]="Garanz",e[e.SinowBeat=46]="SinowBeat",e[e.SinowGold=47]="SinowGold",e[e.Canadine=48]="Canadine",e[e.Canane=49]="Canane",e[e.Dubswitch=50]="Dubswitch",e[e.VolOpt=51]="VolOpt",e[e.Delsaber=52]="Delsaber",e[e.ChaosSorcerer=53]="ChaosSorcerer",e[e.DarkGunner=54]="DarkGunner",e[e.DeathGunner=55]="DeathGunner",e[e.ChaosBringer=56]="ChaosBringer",e[e.DarkBelra=57]="DarkBelra",e[e.Dimenian=58]="Dimenian",e[e.LaDimenian=59]="LaDimenian",e[e.SoDimenian=60]="SoDimenian",e[e.Bulclaw=61]="Bulclaw",e[e.Bulk=62]="Bulk",e[e.Claw=63]="Claw",e[e.DarkFalz=64]="DarkFalz",e[e.Hildebear2=65]="Hildebear2",e[e.Hildeblue2=66]="Hildeblue2",e[e.RagRappy2=67]="RagRappy2",e[e.LoveRappy=68]="LoveRappy",e[e.StRappy=69]="StRappy",e[e.HalloRappy=70]="HalloRappy",e[e.EggRappy=71]="EggRappy",e[e.Monest2=72]="Monest2",e[e.Mothmant2=73]="Mothmant2",e[e.PoisonLily2=74]="PoisonLily2",e[e.NarLily2=75]="NarLily2",e[e.GrassAssassin2=76]="GrassAssassin2",e[e.Dimenian2=77]="Dimenian2",e[e.LaDimenian2=78]="LaDimenian2",e[e.SoDimenian2=79]="SoDimenian2",e[e.DarkBelra2=80]="DarkBelra2",e[e.BarbaRay=81]="BarbaRay",e[e.SavageWolf2=82]="SavageWolf2",e[e.BarbarousWolf2=83]="BarbarousWolf2",e[e.PanArms2=84]="PanArms2",e[e.Migium2=85]="Migium2",e[e.Hidoom2=86]="Hidoom2",e[e.Dubchic2=87]="Dubchic2",e[e.Gilchic2=88]="Gilchic2",e[e.Garanz2=89]="Garanz2",e[e.Dubswitch2=90]="Dubswitch2",e[e.Delsaber2=91]="Delsaber2",e[e.ChaosSorcerer2=92]="ChaosSorcerer2",e[e.GolDragon=93]="GolDragon",e[e.SinowBerill=94]="SinowBerill",e[e.SinowSpigell=95]="SinowSpigell",e[e.Merillia=96]="Merillia",e[e.Meriltas=97]="Meriltas",e[e.Mericarol=98]="Mericarol",e[e.Mericus=99]="Mericus",e[e.Merikle=100]="Merikle",e[e.UlGibbon=101]="UlGibbon",e[e.ZolGibbon=102]="ZolGibbon",e[e.Gibbles=103]="Gibbles",e[e.Gee=104]="Gee",e[e.GiGue=105]="GiGue",e[e.IllGill=106]="IllGill",e[e.DelLily=107]="DelLily",e[e.Epsilon=108]="Epsilon",e[e.GalGryphon=109]="GalGryphon",e[e.Deldepth=110]="Deldepth",e[e.Delbiter=111]="Delbiter",e[e.Dolmolm=112]="Dolmolm",e[e.Dolmdarl=113]="Dolmdarl",e[e.Morfos=114]="Morfos",e[e.Recobox=115]="Recobox",e[e.Recon=116]="Recon",e[e.SinowZoa=117]="SinowZoa",e[e.SinowZele=118]="SinowZele",e[e.OlgaFlow=119]="OlgaFlow",e[e.SandRappy=120]="SandRappy",e[e.DelRappy=121]="DelRappy",e[e.Astark=122]="Astark",e[e.SatelliteLizard=123]="SatelliteLizard",e[e.Yowie=124]="Yowie",e[e.MerissaA=125]="MerissaA",e[e.MerissaAA=126]="MerissaAA",e[e.Girtablulu=127]="Girtablulu",e[e.Zu=128]="Zu",e[e.Pazuzu=129]="Pazuzu",e[e.Boota=130]="Boota",e[e.ZeBoota=131]="ZeBoota",e[e.BaBoota=132]="BaBoota",e[e.Dorphon=133]="Dorphon",e[e.DorphonEclair=134]="DorphonEclair",e[e.Goran=135]="Goran",e[e.PyroGoran=136]="PyroGoran",e[e.GoranDetonator=137]="GoranDetonator",e[e.SaintMilion=138]="SaintMilion",e[e.Shambertin=139]="Shambertin",e[e.Kondrieu=140]="Kondrieu"}(o=t.NpcType||(t.NpcType={})),t.NPC_TYPES=[],t.ENEMY_NPC_TYPES=[],t.npc_data=function(e){return r[e]},t.name_and_episode_to_npc_type=function(e,t){return n.check_episode(t),s[t].get(e)};const s=[void 0,new Map,new Map,void 0,new Map],r=[];function a(e,i,n,o,a,d,l){if(t.NPC_TYPES.push(e),d&&t.ENEMY_NPC_TYPES.push(e),r[e]={name:i,simple_name:n,ultimate_name:o,episode:a,enemy:d,rare_type:l},a){const t=s[a];t&&(t.set(n,e),t.set(o,e))}}a(o.Unknown,"Unknown","Unknown","Unknown",void 0,!1),a(o.FemaleFat,"Female Fat","Female Fat","Female Fat",void 0,!1),a(o.FemaleMacho,"Female Macho","Female Macho","Female Macho",void 0,!1),a(o.FemaleTall,"Female Tall","Female Tall","Female Tall",void 0,!1),a(o.MaleDwarf,"Male Dwarf","Male Dwarf","Male Dwarf",void 0,!1),a(o.MaleFat,"Male Fat","Male Fat","Male Fat",void 0,!1),a(o.MaleMacho,"Male Macho","Male Macho","Male Macho",void 0,!1),a(o.MaleOld,"Male Old","Male Old","Male Old",void 0,!1),a(o.BlueSoldier,"Blue Soldier","Blue Soldier","Blue Soldier",void 0,!1),a(o.RedSoldier,"Red Soldier","Red Soldier","Red Soldier",void 0,!1),a(o.Principal,"Principal","Principal","Principal",void 0,!1),a(o.Tekker,"Tekker","Tekker","Tekker",void 0,!1),a(o.GuildLady,"Guild Lady","Guild Lady","Guild Lady",void 0,!1),a(o.Scientist,"Scientist","Scientist","Scientist",void 0,!1),a(o.Nurse,"Nurse","Nurse","Nurse",void 0,!1),a(o.Irene,"Irene","Irene","Irene",void 0,!1),a(o.ItemShop,"Item Shop","Item Shop","Item Shop",void 0,!1),a(o.Nurse2,"Nurse (Ep. II)","Nurse","Nurse",2,!1),a(o.Hildebear,"Hildebear","Hildebear","Hildelt",1,!0,o.Hildeblue),a(o.Hildeblue,"Hildeblue","Hildeblue","Hildetorr",1,!0),a(o.RagRappy,"Rag Rappy","Rag Rappy","El Rappy",1,!0,o.AlRappy),a(o.AlRappy,"Al Rappy","Al Rappy","Pal Rappy",1,!0),a(o.Monest,"Monest","Monest","Mothvist",1,!0),a(o.Mothmant,"Mothmant","Mothmant","Mothvert",1,!0),a(o.SavageWolf,"Savage Wolf","Savage Wolf","Gulgus",1,!0),a(o.BarbarousWolf,"Barbarous Wolf","Barbarous Wolf","Gulgus-Gue",1,!0),a(o.Booma,"Booma","Booma","Bartle",1,!0),a(o.Gobooma,"Gobooma","Gobooma","Barble",1,!0),a(o.Gigobooma,"Gigobooma","Gigobooma","Tollaw",1,!0),a(o.Dragon,"Dragon","Dragon","Sil Dragon",1,!0),a(o.GrassAssassin,"Grass Assassin","Grass Assassin","Crimson Assassin",1,!0),a(o.PoisonLily,"Poison Lily","Poison Lily","Ob Lily",1,!0,o.NarLily),a(o.NarLily,"Nar Lily","Nar Lily","Mil Lily",1,!0),a(o.NanoDragon,"Nano Dragon","Nano Dragon","Nano Dragon",1,!0),a(o.EvilShark,"Evil Shark","Evil Shark","Vulmer",1,!0),a(o.PalShark,"Pal Shark","Pal Shark","Govulmer",1,!0),a(o.GuilShark,"Guil Shark","Guil Shark","Melqueek",1,!0),a(o.PofuillySlime,"Pofuilly Slime","Pofuilly Slime","Pofuilly Slime",1,!0,o.PouillySlime),a(o.PouillySlime,"Pouilly Slime","Pouilly Slime","Pouilly Slime",1,!0),a(o.PanArms,"Pan Arms","Pan Arms","Pan Arms",1,!0),a(o.Migium,"Migium","Migium","Migium",1,!0),a(o.Hidoom,"Hidoom","Hidoom","Hidoom",1,!0),a(o.DeRolLe,"De Rol Le","De Rol Le","Dal Ra Lie",1,!0),a(o.Dubchic,"Dubchic","Dubchic","Dubchich",1,!0),a(o.Gilchic,"Gilchic","Gilchic","Gilchich",1,!0),a(o.Garanz,"Garanz","Garanz","Baranz",1,!0),a(o.SinowBeat,"Sinow Beat","Sinow Beat","Sinow Blue",1,!0),a(o.SinowGold,"Sinow Gold","Sinow Gold","Sinow Red",1,!0),a(o.Canadine,"Canadine","Canadine","Canabin",1,!0),a(o.Canane,"Canane","Canane","Canune",1,!0),a(o.Dubswitch,"Dubswitch","Dubswitch","Dubswitch",1,!0),a(o.VolOpt,"Vol Opt","Vol Opt","Vol Opt ver.2",1,!0),a(o.Delsaber,"Delsaber","Delsaber","Delsaber",1,!0),a(o.ChaosSorcerer,"Chaos Sorcerer","Chaos Sorcerer","Gran Sorcerer",1,!0),a(o.DarkGunner,"Dark Gunner","Dark Gunner","Dark Gunner",1,!0),a(o.DeathGunner,"Death Gunner","Death Gunner","Death Gunner",1,!0),a(o.ChaosBringer,"Chaos Bringer","Chaos Bringer","Dark Bringer",1,!0),a(o.DarkBelra,"Dark Belra","Dark Belra","Indi Belra",1,!0),a(o.Dimenian,"Dimenian","Dimenian","Arlan",1,!0),a(o.LaDimenian,"La Dimenian","La Dimenian","Merlan",1,!0),a(o.SoDimenian,"So Dimenian","So Dimenian","Del-D",1,!0),a(o.Bulclaw,"Bulclaw","Bulclaw","Bulclaw",1,!0),a(o.Bulk,"Bulk","Bulk","Bulk",1,!0),a(o.Claw,"Claw","Claw","Claw",1,!0),a(o.DarkFalz,"Dark Falz","Dark Falz","Dark Falz",1,!0),a(o.Hildebear2,"Hildebear (Ep. II)","Hildebear","Hildelt",2,!0,o.Hildeblue2),a(o.Hildeblue2,"Hildeblue (Ep. II)","Hildeblue","Hildetorr",2,!0),a(o.RagRappy2,"Rag Rappy (Ep. II)","Rag Rappy","El Rappy",2,!0,o.LoveRappy),a(o.LoveRappy,"Love Rappy","Love Rappy","Love Rappy",2,!0),a(o.StRappy,"St. Rappy","St. Rappy","St. Rappy",2,!0),a(o.HalloRappy,"Hallo Rappy","Hallo Rappy","Hallo Rappy",2,!0),a(o.EggRappy,"Egg Rappy","Egg Rappy","Egg Rappy",2,!0),a(o.Monest2,"Monest (Ep. II)","Monest","Mothvist",2,!0),a(o.Mothmant2,"Mothmant","Mothmant","Mothvert",2,!0),a(o.PoisonLily2,"Poison Lily (Ep. II)","Poison Lily","Ob Lily",2,!0,o.NarLily2),a(o.NarLily2,"Nar Lily (Ep. II)","Nar Lily","Mil Lily",2,!0),a(o.GrassAssassin2,"Grass Assassin (Ep. II)","Grass Assassin","Crimson Assassin",2,!0),a(o.Dimenian2,"Dimenian (Ep. II)","Dimenian","Arlan",2,!0),a(o.LaDimenian2,"La Dimenian (Ep. II)","La Dimenian","Merlan",2,!0),a(o.SoDimenian2,"So Dimenian (Ep. II)","So Dimenian","Del-D",2,!0),a(o.DarkBelra2,"Dark Belra (Ep. II)","Dark Belra","Indi Belra",2,!0),a(o.BarbaRay,"Barba Ray","Barba Ray","Barba Ray",2,!0),a(o.SavageWolf2,"Savage Wolf (Ep. II)","Savage Wolf","Gulgus",2,!0),a(o.BarbarousWolf2,"Barbarous Wolf (Ep. II)","Barbarous Wolf","Gulgus-Gue",2,!0),a(o.PanArms2,"Pan Arms (Ep. II)","Pan Arms","Pan Arms",2,!0),a(o.Migium2,"Migium (Ep. II)","Migium","Migium",2,!0),a(o.Hidoom2,"Hidoom (Ep. II)","Hidoom","Hidoom",2,!0),a(o.Dubchic2,"Dubchic (Ep. II)","Dubchic","Dubchich",2,!0),a(o.Gilchic2,"Gilchic (Ep. II)","Gilchic","Gilchich",2,!0),a(o.Garanz2,"Garanz (Ep. II)","Garanz","Baranz",2,!0),a(o.Dubswitch2,"Dubswitch (Ep. II)","Dubswitch","Dubswitch",2,!0),a(o.Delsaber2,"Delsaber (Ep. II)","Delsaber","Delsaber",2,!0),a(o.ChaosSorcerer2,"Chaos Sorcerer (Ep. II)","Chaos Sorcerer","Gran Sorcerer",2,!0),a(o.GolDragon,"Gol Dragon","Gol Dragon","Gol Dragon",2,!0),a(o.SinowBerill,"Sinow Berill","Sinow Berill","Sinow Berill",2,!0),a(o.SinowSpigell,"Sinow Spigell","Sinow Spigell","Sinow Spigell",2,!0),a(o.Merillia,"Merillia","Merillia","Merillia",2,!0),a(o.Meriltas,"Meriltas","Meriltas","Meriltas",2,!0),a(o.Mericarol,"Mericarol","Mericarol","Mericarol",2,!0),a(o.Mericus,"Mericus","Mericus","Mericus",2,!0),a(o.Merikle,"Merikle","Merikle","Merikle",2,!0),a(o.UlGibbon,"Ul Gibbon","Ul Gibbon","Ul Gibbon",2,!0),a(o.ZolGibbon,"Zol Gibbon","Zol Gibbon","Zol Gibbon",2,!0),a(o.Gibbles,"Gibbles","Gibbles","Gibbles",2,!0),a(o.Gee,"Gee","Gee","Gee",2,!0),a(o.GiGue,"Gi Gue","Gi Gue","Gi Gue",2,!0),a(o.IllGill,"Ill Gill","Ill Gill","Ill Gill",2,!0),a(o.DelLily,"Del Lily","Del Lily","Del Lily",2,!0),a(o.Epsilon,"Epsilon","Epsilon","Epsilon",2,!0),a(o.GalGryphon,"Gal Gryphon","Gal Gryphon","Gal Gryphon",2,!0),a(o.Deldepth,"Deldepth","Deldepth","Deldepth",2,!0),a(o.Delbiter,"Delbiter","Delbiter","Delbiter",2,!0),a(o.Dolmolm,"Dolmolm","Dolmolm","Dolmolm",2,!0),a(o.Dolmdarl,"Dolmdarl","Dolmdarl","Dolmdarl",2,!0),a(o.Morfos,"Morfos","Morfos","Morfos",2,!0),a(o.Recobox,"Recobox","Recobox","Recobox",2,!0),a(o.Recon,"Recon","Recon","Recon",2,!0),a(o.SinowZoa,"Sinow Zoa","Sinow Zoa","Sinow Zoa",2,!0),a(o.SinowZele,"Sinow Zele","Sinow Zele","Sinow Zele",2,!0),a(o.OlgaFlow,"Olga Flow","Olga Flow","Olga Flow",2,!0),a(o.SandRappy,"Sand Rappy","Sand Rappy","Sand Rappy",4,!0,o.DelRappy),a(o.DelRappy,"Del Rappy","Del Rappy","Del Rappy",4,!0),a(o.Astark,"Astark","Astark","Astark",4,!0),a(o.SatelliteLizard,"Satellite Lizard","Satellite Lizard","Satellite Lizard",4,!0),a(o.Yowie,"Yowie","Yowie","Yowie",4,!0),a(o.MerissaA,"Merissa A","Merissa A","Merissa A",4,!0,o.MerissaAA),a(o.MerissaAA,"Merissa AA","Merissa AA","Merissa AA",4,!0),a(o.Girtablulu,"Girtablulu","Girtablulu","Girtablulu",4,!0),a(o.Zu,"Zu","Zu","Zu",4,!0,o.Pazuzu),a(o.Pazuzu,"Pazuzu","Pazuzu","Pazuzu",4,!0),a(o.Boota,"Boota","Boota","Boota",4,!0),a(o.ZeBoota,"Ze Boota","Ze Boota","Ze Boota",4,!0),a(o.BaBoota,"Ba Boota","Ba Boota","Ba Boota",4,!0),a(o.Dorphon,"Dorphon","Dorphon","Dorphon",4,!0,o.DorphonEclair),a(o.DorphonEclair,"Dorphon Eclair","Dorphon Eclair","Dorphon Eclair",4,!0),a(o.Goran,"Goran","Goran","Goran",4,!0),a(o.PyroGoran,"Pyro Goran","Pyro Goran","Pyro Goran",4,!0),a(o.GoranDetonator,"Goran Detonator","Goran Detonator","Goran Detonator",4,!0),a(o.SaintMilion,"Saint-Milion","Saint-Milion","Saint-Milion",4,!0,o.Kondrieu),a(o.Shambertin,"Shambertin","Shambertin","Shambertin",4,!0,o.Kondrieu),a(o.Kondrieu,"Kondrieu","Kondrieu","Kondrieu",4,!0)},sv1z:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("sDu+"),o=i("FXpb");i("6MRE");const s=i("jJhE"),r=i("KVVN"),a=i("4VsB"),d=i("LSoc");class l extends n.LabelledControl{constructor(e,t,i){const n=o.el.div({class:"core_Select"}),u=new r.Button(" ",{icon_right:o.Icon.TriangleDown}),c=new d.Menu(e,t,n);super(n,i),this.preferred_label_position="left",this.to_label=t,this.button=this.disposable(u),this.menu=this.disposable(c),this.element.append(this.button.element,this.menu.element),this._selected=new a.WidgetProperty(this,void 0,this.set_selected),this.selected=this._selected,this.just_opened=!1,this.disposables(o.disposable_listener(u.element,"mousedown",e=>this.button_mousedown(e)),u.mouseup.observe(()=>this.button_mouseup()),this.menu.selected.observe(({value:e})=>this._selected.set_val(e,{silent:!1}))),i&&(s.is_any_property(i.selected)?this.selected.bind_to(i.selected):i.selected&&(this.selected.val=i.selected)),this.finalize_construction(l.prototype)}set_enabled(e){super.set_enabled(e),this.button.enabled.val=e}set_selected(e){this.button.text.val=e?this.to_label(e):" ",this.menu.selected.val=e}button_mousedown(e){e.stopPropagation(),this.just_opened=!this.menu.visible.val,this.menu.visible.val=!0}button_mouseup(){this.just_opened?this.menu.focus():this.menu.visible.val=!1,this.just_opened=!1}}t.Select=l},t2oB:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CharacterClassAnimationModel=class{constructor(e,t){this.id=e,this.name=t}}},tRdk:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("Womt");t.vec3_to_threejs=function(e){return new n.Vector3(e.x,e.y,e.z)}},tjEv:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ResizableBuffer=class{constructor(e=8192){this._size=0,this._buffer=new ArrayBuffer(e),this._data_view=new DataView(this._buffer)}get size(){return this._size}set size(e){if(e<0)throw new Error("Size should be non-negative.");this.ensure_capacity(e),this._size=e}get capacity(){return this._buffer.byteLength}get backing_buffer(){return this._buffer}get view(){return this._data_view}sub_view(e,t){return new DataView(this._buffer,e,t)}ensure_capacity(e){if(e>this.capacity){let t=this.capacity||e;do{t*=2}while(t<e);const i=new ArrayBuffer(t);new Uint8Array(i).set(new Uint8Array(this._buffer,0,this.size)),this._buffer=i,this._data_view=new DataView(this._buffer)}}}},tyuj:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,s){function r(e){try{d(n.next(e))}catch(e){s(e)}}function a(e){try{d(n.throw(e))}catch(e){s(e)}}function d(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(r,a)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=i("NRxM"),s=i("bcBH"),r=i("VwSi"),a=i("kwt4"),d=i("9fJw"),l=i("t2oB"),u=i("Sa3/"),c=i("ouMO"),_=i("7CyS"),p=i("yub1"),v=i("karJ"),h=i("GGSb").get("viewer/stores/ModelStore"),w=new Map,f=new Map;class m{constructor(){this.models=[new d.CharacterClassModel("HUmar",1,10,new Set([6])),new d.CharacterClassModel("HUnewearl",1,10,new Set),new d.CharacterClassModel("HUcast",5,0,new Set),new d.CharacterClassModel("HUcaseal",5,0,new Set),new d.CharacterClassModel("RAmar",1,10,new Set([0,1,2,3,4,5,6,7,8,9])),new d.CharacterClassModel("RAmarl",1,10,new Set([0,1,2,3,4,5,6,7,8,9])),new d.CharacterClassModel("RAcast",5,0,new Set),new d.CharacterClassModel("RAcaseal",5,0,new Set),new d.CharacterClassModel("FOmar",1,10,new Set([0,1,2,3,4,5,6,7,8,9])),new d.CharacterClassModel("FOmarl",1,10,new Set([0,1,2,3,4,5,6,7,8,9])),new d.CharacterClassModel("FOnewm",1,10,new Set([0,1,2,3,4,5,6,7,8,9])),new d.CharacterClassModel("FOnewearl",1,10,new Set([0,1,2,3,4,5,6,7,8,9]))],this.animations=new Array(572).fill(void 0).map((e,t)=>new l.CharacterClassAnimationModel(t,`Animation ${t+1}`)),this.current_model=c.property(void 0),this._current_nj_data=c.property(void 0),this.current_nj_data=this._current_nj_data,this._current_xvm=c.property(void 0),this.current_xvm=this._current_xvm,this.show_skeleton=c.property(!1),this.current_animation=c.property(void 0),this._current_nj_motion=c.property(void 0),this.current_nj_motion=this._current_nj_motion,this.animation_playing=c.property(!0),this.animation_frame_rate=c.property(_.PSO_FRAME_RATE),this.animation_frame=c.property(0),this.animation_frame_count=this.current_nj_motion.map(e=>e?e.frame_count:0),this.disposables=[],this.load_file=e=>n(this,void 0,void 0,function*(){try{const t=yield u.read_file(e),i=new o.ArrayBufferCursor(t,s.Endianness.Little);if(e.name.endsWith(".nj")){this.current_model.val=void 0;const e=a.parse_nj(i)[0];this.set_current_nj_data({nj_object:e,bone_count:e.bone_count(),has_skeleton:!0})}else if(e.name.endsWith(".xj")){this.current_model.val=void 0;const e=a.parse_xj(i)[0];this.set_current_nj_data({nj_object:e,bone_count:0,has_skeleton:!1})}else if(e.name.endsWith(".njm")){this.current_animation.val=void 0,this._current_nj_motion.val=void 0;const e=this.current_nj_data.val;e&&(this.animation_playing.val=!0,this._current_nj_motion.val=r.parse_njm(i,e.bone_count))}else e.name.endsWith(".xvm")?this.current_model&&(this._current_xvm.val=p.parse_xvm(i)):h.error(`Unknown file extension in filename "${e.name}".`)}catch(e){h.error("Couldn't read file.",e)}}),this.load_model=e=>n(this,void 0,void 0,function*(){if(this.current_animation.val=void 0,e){const t=yield this.get_nj_object(e);this.set_current_nj_data({nj_object:t,bone_count:e?64:t.bone_count(),has_skeleton:!0})}else this._current_nj_data.val=void 0}),this.load_animation=e=>n(this,void 0,void 0,function*(){const t=this.current_nj_data.val;t&&e?(this._current_nj_motion.val=yield this.get_nj_motion(e,t.bone_count),this.animation_playing.val=!0):this._current_nj_motion.val=void 0}),this.disposables.push(this.current_model.observe(({value:e})=>this.load_model(e)),this.current_animation.observe(({value:e})=>this.load_animation(e)))}dispose(){this.disposables.forEach(e=>e.dispose())}set_current_nj_data(e){this._current_xvm.val=void 0,this._current_nj_data.val=e}get_nj_object(e){return n(this,void 0,void 0,function*(){let t=w.get(e.name);return t||(t=this.get_all_nj_objects(e),w.set(e.name,t),t)})}get_all_nj_objects(e){return n(this,void 0,void 0,function*(){const t=yield v.get_character_class_data(e.name,"Body"),i=a.parse_nj(new o.ArrayBufferCursor(t,s.Endianness.Little))[0];if(!i)throw new Error(`Couldn't parse body for player class ${e.name}.`);const n=yield v.get_character_class_data(e.name,"Head",0),r=a.parse_nj(new o.ArrayBufferCursor(n,s.Endianness.Little))[0];if(r&&this.add_to_bone(i,r,59),e.hair_styles_count>0){const t=yield v.get_character_class_data(e.name,"Hair",0),n=a.parse_nj(new o.ArrayBufferCursor(t,s.Endianness.Little))[0];if(n&&this.add_to_bone(i,n,59),e.hair_styles_with_accessory.has(0)){const t=yield v.get_character_class_data(e.name,"Accessory",0),n=a.parse_nj(new o.ArrayBufferCursor(t,s.Endianness.Little))[0];n&&this.add_to_bone(i,n,59)}}return i})}add_to_bone(e,t,i){const n=e.get_bone(i);n&&(n.evaluation_flags.hidden=!1,n.evaluation_flags.break_child_trace=!1,n.children.push(t))}get_nj_motion(e,t){return n(this,void 0,void 0,function*(){let i=f.get(e.id);return i||(i=v.get_character_class_animation_data(e.id).then(e=>r.parse_njm(new o.ArrayBufferCursor(e,s.Endianness.Little),t)),f.set(e.id,i),i)})}}t.Model3DStore=m,t.model_store=new m},uaZj:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("kiqn");t.QuestObjectModel=class extends n.QuestEntityModel{constructor(e,t,i,n,o,s,r,a,d){super(e,n,o,s,r),this.id=t,this.group_id=i,this.properties=a,this.unknown=d}}},uiJh:function(e,t,i){"use strict";function n(e){const t=Object.values(e),i=t.filter(e=>"number"==typeof e);return i.length?i:t}Object.defineProperty(t,"__esModule",{value:!0}),t.enum_values=n;t.EnumMap=class{constructor(e,t){this.values=new Map,this.keys=n(e);for(const e of this.keys)this.values.set(e,t(e))}get(e){return this.values.get(e)}}},upFJ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SimpleQuestModel=class{constructor(e,t,i,n){if(this.id=e,this.name=t,this.episode=i,this.enemy_counts=n,!e)throw new Error("id is required.");if(!t)throw new Error("name is required.");if(!n)throw new Error("enemyCounts is required.")}}},v2aa:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i("ouMO"),s=i("xs7i"),r=n(i("GGSb")),a=i("4Mnx"),d=r.default.get("quest_editor/model/QuestModel");t.QuestModel=class{constructor(e,t,i,n,r,l,u,c,_,p,v,h){if(this._id=o.property(0),this._language=o.property(0),this._name=o.property(""),this._short_description=o.property(""),this._long_description=o.property(""),this._area_variants=o.list_property(),this.update_area_variants=()=>{const e=new Map;for(const t of this.entities_per_area.val.keys())try{e.set(t,a.area_store.get_variant(this.episode,t,0))}catch(e){d.warn(e)}for(const[t,i]of this.map_designations.val)try{e.set(t,a.area_store.get_variant(this.episode,t,i))}catch(e){d.warn(e)}this._area_variants.val=[...e.values()]},s.check_episode(l),!u)throw new Error("map_designations is required.");if(!Array.isArray(c))throw new Error("objs is required.");if(!Array.isArray(_))throw new Error("npcs is required.");if(!Array.isArray(p))throw new Error("dat_unknowns is required.");if(!Array.isArray(v))throw new Error("object_code is required.");if(!Array.isArray(h))throw new Error("shop_items is required.");this.id=this._id,this.language=this._language,this.name=this._name,this.short_description=this._short_description,this.long_description=this._long_description,this.area_variants=this._area_variants,this.set_id(e),this.set_language(t),this.set_name(i),this.set_short_description(n),this.set_long_description(r),this.episode=l,this._map_designations=o.property(u),this.map_designations=this._map_designations,this.objects=o.list_property(void 0,...c),this.npcs=o.list_property(void 0,..._),this.dat_unknowns=p,this.object_code=v,this.shop_items=h,this.entities_per_area=o.map((e,t)=>{const i=new Map;for(const t of e)i.set(t.area_id,(i.get(t.area_id)||0)+1);for(const e of t)i.set(e.area_id,(i.get(e.area_id)||0)+1);return i},this.npcs,this.objects),this.entities_per_area.observe(this.update_area_variants),this.map_designations.observe(this.update_area_variants)}set_id(e){if(e<0)throw new Error(`id should be greater than or equal to 0, was ${e}.`);return this._id.val=e,this}set_language(e){if(e<0)throw new Error(`language should be greater than or equal to 0, was ${e}.`);return this._language.val=e,this}set_name(e){if(e.length>32)throw new Error(`name can't be longer than 32 characters, got "${e}".`);return this._name.val=e,this}set_short_description(e){if(e.length>128)throw new Error(`short_description can't be longer than 128 characters, got "${e}".`);return this._short_description.val=e,this}set_long_description(e){if(e.length>288)throw new Error(`long_description can't be longer than 288 characters, got "${e}".`);return this._long_description.val=e,this}set_map_designations(e){return this._map_designations.val=e,this}}},vM2b:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("Womt");t.GeometryBuilder=class{constructor(){this.positions=[],this.normals=[],this.uvs=[],this.indices=[],this.bones=[],this.bone_indices=[],this.bone_weights=[],this.groups=[],this.material_indices=new Set([-1])}get vertex_count(){return this.positions.length/3}get index_count(){return this.indices.length}get_position(e){return new n.Vector3(this.positions[3*e],this.positions[3*e+1],this.positions[3*e+2])}get_normal(e){return new n.Vector3(this.normals[3*e],this.normals[3*e+1],this.normals[3*e+2])}add_vertex(e,t,i){this.positions.push(e.x,e.y,e.z),this.normals.push(t.x,t.y,t.z),this.uvs.push(i.x,i.y)}add_index(e){this.indices.push(e)}add_bone(e){this.bones.push(e)}add_bone_weight(e,t){this.bone_indices.push(e),this.bone_weights.push(t)}add_group(e,t,i){const n=this.groups[this.groups.length-1],o=null==i?-1:i;n&&n.material_index===o?n.size+=t:(this.groups.push({offset:e,size:t,material_index:o}),this.material_indices.add(o))}build(){const e=new n.BufferGeometry,t=e.userData;t.created_by_geometry_builder=!0,e.addAttribute("position",new n.Float32BufferAttribute(this.positions,3)),e.addAttribute("normal",new n.Float32BufferAttribute(this.normals,3)),e.addAttribute("uv",new n.Float32BufferAttribute(this.uvs,2)),e.setIndex(new n.Uint16BufferAttribute(this.indices,1)),this.bone_indices.length&&this.bones.length?(e.addAttribute("skinIndex",new n.Uint16BufferAttribute(this.bone_indices,4)),e.addAttribute("skinWeight",new n.Float32BufferAttribute(this.bone_weights,4)),t.bones=this.bones):t.bones=[];const i=new Map;let o=0;for(const e of[...this.material_indices].sort((e,t)=>e-t))i.set(e,o++);for(const t of this.groups)e.addGroup(t.offset,t.size,i.get(t.material_index));return t.normalized_material_indices=i,e.computeBoundingSphere(),e.computeBoundingBox(),e}}},vsj6:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,s){function r(e){try{d(n.next(e))}catch(e){s(e)}}function a(e){try{d(n.throw(e))}catch(e){s(e)}}function d(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(r,a)}d((n=n.apply(e,t||[])).next())})},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const s=i("HjM1");class r extends s.TabContainer{constructor(){super({class:"viewer_ViewerView",tabs:[{title:"Models",key:"model",create_view:function(){return n(this,void 0,void 0,function*(){return new((yield Promise.resolve().then(()=>o(i("Hdaq")))).Model3DView)})}},{title:"Textures",key:"texture",create_view:function(){return n(this,void 0,void 0,function*(){return new((yield Promise.resolve().then(()=>o(i("Za3H")))).TextureView)})}}]}),this.finalize_construction(r.prototype)}}t.ViewerView=r},"w+Lt":function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,s){function r(e){try{d(n.next(e))}catch(e){s(e)}}function a(e){try{d(n.throw(e))}catch(e){s(e)}}function d(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(r,a)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=i("G+UN"),s=i("yfUv"),r=i("nowp"),a="HuntOptimizerStore.wantedItems";t.hunt_optimizer_persister=new class extends s.Persister{persist_wanted_items(e,t){this.persist_for_server(e,a,t.map(({item_type:e,amount:t})=>({itemTypeId:e.id,amount:t.val})))}load_wanted_items(e){return n(this,void 0,void 0,function*(){const t=yield o.item_type_stores.get(e),i=yield this.load_for_server(e,a),n=[];if(i)for(const{itemTypeId:e,itemKindId:o,amount:s}of i){const i=null!=e?t.get_by_id(e):t.get_by_id(o);i&&n.push(new r.WantedItemModel(i,s))}return n})}}},w6HN:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("TRid"),o=i("FXpb");i("IQIM");const s=i("sDu+");class r extends n.Widget{constructor(e){if(super(o.create_element("div",{class:"core_ToolBar"}),e),this.height=33,this.element.style.height=`${this.height}px`,e&&e.children)for(const t of e.children)if(t instanceof s.LabelledControl&&t.label){const e=o.create_element("div",{class:"core_ToolBar_group"});"left"===t.preferred_label_position||"top"===t.preferred_label_position?e.append(t.label.element,t.element):e.append(t.element,t.label.element),this.element.append(e)}else this.element.append(t.element),this.disposable(t);this.finalize_construction(r.prototype)}}t.ToolBar=r},x4IQ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.QuestEditAction=class{constructor(e,t){this.quest=e,this.new=t.value,this.old=t.old_value}}},x4QM:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("ouMO");t.WeaponItemType=class{constructor(e,t,i,n,o,s,r){this.id=e,this.name=t,this.min_atp=i,this.max_atp=n,this.ata=o,this.max_grind=s,this.required_atp=r}};t.ArmorItemType=class{constructor(e,t,i,n,o,s,r,a,d,l,u){this.id=e,this.name=t,this.atp=i,this.ata=n,this.min_evp=o,this.max_evp=s,this.min_dfp=r,this.max_dfp=a,this.mst=d,this.hp=l,this.lck=u}};t.ShieldItemType=class{constructor(e,t,i,n,o,s,r,a,d,l,u){this.id=e,this.name=t,this.atp=i,this.ata=n,this.min_evp=o,this.max_evp=s,this.min_dfp=r,this.max_dfp=a,this.mst=d,this.hp=l,this.lck=u}};t.UnitItemType=class{constructor(e,t){this.id=e,this.name=t}};t.ToolItemType=class{constructor(e,t){this.id=e,this.name=t}};t.WeaponItem=class{constructor(e){this.type=e,this._attribute=n.property(0),this.attribute=this._attribute,this._hit=n.property(0),this.hit=this._hit,this._grind=n.property(0),this.grind=this._grind,this.grind_atp=this.grind.map(e=>2*e)}};t.ArmorItem=class{constructor(e){this.type=e}};t.ShieldItem=class{constructor(e){this.type=e}};t.UnitItem=class{constructor(e){this.type=e}};t.ToolItem=class{constructor(e){this.type=e}}},xpi7:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("Womt"),o=i("+oIp"),s=i("sZ1+"),r=i("Eqai");var a;function d(e,t,i,o,s){const a=new n.MeshLambertMaterial({color:o,side:n.DoubleSide}),d=r.create_mesh(t,i.length?i.map(e=>new n.MeshLambertMaterial({map:e,side:n.DoubleSide,alphaTest:.5})):a,a);d.name=s,d.userData.entity=e;const{x:l,y:u,z:c}=e.world_position.val;d.position.set(l,u,c);const _=e.rotation.val;return d.rotation.set(_.x,_.y,_.z),d}!function(e){e[e.Normal=0]="Normal",e[e.Hovered=1]="Hovered",e[e.Selected=2]="Selected"}(a=t.ColorType||(t.ColorType={})),t.OBJECT_COLORS=[],t.OBJECT_COLORS[a.Normal]=16776960,t.OBJECT_COLORS[a.Hovered]=16768831,t.OBJECT_COLORS[a.Selected]=16755200,t.NPC_COLORS=[],t.NPC_COLORS[a.Normal]=16711680,t.NPC_COLORS[a.Hovered]=16727903,t.NPC_COLORS[a.Selected]=16711764,t.create_object_mesh=function(e,i,n){return d(e,i,n,t.OBJECT_COLORS[a.Normal],o.ObjectType[e.type])},t.create_npc_mesh=function(e,i,n){return d(e,i,n,t.NPC_COLORS[a.Normal],s.NpcType[e.type])}},xs7i:function(e,t,i){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.I=1]="I",e[e.II=2]="II",e[e.IV=4]="IV"}(n=t.Episode||(t.Episode={})),t.EPISODES=[n.I,n.II,n.IV],t.check_episode=function(e){if(null==n[e])throw new Error(`Invalid episode ${e}.`)}},xyE7:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("nN8q"),o=i("FXpb"),s=i("c5EP"),r=i("sZ1+");i("5sDa");const a=i("5aKR");class d extends n.ResizableWidget{constructor(){super(o.el.div({class:"quest_editor_NpcCountsView"})),this.table_element=o.el.table(),this.no_quest_view=new a.DisabledView("No quest loaded."),this.element.append(this.table_element,this.no_quest_view.element);const e=s.quest_editor_store.current_quest,t=e.map(e=>null==e);this.bind_hidden(this.table_element,t),this.disposables(this.no_quest_view.visible.bind_to(t),e.observe(({value:e})=>this.update_view(e),{call_now:!0})),this.finalize_construction(d.prototype)}update_view(e){const t=document.createDocumentFragment(),i=new Map;if(e)for(const t of e.npcs.val){const e=i.get(t.type)||0;i.set(t.type,e+1)}const n=8*(i.get(r.NpcType.Canane)||0),s=[...i].sort((e,t)=>e[0]-t[0]);for(const[e,i]of s){const s=e===r.NpcType.Canadine?n:0;t.append(o.el.tr({},o.el.th({text:r.npc_data(e).name+":"}),o.el.td({text:String(i+s)})))}this.table_element.innerHTML="",this.table_element.append(t)}}t.NpcCountsView=d},y42t:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("yRp4"),o=i("kwt4"),s=i("4mUz");function r(e,t,i){const n=[];for(let s=0;s<i;s++){e.seek_start(t+16*s);let i=e.u32();e.seek(8),4&e.u32()&&(i=e.seek_start(i).u32()),e.seek_start(i),n.push(...o.parse_xj_object(e))}return n}t.parse_area_geometry=function(e){const t=[];e.seek_end(16);const{data_offset:i}=s.parse_rel(e,!1);e.seek_start(i),e.seek(8);const a=e.u32();e.seek(4);const d=e.u32();for(let i=0;i<a;i++){e.seek_start(d+52*i);const s=e.i32(),a=e.vec3_f32(),l=new n.Vec3(e.u32()*o.ANGLE_TO_RAD,e.u32()*o.ANGLE_TO_RAD,e.u32()*o.ANGLE_TO_RAD);e.seek(4);const u=e.u32();e.seek(4);const c=e.u32(),_=r(e,u,c);t.push({id:s,position:a,rotation:l,objects:_})}return{sections:t}}},yAUo:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.NewAssembly=0]="NewAssembly",e[e.AssemblyChange=1]="AssemblyChange",e[e.SignatureHelp=2]="SignatureHelp"}(t.InputMessageType||(t.InputMessageType={})),function(e){e[e.NewObjectCode=0]="NewObjectCode",e[e.SignatureHelp=1]="SignatureHelp"}(t.OutputMessageType||(t.OutputMessageType={}))},yQqj:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("sZ1+"),o=i("+oIp");t.entity_type_to_string=function(e){return n.NpcType[e]||o.ObjectType[e]},t.entity_data=function(e){return n.npc_data(e)||o.object_data(e)}},yRp4:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e,t){this.x=e,this.y=t}set(e,t){return this.x=e,this.y=t,this}add(e){return this.x+=e.x,this.y+=e.y,this}clone(){return new n(this.x,this.y)}equals(e){return this.x===e.x&&this.y===e.y}}t.Vec2=n;class o{constructor(e,t,i){this.x=e,this.y=t,this.z=i}set(e,t,i){return this.x=e,this.y=t,this.z=i,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}clone(){return new o(this.x,this.y,this.z)}equals(e){return this.x===e.x&&this.y===e.y&&this.z===e.z}}t.Vec3=o},yWJ7:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("x4IQ");t.EditIdAction=class extends n.QuestEditAction{constructor(){super(...arguments),this.description="Edit ID"}undo(){this.quest.set_id(this.old)}redo(){this.quest.set_id(this.new)}}},yar8:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("TRid"),o=i("FXpb"),s=i("oxtq"),r=i("Tpfs");i("/KYB");const a=i("GGSb").get("core/gui/Table");var d;!function(e){e[e.Asc=0]="Asc",e[e.Desc=1]="Desc"}(d=t.SortDirection||(t.SortDirection={}));class l extends n.Widget{constructor(e){super(o.el.table({class:"core_Table"}),e),this.table_disposer=this.disposable(new r.Disposer),this.tbody_element=o.el.tbody(),this.update_table=e=>{e.type===s.ListChangeType.ListChange?(this.splice_rows(e.index,e.removed.length,e.inserted),this.update_footer()):(e.type,s.ListChangeType.ValueChange)},this.splice_rows=(e,t,i)=>{for(let i=0;i<t;i++)this.tbody_element.children[e].remove();this.table_disposer.dispose_at(e,t);const n=i.map((t,i)=>this.create_row(e+i,t));if(e>=this.tbody_element.childElementCount)this.tbody_element.append(...n);else for(let i=0;i<t;i++)this.tbody_element.children[e+i].insertAdjacentElement("beforebegin",n[i])},this.create_row=(e,t)=>{const i=this.table_disposer.add(new r.Disposer);let n=0;return o.el.tr({},...this.columns.map((s,r)=>{const d=s.fixed?o.el.th():o.el.td();try{const o=s.render_cell(t,i);d.append(o),s.input&&d.classList.add("input"),s.fixed&&(d.classList.add("fixed"),d.style.left=`${n}px`,n+=s.width||0),d.style.width=`${s.width}px`,s.text_align&&(d.style.textAlign=s.text_align),s.tooltip&&(d.title=s.tooltip(t))}catch(t){a.warn(`Error while rendering cell for index ${e}, column ${r}.`,t)}return d}))},this.values=e.values,this.columns=e.columns;let t=[];const i=o.el.thead(),n=o.el.tr();let u=0,c=!1;n.append(...this.columns.map((e,t)=>{const i=o.el.th({data:{index:t.toString()}},o.el.span({text:e.title}));return e.fixed&&(i.style.position="sticky",i.style.left=`${u}px`,u+=e.width),i.style.width=`${e.width}px`,e.footer&&(c=!0),i}));const _=e.sort;_&&(n.onmousedown=e=>{if(e.target instanceof HTMLElement){let i=e.target;for(let e=0;e<5&&!i.dataset.index;e++){if(!i.parentElement)return;i=i.parentElement}if(!i.dataset.index)return;const n=parseInt(i.dataset.index,10),o=this.columns[n];if(!o.sortable)return;const s=t.findIndex(e=>e.column===o);if(0===s){const e=t[0];e.direction=e.direction===d.Asc?d.Desc:d.Asc}else-1!==s&&t.splice(s,1),t.unshift({column:o,direction:d.Asc});_(t)}}),i.append(n),this.tbody_element=o.el.tbody(),this.element.append(i,this.tbody_element),c&&(this.footer_row_element=o.el.tr(),this.element.append(o.el.tfoot({},this.footer_row_element)),this.create_footer()),this.disposables(this.values.observe_list(this.update_table)),this.splice_rows(0,this.values.length.val,this.values.val),this.finalize_construction(l.prototype)}create_footer(){const e=[];let t=0;for(let i=0;i<this.columns.length;i++){const n=this.columns[i],s=o.el.th();s.style.width=`${n.width}px`,n.fixed&&(s.classList.add("fixed"),s.style.left=`${t}px`,t+=n.width||0),n.footer&&(s.textContent=n.footer.render_cell(),s.title=n.footer.tooltip?n.footer.tooltip():""),n.text_align&&(s.style.textAlign=n.text_align),e.push(s)}this.footer_row_element.append(...e)}update_footer(){if(!this.footer_row_element)return;const e=this.columns.length;for(let t=0;t<e;t++){const e=this.columns[t];if(e.footer){const i=this.footer_row_element.children[t];i.textContent=e.footer.render_cell(),i.title=e.footer.tooltip?e.footer.tooltip():""}}}}t.Table=l},yfUv:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,s){function r(e){try{d(n.next(e))}catch(e){s(e)}}function a(e){try{d(n.throw(e))}catch(e){s(e)}}function d(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(r,a)}d((n=n.apply(e,t||[])).next())})},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(i("GGSb")),r=i("nsCy"),a=s.default.get("core/persistence/Persister");t.Persister=class{persist_for_server(e,t,i){this.persist(this.server_key(e,t),i)}persist(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(t){a.error(`Couldn't persist ${e}.`,t)}}load_for_server(e,t){return n(this,void 0,void 0,function*(){return this.load(this.server_key(e,t))})}load(e){return n(this,void 0,void 0,function*(){try{const t=localStorage.getItem(e);return t&&JSON.parse(t)}catch(t){return void a.error(`Couldn't load ${e}.`,t)}})}server_key(e,t){let i=t+".";switch(e){case r.Server.Ephinea:i+="Ephinea";break;default:throw new Error(`Server ${r.Server[e]} not supported.`)}return i}}},yog5:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("nN8q"),o=i("FXpb"),s=i("c5EP"),r=i("xs7i"),a=i("PE7g"),d=i("Tpfs"),l=i("E/0a"),u=i("ETgL");i("6kD0");const c=i("5aKR");class _ extends n.ResizableWidget{constructor(){super(o.el.div({class:"quest_editor_QuesInfoView",tab_index:-1})),this.table_element=o.el.table(),this.id_input=this.disposable(new a.NumberInput),this.name_input=this.disposable(new l.TextInput("",{max_length:32})),this.short_description_input=this.disposable(new u.TextArea("",{max_length:128,font_family:'"Courier New", monospace',cols:25,rows:5})),this.long_description_input=this.disposable(new u.TextArea("",{max_length:288,font_family:'"Courier New", monospace',cols:25,rows:10})),this.no_quest_view=new c.DisabledView("No quest loaded."),this.quest_disposer=this.disposable(new d.Disposer);const e=s.quest_editor_store.current_quest,t=e.map(e=>null==e);this.table_element.append(o.el.tr({},o.el.th({text:"Episode:"}),this.episode_element=o.el.td()),o.el.tr({},o.el.th({text:"ID:"}),o.el.td({},this.id_input.element)),o.el.tr({},o.el.th({text:"Name:"}),o.el.td({},this.name_input.element)),o.el.tr({},o.el.th({text:"Short description:",col_span:2})),o.el.tr({},o.el.td({col_span:2},this.short_description_input.element)),o.el.tr({},o.el.th({text:"Long description:",col_span:2})),o.el.tr({},o.el.td({col_span:2},this.long_description_input.element))),this.bind_hidden(this.table_element,t),this.element.append(this.table_element,this.no_quest_view.element),this.element.addEventListener("focus",()=>s.quest_editor_store.undo.make_current(),!0),this.disposables(this.no_quest_view.visible.bind_to(t),e.observe(({value:e})=>{this.quest_disposer.dispose_all(),this.episode_element.textContent=e?r.Episode[e.episode]:"",e&&this.quest_disposer.add_all(this.id_input.value.bind_to(e.id),this.id_input.value.observe(s.quest_editor_store.push_edit_id_action),this.name_input.value.bind_to(e.name),this.name_input.value.observe(s.quest_editor_store.push_edit_name_action),this.short_description_input.value.bind_to(e.short_description),this.short_description_input.value.observe(s.quest_editor_store.push_edit_short_description_action),this.long_description_input.value.bind_to(e.long_description),this.long_description_input.value.observe(s.quest_editor_store.push_edit_long_description_action))})),this.finalize_construction(_.prototype)}}t.QuesInfoView=_},yub1:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(i("GGSb")),s=i("9Ykw"),r=o.default.get("data_formats/parsing/ninja/texture"),a=1213027928,d=1414682200;t.parse_xvm=function(e){const t=s.parse_iff(e),i=t.find(e=>e.type===a),n=i&&function(e){return{texture_count:e.u16()}}(i.data),o=t.filter(e=>e.type===d).map(e=>(function(e){const t=e.u32(),i=e.u32(),n=e.u32(),o=e.u16(),s=e.u16(),r=e.u32();e.seek(36);const a=e.array_buffer(r);return{id:n,format:[t,i],width:o,height:s,size:r,data:a}})(e.data));return n?n.texture_count!==o.length&&r.warn(`Found ${o.length} textures instead of ${n.texture_count} as defined in the header.`):r.warn("No header found."),{textures:o}}},yxQK:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("FXpb");i("pNch");const o=i("4SjJ"),s=i("TRid"),r=i("1z6m"),a=i("sv1z"),d=i("ouMO"),l=[[o.GuiTool.Viewer,"Viewer"],[o.GuiTool.QuestEditor,"Quest Editor"],[o.GuiTool.HuntOptimizer,"Hunt Optimizer"]];class u extends s.Widget{constructor(){super(n.el.div({class:"application_NavigationView"})),this.height=30,this.buttons=new Map(l.map(([e,t])=>[e,this.disposable(new r.NavigationButton(e,t))])),this.mark_tool_button=e=>{const t=this.buttons.get(e);t&&(t.checked=!0)},this.element.style.height=`${this.height}px`,this.element.onmousedown=this.mousedown;for(const e of this.buttons.values())this.element.append(e.element);this.element.append(n.el.div({class:"application_NavigationView_spacer"}));const e=this.disposable(new a.Select(d.property(["Ephinea"]),e=>e,{label:"Server:",enabled:!1,selected:"Ephinea",tooltip:"Only Ephinea is supported at the moment"}));this.element.append(n.el.span({class:"application_NavigationView_server"},e.label.element,e.element),n.el.a({class:"application_NavigationView_github",href:"https://github.com/DaanVandenBosch/phantasmal-world",title:"GitHub"},n.icon(n.Icon.GitHub))),this.mark_tool_button(o.gui_store.tool.val),this.disposable(o.gui_store.tool.observe(({value:e})=>this.mark_tool_button(e))),this.finalize_construction(u.prototype)}mousedown(e){e.target instanceof HTMLLabelElement&&e.target.control instanceof HTMLInputElement&&(o.gui_store.tool.val=o.GuiTool[e.target.control.value])}}t.NavigationView=u},zBQr:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,s){function r(e){try{d(n.next(e))}catch(e){s(e)}}function a(e){try{d(n.throw(e))}catch(e){s(e)}}function d(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(r,a)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=i("yfUv"),s=i("LvDl"),r="QuestEditorUiPersister.layout_config";class a extends o.Persister{constructor(){super(...arguments),this.persist_layout_config=s.throttle(e=>{this.persist(r,e)},500,{leading:!1,trailing:!0})}load_layout_config(e,t){return n(this,void 0,void 0,function*(){const i=yield this.load(r);return i&&this.verify_layout_config(i,e)?i:t})}verify_layout_config(e,t){const i=new Set(t);for(const t of e)if(!this.verify_layout_child(t,i,new Set,!0))return!1;return!0}verify_layout_child(e,t,i,n){if(!e)return!1;if("componentName"in e){if(!t.has(e.componentName))return!1;i.add(e.componentName)}if(e.content)for(const n of e.content)if(!this.verify_layout_child(n,t,i,!1))return!1;return!n||t.size===i.size}}t.QuestEditorUiPersister=a,t.quest_editor_ui_persister=new a}},[["/7QA",2,0,3]]]);