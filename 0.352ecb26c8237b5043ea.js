(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{456:function(t,i,s){"use strict";var e;s.d(i,"a",(function(){return e})),function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"}(e||(e={}))},462:function(t,i,s){"use strict";function e(t,i){return{success:!0,value:t,problems:null!=i?i:[]}}function r(t){return{success:!1,problems:null!=t?t:[]}}function n(t){if(t.success)return t.value;throw new Error(t.problems.join("\n"))}function o(t){return new h(t)}s.d(i,"c",(function(){return e})),s.d(i,"a",(function(){return r})),s.d(i,"d",(function(){return n})),s.d(i,"b",(function(){return o}));class h{constructor(t){this.logger=t,this.problems=[]}add_problem(t,i,s,e){return this.logger.log(t,s,e),this.problems.push({severity:t,ui_message:i}),this}add_result(t){return this.problems.push(...t.problems),this}success(t){return e(t,this.problems)}failure(){return r(this.problems)}}},468:function(t,i,s){"use strict";s.d(i,"a",(function(){return o}));var e=s(456),r=s(549);class n extends r.a{constructor(t,i){super(i),this.endianness=t}get endianness(){return this.little_endian?e.a.Little:e.a.Big}set endianness(t){this.little_endian=t===e.a.Little}u8(){this.check_size(1);const t=this.dv.getUint8(this.absolute_position);return this._position++,t}u16(){this.check_size(2);const t=this.dv.getUint16(this.absolute_position,this.little_endian);return this._position+=2,t}u32(){this.check_size(4);const t=this.dv.getUint32(this.absolute_position,this.little_endian);return this._position+=4,t}i8(){this.check_size(1);const t=this.dv.getInt8(this.absolute_position);return this._position++,t}i16(){this.check_size(2);const t=this.dv.getInt16(this.absolute_position,this.little_endian);return this._position+=2,t}i32(){this.check_size(4);const t=this.dv.getInt32(this.absolute_position,this.little_endian);return this._position+=4,t}f32(){this.check_size(4);const t=this.dv.getFloat32(this.absolute_position,this.little_endian);return this._position+=4,t}u8_array(t){this.check_size(t);const i=[];for(let s=0;s<t;++s)i.push(this.dv.getUint8(this.absolute_position)),this._position++;return i}u16_array(t){this.check_size(2*t);const i=[];for(let s=0;s<t;++s)i.push(this.dv.getUint16(this.absolute_position,this.little_endian)),this._position+=2;return i}u32_array(t){this.check_size(4*t);const i=[];for(let s=0;s<t;++s)i.push(this.dv.getUint32(this.absolute_position,this.little_endian)),this._position+=4;return i}i32_array(t){this.check_size(4*t);const i=[];for(let s=0;s<t;++s)i.push(this.dv.getInt32(this.absolute_position,this.little_endian)),this._position+=4;return i}array_buffer(t=this.size-this.position){this.check_size(t);const i=this.backing_buffer.slice(this.absolute_position,this.absolute_position+t);return this._position+=t,i}copy_to_uint8_array(t,i=this.size-this.position){return this.check_size(i),t.set(new Uint8Array(this.backing_buffer,this.absolute_position,i)),this._position+=i,this}write_u8(t){return this.check_size(1),this.dv.setUint8(this.absolute_position,t),this._position++,this}write_u16(t){return this.check_size(2),this.dv.setUint16(this.absolute_position,t,this.little_endian),this._position+=2,this}write_u32(t){return this.check_size(4),this.dv.setUint32(this.absolute_position,t,this.little_endian),this._position+=4,this}write_i8(t){return this.check_size(1),this.dv.setInt8(this.absolute_position,t),this._position++,this}write_i16(t){return this.check_size(2),this.dv.setInt16(this.absolute_position,t,this.little_endian),this._position+=2,this}write_i32(t){return this.check_size(4),this.dv.setInt32(this.absolute_position,t,this.little_endian),this._position+=4,this}write_f32(t){return this.check_size(4),this.dv.setFloat32(this.absolute_position,t,this.little_endian),this._position+=4,this}write_u8_array(t){return this.check_size(t.length),new Uint8Array(this.backing_buffer,this.absolute_position,t.length).set(new Uint8Array(t)),this._position+=t.length,this}write_cursor(t){const i=t.size-t.position;return this.check_size(i),t.copy_to_uint8_array(new Uint8Array(this.backing_buffer,this.absolute_position,i),i),this._position+=i,this}}class o extends n{constructor(t,i,s=0,e=t.byteLength-s){super(i,s),this._size=e,this.backing_buffer=t,this.dv=new DataView(t,0,t.byteLength)}get size(){return this._size}set size(t){if(t>this.backing_buffer.byteLength-this.offset)throw new Error(`Size ${t} is out of bounds.`);this._size=t}take(t){const i=this.offset+this.position,s=new o(this.backing_buffer,this.endianness,i,t);return this._position+=t,s}}},500:function(t,i,s){"use strict";s.d(i,"a",(function(){return r})),s.d(i,"b",(function(){return n}));var e=s(2);function r(t){return new Promise(i=>{var s,r;const n=Object(e.m)({type:"file"});n.accept=null!==(s=null==t?void 0:t.accept)&&void 0!==s?s:"",n.multiple=null!==(r=null==t?void 0:t.multiple)&&void 0!==r&&r,n.onchange=()=>{n.files&&n.files.length?i([...n.files]):i([])},n.click()})}function n(t){return new Promise((i,s)=>{const e=new FileReader;e.addEventListener("loadend",()=>{e.result instanceof ArrayBuffer?i(e.result):s(new Error("Couldn't read file."))}),e.readAsArrayBuffer(t)})}},511:function(t,i,s){"use strict";s.d(i,"a",(function(){return h})),s.d(i,"b",(function(){return u}));var e=s(462),r=s(23),n=s(27);const o=r.a.get("core/data_formats/parsing/iff");function h(t,i=!1){return _(t,i,[],(t,i,s)=>({type:i,data:t.take(s)}))}function u(t,i=!1){return _(t,i,[],(t,i,s)=>({type:i,size:s}))}function _(t,i,s,r){const h=Object(e.b)(o);let u=!1;for(;t.bytes_left>=8;){const e=t.u32(),o=t.position,_=t.u32();if(_>t.bytes_left){u=!0,i||h.add_problem(0===s.length?n.b.Error:n.b.Warning,"Invalid IFF format.",`Size ${_} was too large (only ${t.bytes_left} bytes left) at position ${o}.`);break}s.push(r(t,e,_))}return u&&0===s.length?h.failure():h.success(s)}},513:function(t,i,s){"use strict";s.d(i,"a",(function(){return r}));var e=s(549);class r extends e.a{constructor(t,i=0,s=t.size-i){if(i<0||i>t.size)throw new Error(`Offset ${i} is out of bounds.`);if(s<0||i+s>t.size)throw new Error(`Size ${s} is out of bounds.`);super(i),this.block=t,this._size=s}get size(){return this._size}set size(t){t>this._size?this.ensure_size(t-this.position):this._size=t}get endianness(){return this.block.endianness}set endianness(t){this.block.endianness=t}u8(){const t=this.block.get_u8(this.absolute_position);return this._position++,t}u16(){const t=this.block.get_u16(this.absolute_position);return this._position+=2,t}u32(){const t=this.block.get_u32(this.absolute_position);return this._position+=4,t}i8(){const t=this.block.get_i8(this.absolute_position);return this._position++,t}i16(){const t=this.block.get_i16(this.absolute_position);return this._position+=2,t}i32(){const t=this.block.get_i32(this.absolute_position);return this._position+=4,t}f32(){const t=this.block.get_f32(this.absolute_position);return this._position+=4,t}u8_array(t){this.check_size(t);const i=[];for(let s=0;s<t;++s)i.push(this.block.get_u8(this.absolute_position)),this._position++;return i}u16_array(t){this.check_size(2*t);const i=[];for(let s=0;s<t;++s)i.push(this.block.get_u16(this.absolute_position)),this._position+=2;return i}u32_array(t){this.check_size(4*t);const i=[];for(let s=0;s<t;++s)i.push(this.block.get_u32(this.absolute_position)),this._position+=4;return i}i32_array(t){this.check_size(4*t);const i=[];for(let s=0;s<t;++s)i.push(this.block.get_i32(this.absolute_position)),this._position+=4;return i}take(t){const i=this.absolute_position,s=new r(this.block,i,t);return this._position+=t,s}array_buffer(t=this.size-this.position){const i=this.block.get_array_buffer(this.absolute_position,t);return this._position+=t,i}copy_to_uint8_array(t,i=this.size-this.position){return t.set(this.block.uint8_view(this.absolute_position,i)),this._position+=i,this}write_u8(t){return this.ensure_size(1),this.block.set_u8(this.absolute_position,t),this._position++,this}write_u16(t){return this.ensure_size(2),this.block.set_u16(this.absolute_position,t),this._position+=2,this}write_u32(t){return this.ensure_size(4),this.block.set_u32(this.absolute_position,t),this._position+=4,this}write_i8(t){return this.ensure_size(1),this.block.set_i8(this.absolute_position,t),this._position++,this}write_i16(t){return this.ensure_size(2),this.block.set_i16(this.absolute_position,t),this._position+=2,this}write_i32(t){return this.ensure_size(4),this.block.set_i32(this.absolute_position,t),this._position+=4,this}write_f32(t){return this.ensure_size(4),this.block.set_f32(this.absolute_position,t),this._position+=4,this}write_u8_array(t){return this.ensure_size(t.length),super.write_u8_array(t)}write_u16_array(t){return this.ensure_size(2*t.length),super.write_u16_array(t)}write_u32_array(t){return this.ensure_size(4*t.length),super.write_u32_array(t)}write_i32_array(t){return this.ensure_size(4*t.length),super.write_i32_array(t)}write_vec2_f32(t){return this.ensure_size(8),super.write_vec2_f32(t)}write_vec3_f32(t){return this.ensure_size(12),super.write_vec3_f32(t)}write_cursor(t){const i=t.size-t.position;return this.ensure_size(i),t.copy_to_uint8_array(this.block.uint8_view(this.absolute_position,i),i),this._position+=i,this}write_string_ascii(t,i){return this.ensure_size(i),super.write_string_ascii(t,i)}write_string_utf16(t,i){return this.ensure_size(i),super.write_string_utf16(t,i)}ensure_size(t){const i=this._position+t-this._size;i>0&&(this._size+=i,this.block.size<this.offset+this._size&&(this.block.size=this.offset+this._size))}}},527:function(t,i,s){"use strict";s.d(i,"a",(function(){return n}));var e=s(456),r=s(659);class n extends r.a{constructor(t=8192,i=e.a.Little){super(i),this._size=0,this.buffer=new ArrayBuffer(t),this.data_view=new DataView(this.buffer)}get size(){return this._size}set size(t){if(t<0)throw new Error("Size should be non-negative.");this.ensure_capacity(t),this._size=t}get capacity(){return this.buffer.byteLength}ensure_capacity(t){if(t>this.capacity){let i=this.capacity||t;do{i*=2}while(i<t);const s=new ArrayBuffer(i);new Uint8Array(s).set(new Uint8Array(this.buffer,0,this.size)),this.buffer=s,this.data_view=new DataView(this.buffer)}}}},539:function(t,i,s){"use strict";s.d(i,"a",(function(){return a})),s.d(i,"b",(function(){return c}));var e=s(511),r=s(23),n=s(462),o=s(27);const h=r.a.get("core/data_formats/parsing/ninja/texture"),u=1213027928,_=1414682200;function a(t){const i=Object(e.b)(t,!0);return t.seek_start(0),i.success&&null!=i.value.find(t=>t.type===u||t.type===_)}function c(t){const i=Object(e.a)(t);if(!i.success)return i;const s=Object(n.b)(h);s.add_result(i);const r=i.value,a=r.find(t=>t.type===u),c=a&&function(t){return{texture_count:t.u16()}}(a.data),f=r.filter(t=>t.type===_).map(t=>(function(t){const i=t.u32(),s=t.u32(),e=t.u32(),r=t.u16(),n=t.u16(),o=t.u32();return t.seek(36),{id:e,format:[i,s],width:r,height:n,size:o,data:t.array_buffer(o)}})(t.data));return c||0!==f.length?(c&&c.texture_count!==f.length&&s.add_problem(o.b.Warning,"Corrupted XVM file.",`Found ${f.length} textures instead of ${c.texture_count} as defined in the header.`),s.success({textures:f})):(s.add_problem(o.b.Error,"Corrupted XVM file.","No header and no XVRT chunks found."),s.failure())}},549:function(t,i,s){"use strict";s.d(i,"a",(function(){return e}));class e{constructor(t){this._position=0,this.offset=t}get position(){return this._position}get bytes_left(){return this.size-this._position}get absolute_position(){return this.offset+this._position}seek(t){return this.seek_start(this.position+t)}seek_start(t){if(t<0||t>this.size)throw new Error(`Offset ${t} is out of bounds.`);return this._position=t,this}seek_end(t){if(t<0||t>this.size)throw new Error(`Offset ${t} is out of bounds.`);return this._position=this.size-t,this}vec2_f32(){return{x:this.f32(),y:this.f32()}}vec3_f32(){return{x:this.f32(),y:this.f32(),z:this.f32()}}string_ascii(t,i,s){const e=[];for(let r=0;r<t;r++){const n=this.u8();if(i&&0===n){s&&this.seek(t-r-1);break}e.push(n)}return String.fromCodePoint(...e)}string_utf16(t,i,s){const e=[],r=Math.floor(t/2);for(let t=0;t<r;t++){const n=this.u16();if(i&&0===n){s&&this.seek(2*(r-t-1));break}e.push(n)}return String.fromCodePoint(...e)}write_u8_array(t){const i=t.length;this.check_size(i);for(let s=0;s<i;s++)this.write_u8(t[s]);return this}write_u16_array(t){const i=t.length;this.check_size(2*i);for(let s=0;s<i;s++)this.write_u16(t[s]);return this}write_u32_array(t){const i=t.length;this.check_size(4*i);for(let s=0;s<i;s++)this.write_u32(t[s]);return this}write_i32_array(t){const i=t.length;this.check_size(4*i);for(let s=0;s<i;s++)this.write_i32(t[s]);return this}write_vec2_f32(t){return this.check_size(8),this.write_f32(t.x),this.write_f32(t.y),this}write_vec3_f32(t){return this.check_size(12),this.write_f32(t.x),this.write_f32(t.y),this.write_f32(t.z),this}write_string_ascii(t,i){this.check_size(i);const s=Math.min(i,t.length);for(let i=0;i<s;i++)this.write_u8(t.codePointAt(i));const e=i-s;for(let t=0;t<e;t++)this.write_u8(0);return this}write_string_utf16(t,i){this.check_size(i);const s=Math.floor(i/2),e=Math.min(s,t.length);for(let i=0;i<e;i++)this.write_u16(t.codePointAt(i));const r=s-e;for(let t=0;t<r;t++)this.write_u16(0);return this}check_size(t){const i=this.size-this._position;if(t>i)throw new Error(`${t} Bytes required but only ${i} available.`)}}},628:function(t,i,s){"use strict";s.d(i,"a",(function(){return a}));var e=s(513),r=s(527),n=s(23),o=s(40),h=s(691);const u=n.a.get("core/data_formats/compression/prs/decompress"),_=Object(h.a)();function a(t){return Object(o.f)()&&_?_.prs_decompress_wasm(t):function(t){const i=new c(t);for(;;)if(1===i.read_flag_bit())i.copy_u8();else{let t,s;if(0===i.read_flag_bit())t=i.read_flag_bit()<<1,t|=i.read_flag_bit(),t+=2,s=i.read_u8()-256;else{if(s=i.read_u16(),0===s)break;t=7&s,s>>>=3,0===t?(t=i.read_u8(),t+=1):t+=2,s-=8192}i.offset_copy(s,t)}return i.dst.seek_start(0)}(t)}class c{constructor(t){this.src=t,this.dst=new e.a(new r.a(Math.floor(1.5*t.size),t.endianness)),this.flags=0,this.flag_bits_left=0}read_flag_bit(){0===this.flag_bits_left&&(this.flags=this.read_u8(),this.flag_bits_left=8);const t=1&this.flags;return this.flags>>>=1,this.flag_bits_left-=1,t}copy_u8(){this.dst.write_u8(this.read_u8())}read_u8(){return this.src.u8()}read_u16(){return this.src.u16()}offset_copy(t,i){(t<-8192||t>0)&&u.error(`offset was ${t}, should be between -8192 and 0.`),(i<1||i>256)&&u.error(`length was ${i}, should be between 1 and 256.`);const s=Math.min(-t,i);this.dst.seek(t);const e=this.dst.take(s);this.dst.seek(-t-s);for(let t=0;t<Math.floor(i/s);++t)this.dst.write_cursor(e),e.seek_start(0);this.dst.write_cursor(e.take(i%s))}}},659:function(t,i,s){"use strict";s.d(i,"a",(function(){return r}));var e=s(456);class r{constructor(t){this.endianness=t}get endianness(){return this.little_endian?e.a.Little:e.a.Big}set endianness(t){this.little_endian=t===e.a.Little}get_u8(t){return this.check_offset(t,1),this.data_view.getUint8(t)}get_u16(t){return this.check_offset(t,2),this.data_view.getUint16(t,this.little_endian)}get_u32(t){return this.check_offset(t,4),this.data_view.getUint32(t,this.little_endian)}get_i8(t){return this.check_offset(t,1),this.data_view.getInt8(t)}get_i16(t){return this.check_offset(t,2),this.data_view.getInt16(t,this.little_endian)}get_i32(t){return this.check_offset(t,4),this.data_view.getInt32(t,this.little_endian)}get_f32(t){return this.check_offset(t,4),this.data_view.getFloat32(t,this.little_endian)}get_string_utf16(t,i,s){const e=[],r=Math.floor(i/2);for(let i=0;i<r;i++){const r=this.get_u16(t+2*i);if(s&&0===r)break;e.push(r)}return String.fromCodePoint(...e)}get_array_buffer(t,i){return this.check_offset(t,i),this.buffer.slice(t,t+i)}uint8_view(t,i){return this.check_offset(t,i),new Uint8Array(this.buffer,t,i)}set_u8(t,i){return this.check_offset(t,1),this.data_view.setUint8(t,i),this}set_u16(t,i){return this.check_offset(t,2),this.data_view.setUint16(t,i,this.little_endian),this}set_u32(t,i){return this.check_offset(t,4),this.data_view.setUint32(t,i,this.little_endian),this}set_i8(t,i){return this.check_offset(t,1),this.data_view.setInt8(t,i),this}set_i16(t,i){return this.check_offset(t,2),this.data_view.setInt16(t,i,this.little_endian),this}set_i32(t,i){return this.check_offset(t,4),this.data_view.setInt32(t,i,this.little_endian),this}set_f32(t,i){return this.check_offset(t,4),this.data_view.setFloat32(t,i,this.little_endian),this}zero(){return new Uint8Array(this.buffer).fill(0),this}check_offset(t,i){if(t<0||t+i>this.size)throw new Error(`Offset ${t} is out of bounds.`)}}},691:function(t,i,s){"use strict";s.d(i,"a",(function(){return u}));var e=s(40),r=s(468),n=s(456);class o{constructor(t){this.module=t}prs_compress_wasm(t){const i=new Uint8Array(t.array_buffer()),s=this.module.compress(i);return new r.a(s.buffer,n.a.Little,s.byteOffset,s.length)}prs_decompress_wasm(t){const i=new Uint8Array(t.array_buffer()),s=this.module.decompress(i);return new r.a(s.buffer,n.a.Little,s.byteOffset,s.length)}}let h=void 0;try{Object(e.f)()&&(h=new o(s(!function(){var t=new Error("Cannot find module 'prs-rs'");throw t.code="MODULE_NOT_FOUND",t}())))}catch(t){}function u(){return h}}}]);